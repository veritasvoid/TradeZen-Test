import{c as p,i as j,r as c,j as e,C as f,m as o}from"./index-DvESeNnY.js";import{u as v}from"./settingsStore-BjesMQdl.js";import{T as g}from"./trash-2-CzODT0Zm.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=p("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),C=()=>{const{settings:t,updateSettings:r}=v(),x=j(),[b,i]=c.useState(!1),[d,h]=c.useState(!1);c.useEffect(()=>{const s=localStorage.getItem("tradezen-settings");if(s)try{const a=JSON.parse(s);r(a)}catch(a){console.error("Failed to parse saved settings:",a)}},[]);const m=s=>{r(s);const a={...t,...s};localStorage.setItem("tradezen-settings",JSON.stringify(a))},u=async()=>{h(!0);const s="1ruzm5D-ofifAU7d5oRChBT7DAYFTlVLgULSsXvYEtXU";try{await window.gapi.client.sheets.spreadsheets.values.clear({spreadsheetId:s,range:`${o.TRADES}!A2:L`}),await window.gapi.client.sheets.spreadsheets.values.clear({spreadsheetId:s,range:`${o.TAGS}!A2:E`}),await window.gapi.client.sheets.spreadsheets.values.clear({spreadsheetId:s,range:`${o.SETTINGS}!A2:B`}),x.invalidateQueries({queryKey:["trades"]}),x.invalidateQueries({queryKey:["tags"]}),localStorage.removeItem("tradezen-settings"),alert("✅ All data cleared successfully!"),i(!1),window.location.reload()}catch(a){console.error("Clear failed:",a),alert("❌ Failed to clear data: "+a.message)}finally{h(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",style:{paddingTop:"100px"},children:[e.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-6",children:[e.jsx("h1",{className:"text-3xl font-black mb-6",children:"Settings"}),e.jsxs(n,{title:"Trading Settings",children:[e.jsx(l,{label:"Starting Balance",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-slate-400",children:t.currency}),e.jsx("input",{type:"number",value:t.startingBalance||0,onChange:s=>m({startingBalance:parseFloat(s.target.value)||0}),className:"bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 w-40 text-right font-mono focus:border-blue-500 focus:outline-none",step:"0.01",min:"0"})]})}),e.jsx(l,{label:"Currency",children:e.jsx("select",{value:t.currency,onChange:s=>m({currency:s.target.value}),className:"bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none",children:f.map(s=>e.jsxs("option",{value:s.symbol,children:[s.symbol," ",s.code]},s.code))})})]}),e.jsx(n,{title:"Appearance",children:e.jsx(l,{label:"Theme",children:e.jsx("div",{className:"text-slate-400 text-sm",children:"Dark (Always On)"})})}),e.jsxs(n,{title:"Data Management",children:[e.jsx(l,{label:"Storage",children:e.jsx("div",{className:"text-slate-400 text-sm",children:"Google Sheets & Drive"})}),e.jsx(l,{label:"Clear All Data",children:e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-all font-semibold",children:[e.jsx(g,{size:16}),"Clear Everything"]})})]}),e.jsxs(n,{title:"About",children:[e.jsx(l,{label:"Version",children:e.jsx("div",{className:"text-slate-400 text-sm",children:"1.0.0"})}),e.jsx(l,{label:"Source Code",children:e.jsx("a",{href:"https://github.com/veritasvoid/TradeZen",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 text-sm hover:underline",children:"GitHub →"})})]})]}),b&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-slate-900 rounded-2xl border border-red-500/50 max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center",children:e.jsx(y,{className:"text-red-500",size:24})}),e.jsx("h3",{className:"text-xl font-black",children:"Clear All Data?"})]}),e.jsx("p",{className:"text-slate-300 mb-2",children:"This will permanently delete:"}),e.jsxs("ul",{className:"text-slate-400 text-sm space-y-1 mb-6 ml-4",children:[e.jsx("li",{children:"• All trades"}),e.jsx("li",{children:"• All tags/strategies"}),e.jsx("li",{children:"• All screenshots"}),e.jsx("li",{children:"• Starting balance & settings"})]}),e.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-3 mb-6",children:e.jsx("p",{className:"text-red-400 text-sm font-semibold",children:"⚠️ This action cannot be undone!"})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>i(!1),disabled:d,className:"flex-1 px-4 py-3 bg-slate-800 hover:bg-slate-700 rounded-lg transition-all font-semibold disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:u,disabled:d,className:"flex-1 px-4 py-3 bg-red-600 hover:bg-red-700 rounded-lg transition-all font-semibold disabled:opacity-50 flex items-center justify-center gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Clearing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{size:16}),"Delete Everything"]})})]})]})})]})},n=({title:t,children:r})=>e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-sm rounded-2xl border border-slate-700/50 p-6",children:[e.jsx("h2",{className:"text-lg font-bold mb-4 text-center",children:t}),e.jsx("div",{className:"space-y-4",children:r})]}),l=({label:t,children:r})=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-slate-700/30 last:border-0",children:[e.jsx("div",{className:"font-medium text-slate-300",children:t}),e.jsx("div",{children:r})]});export{C as default};
