import{i as Xe,k as Be,l as We,m as Ne,S as Te,o as ut}from"./index-BphPB1Ha.js";function dt(w,F){return F.forEach(function(M){M&&typeof M!="string"&&!Array.isArray(M)&&Object.keys(M).forEach(function(f){if(f!=="default"&&!(f in w)){var e=Object.getOwnPropertyDescriptor(M,f);Object.defineProperty(w,f,e.get?e:{enumerable:!0,get:function(){return M[f]}})}})}),Object.freeze(w)}function Ze(w,F){return new Promise(function(M,f){let e;return ht(w).then(function(t){try{return e=t,M(new Blob([F.slice(0,2),e,F.slice(2)],{type:"image/jpeg"}))}catch(u){return f(u)}},f)})}const ht=w=>new Promise((F,M)=>{const f=new FileReader;f.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let u=0;if(t.getUint16(u)!==65496)return M("not a valid JPEG");for(u+=2;;){const a=t.getUint16(u);if(a===65498)break;const g=t.getUint16(u+2);if(a===65505&&t.getUint32(u+4)===1165519206){const b=u+10;let r;switch(t.getUint16(b)){case 18761:r=!0;break;case 19789:r=!1;break;default:return M("TIFF header contains invalid endian")}if(t.getUint16(b+2,r)!==42)return M("TIFF header contains invalid version");const i=t.getUint32(b+4,r),n=b+i+2+12*t.getUint16(b+i,r);for(let s=b+i+2;s<n;s+=12)if(t.getUint16(s,r)==274){if(t.getUint16(s+2,r)!==3)return M("Orientation data type is invalid");if(t.getUint32(s+4,r)!==1)return M("Orientation data count is invalid");t.setUint16(s+8,1,r);break}return F(e.slice(u,u+2+g))}u+=2+g}return F(new Blob)}),f.readAsArrayBuffer(w)});var De={},gt={get exports(){return De},set exports(w){De=w}};(function(w){var F,M,f={};gt.exports=f,f.parse=function(e,t){for(var u=f.bin.readUshort,a=f.bin.readUint,g=0,b={},r=new Uint8Array(e),i=r.length-4;a(r,i)!=101010256;)i--;g=i,g+=4;var n=u(r,g+=4);u(r,g+=2);var s=a(r,g+=2),h=a(r,g+=4);g+=4,g=h;for(var E=0;E<n;E++){a(r,g),g+=4,g+=4,g+=4,a(r,g+=4),s=a(r,g+=4);var C=a(r,g+=4),m=u(r,g+=4),L=u(r,g+2),D=u(r,g+4);g+=6;var _=a(r,g+=8);g+=4,g+=m+L+D,f._readLocal(r,_,b,s,C,t)}return b},f._readLocal=function(e,t,u,a,g,b){var r=f.bin.readUshort,i=f.bin.readUint;i(e,t),r(e,t+=4),r(e,t+=2);var n=r(e,t+=2);i(e,t+=2),i(e,t+=4),t+=4;var s=r(e,t+=8),h=r(e,t+=2);t+=2;var E=f.bin.readUTF8(e,t,s);if(t+=s,t+=h,b)u[E]={size:g,csize:a};else{var C=new Uint8Array(e.buffer,t);if(n==0)u[E]=new Uint8Array(C.buffer.slice(t,t+a));else{if(n!=8)throw"unknown compression method: "+n;var m=new Uint8Array(g);f.inflateRaw(C,m),u[E]=m}}},f.inflateRaw=function(e,t){return f.F.inflate(e,t)},f.inflate=function(e,t){return e[0],e[1],f.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},f.deflate=function(e,t){t==null&&(t={level:6});var u=0,a=new Uint8Array(50+Math.floor(1.1*e.length));a[u]=120,a[u+1]=156,u+=2,u=f.F.deflateRaw(e,a,u,t.level);var g=f.adler(e,0,e.length);return a[u+0]=g>>>24&255,a[u+1]=g>>>16&255,a[u+2]=g>>>8&255,a[u+3]=g>>>0&255,new Uint8Array(a.buffer,0,u+4)},f.deflateRaw=function(e,t){t==null&&(t={level:6});var u=new Uint8Array(50+Math.floor(1.1*e.length)),a=f.F.deflateRaw(e,u,a,t.level);return new Uint8Array(u.buffer,0,a)},f.encode=function(e,t){t==null&&(t=!1);var u=0,a=f.bin.writeUint,g=f.bin.writeUshort,b={};for(var r in e){var i=!f._noNeed(r)&&!t,n=e[r],s=f.crc.crc(n,0,n.length);b[r]={cpr:i,usize:n.length,crc:s,file:i?f.deflateRaw(n):n}}for(var r in b)u+=b[r].file.length+30+46+2*f.bin.sizeUTF8(r);u+=22;var h=new Uint8Array(u),E=0,C=[];for(var r in b){var m=b[r];C.push(E),E=f._writeHeader(h,E,r,m,0)}var L=0,D=E;for(var r in b)m=b[r],C.push(E),E=f._writeHeader(h,E,r,m,1,C[L++]);var _=E-D;return a(h,E,101010256),E+=4,g(h,E+=4,L),g(h,E+=2,L),a(h,E+=2,_),a(h,E+=4,D),E+=4,E+=2,h.buffer},f._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},f._writeHeader=function(e,t,u,a,g,b){var r=f.bin.writeUint,i=f.bin.writeUshort,n=a.file;return r(e,t,g==0?67324752:33639248),t+=4,g==1&&(t+=2),i(e,t,20),i(e,t+=2,0),i(e,t+=2,a.cpr?8:0),r(e,t+=2,0),r(e,t+=4,a.crc),r(e,t+=4,n.length),r(e,t+=4,a.usize),i(e,t+=4,f.bin.sizeUTF8(u)),i(e,t+=2,0),t+=2,g==1&&(t+=2,t+=2,r(e,t+=6,b),t+=4),t+=f.bin.writeUTF8(e,t,u),g==0&&(e.set(n,t),t+=n.length),t},f.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var u=t,a=0;a<8;a++)1&u?u=3988292384^u>>>1:u>>>=1;e[t]=u}return e}(),update:function(e,t,u,a){for(var g=0;g<a;g++)e=f.crc.table[255&(e^t[u+g])]^e>>>8;return e},crc:function(e,t,u){return 4294967295^f.crc.update(4294967295,e,t,u)}},f.adler=function(e,t,u){for(var a=1,g=0,b=t,r=t+u;b<r;){for(var i=Math.min(b+5552,r);b<i;)g+=a+=e[b++];a%=65521,g%=65521}return g<<16|a},f.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,u){e[t]=255&u,e[t+1]=u>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,u){e[t]=255&u,e[t+1]=u>>8&255,e[t+2]=u>>16&255,e[t+3]=u>>24&255},readASCII:function(e,t,u){for(var a="",g=0;g<u;g++)a+=String.fromCharCode(e[t+g]);return a},writeASCII:function(e,t,u){for(var a=0;a<u.length;a++)e[t+a]=u.charCodeAt(a)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,u){for(var a,g="",b=0;b<u;b++)g+="%"+f.bin.pad(e[t+b].toString(16));try{a=decodeURIComponent(g)}catch{return f.bin.readASCII(e,t,u)}return a},writeUTF8:function(e,t,u){for(var a=u.length,g=0,b=0;b<a;b++){var r=u.charCodeAt(b);if(!(4294967168&r))e[t+g]=r,g++;else if(!(4294965248&r))e[t+g]=192|r>>6,e[t+g+1]=128|r>>0&63,g+=2;else if(!(4294901760&r))e[t+g]=224|r>>12,e[t+g+1]=128|r>>6&63,e[t+g+2]=128|r>>0&63,g+=3;else{if(4292870144&r)throw"e";e[t+g]=240|r>>18,e[t+g+1]=128|r>>12&63,e[t+g+2]=128|r>>6&63,e[t+g+3]=128|r>>0&63,g+=4}}return g},sizeUTF8:function(e){for(var t=e.length,u=0,a=0;a<t;a++){var g=e.charCodeAt(a);if(!(4294967168&g))u++;else if(!(4294965248&g))u+=2;else if(!(4294901760&g))u+=3;else{if(4292870144&g)throw"e";u+=4}}return u}},f.F={},f.F.deflateRaw=function(e,t,u,a){var g=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],b=f.F.U,r=f.F._goodIndex;f.F._hash;var i=f.F._putsE,n=0,s=u<<3,h=0,E=e.length;if(a==0){for(;n<E;)i(t,s,n+(U=Math.min(65535,E-n))==E?1:0),s=f.F._copyExact(e,n,U,t,s+8),n+=U;return s>>>3}var C=b.lits,m=b.strt,L=b.prev,D=0,_=0,k=0,p=0,x=0,c=0;for(E>2&&(m[c=f.F._hash(e,0)]=0),n=0;n<E;n++){if(x=c,n+1<E-2){c=f.F._hash(e,n+1);var l=n+1&32767;L[l]=m[c],m[c]=l}if(h<=n){(D>14e3||_>26697)&&E-n>100&&(h<n&&(C[D]=n-h,D+=2,h=n),s=f.F._writeBlock(n==E-1||h==E?1:0,C,D,p,e,k,n-k,t,s),D=_=p=0,k=n);var A=0;n<E-2&&(A=f.F._bestMatch(e,n,L,x,Math.min(g[2],E-n),g[3]));var U=A>>>16,y=65535&A;if(A!=0){y=65535&A;var I=r(U=A>>>16,b.of0);b.lhst[257+I]++;var v=r(y,b.df0);b.dhst[v]++,p+=b.exb[I]+b.dxb[v],C[D]=U<<23|n-h,C[D+1]=y<<16|I<<8|v,D+=2,h=n+U}else b.lhst[e[n]]++;_++}}for(k==n&&e.length!=0||(h<n&&(C[D]=n-h,D+=2,h=n),s=f.F._writeBlock(1,C,D,p,e,k,n-k,t,s),D=0,_=0,D=_=p=0,k=n);7&s;)s++;return s>>>3},f.F._bestMatch=function(e,t,u,a,g,b){var r=32767&t,i=u[r],n=r-i+32768&32767;if(i==r||a!=f.F._hash(e,t-n))return 0;for(var s=0,h=0,E=Math.min(32767,t);n<=E&&--b!=0&&i!=r;){if(s==0||e[t+s]==e[t+s-n]){var C=f.F._howLong(e,t,n);if(C>s){if(h=n,(s=C)>=g)break;n+2<C&&(C=n+2);for(var m=0,L=0;L<C-2;L++){var D=t-n+L+32768&32767,_=D-u[D]+32768&32767;_>m&&(m=_,i=D)}}}n+=(r=i)-(i=u[r])+32768&32767}return s<<16|h},f.F._howLong=function(e,t,u){if(e[t]!=e[t-u]||e[t+1]!=e[t+1-u]||e[t+2]!=e[t+2-u])return 0;var a=t,g=Math.min(e.length,t+258);for(t+=3;t<g&&e[t]==e[t-u];)t++;return t-a},f.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},f.saved=0,f.F._writeBlock=function(e,t,u,a,g,b,r,i,n){var s,h,E,C,m,L,D,_,k,p=f.F.U,x=f.F._putsF,c=f.F._putsE;p.lhst[256]++,h=(s=f.F.getTrees())[0],E=s[1],C=s[2],m=s[3],L=s[4],D=s[5],_=s[6],k=s[7];var l=32+(n+3&7?8-(n+3&7):0)+(r<<3),A=a+f.F.contSize(p.fltree,p.lhst)+f.F.contSize(p.fdtree,p.dhst),U=a+f.F.contSize(p.ltree,p.lhst)+f.F.contSize(p.dtree,p.dhst);U+=14+3*D+f.F.contSize(p.itree,p.ihst)+(2*p.ihst[16]+3*p.ihst[17]+7*p.ihst[18]);for(var y=0;y<286;y++)p.lhst[y]=0;for(y=0;y<30;y++)p.dhst[y]=0;for(y=0;y<19;y++)p.ihst[y]=0;var I=l<A&&l<U?0:A<U?1:2;if(x(i,n,e),x(i,n+1,I),n+=3,I==0){for(;7&n;)n++;n=f.F._copyExact(g,b,r,i,n)}else{var v,S;if(I==1&&(v=p.fltree,S=p.fdtree),I==2){f.F.makeCodes(p.ltree,h),f.F.revCodes(p.ltree,h),f.F.makeCodes(p.dtree,E),f.F.revCodes(p.dtree,E),f.F.makeCodes(p.itree,C),f.F.revCodes(p.itree,C),v=p.ltree,S=p.dtree,c(i,n,m-257),c(i,n+=5,L-1),c(i,n+=5,D-4),n+=4;for(var d=0;d<D;d++)c(i,n+3*d,p.itree[1+(p.ordr[d]<<1)]);n+=3*D,n=f.F._codeTiny(_,p.itree,i,n),n=f.F._codeTiny(k,p.itree,i,n)}for(var o=b,O=0;O<u;O+=2){for(var T=t[O],P=T>>>23,N=o+(8388607&T);o<N;)n=f.F._writeLit(g[o++],v,i,n);if(P!=0){var Q=t[O+1],$=Q>>16,H=Q>>8&255,R=255&Q;c(i,n=f.F._writeLit(257+H,v,i,n),P-p.of0[H]),n+=p.exb[H],x(i,n=f.F._writeLit(R,S,i,n),$-p.df0[R]),n+=p.dxb[R],o+=P}}n=f.F._writeLit(256,v,i,n)}return n},f.F._copyExact=function(e,t,u,a,g){var b=g>>>3;return a[b]=u,a[b+1]=u>>>8,a[b+2]=255-a[b],a[b+3]=255-a[b+1],b+=4,a.set(new Uint8Array(e.buffer,t,u),b),g+(u+4<<3)},f.F.getTrees=function(){for(var e=f.F.U,t=f.F._hufTree(e.lhst,e.ltree,15),u=f.F._hufTree(e.dhst,e.dtree,15),a=[],g=f.F._lenCodes(e.ltree,a),b=[],r=f.F._lenCodes(e.dtree,b),i=0;i<a.length;i+=2)e.ihst[a[i]]++;for(i=0;i<b.length;i+=2)e.ihst[b[i]]++;for(var n=f.F._hufTree(e.ihst,e.itree,7),s=19;s>4&&e.itree[1+(e.ordr[s-1]<<1)]==0;)s--;return[t,u,n,g,r,s,a,b]},f.F.getSecond=function(e){for(var t=[],u=0;u<e.length;u+=2)t.push(e[u+1]);return t},f.F.nonZero=function(e){for(var t="",u=0;u<e.length;u+=2)e[u+1]!=0&&(t+=(u>>1)+",");return t},f.F.contSize=function(e,t){for(var u=0,a=0;a<t.length;a++)u+=t[a]*e[1+(a<<1)];return u},f.F._codeTiny=function(e,t,u,a){for(var g=0;g<e.length;g+=2){var b=e[g],r=e[g+1];a=f.F._writeLit(b,t,u,a);var i=b==16?2:b==17?3:7;b>15&&(f.F._putsE(u,a,r,i),a+=i)}return a},f.F._lenCodes=function(e,t){for(var u=e.length;u!=2&&e[u-1]==0;)u-=2;for(var a=0;a<u;a+=2){var g=e[a+1],b=a+3<u?e[a+3]:-1,r=a+5<u?e[a+5]:-1,i=a==0?-1:e[a-1];if(g==0&&b==g&&r==g){for(var n=a+5;n+2<u&&e[n+2]==g;)n+=2;(s=Math.min(n+1-a>>>1,138))<11?t.push(17,s-3):t.push(18,s-11),a+=2*s-2}else if(g==i&&b==g&&r==g){for(n=a+5;n+2<u&&e[n+2]==g;)n+=2;var s=Math.min(n+1-a>>>1,6);t.push(16,s-3),a+=2*s-2}else t.push(g,0)}return u>>>1},f.F._hufTree=function(e,t,u){var a=[],g=e.length,b=t.length,r=0;for(r=0;r<b;r+=2)t[r]=0,t[r+1]=0;for(r=0;r<g;r++)e[r]!=0&&a.push({lit:r,f:e[r]});var i=a.length,n=a.slice(0);if(i==0)return 0;if(i==1){var s=a[0].lit;return n=s==0?1:0,t[1+(s<<1)]=1,t[1+(n<<1)]=1,1}a.sort(function(_,k){return _.f-k.f});var h=a[0],E=a[1],C=0,m=1,L=2;for(a[0]={lit:-1,f:h.f+E.f,l:h,r:E,d:0};m!=i-1;)h=C!=m&&(L==i||a[C].f<a[L].f)?a[C++]:a[L++],E=C!=m&&(L==i||a[C].f<a[L].f)?a[C++]:a[L++],a[m++]={lit:-1,f:h.f+E.f,l:h,r:E};var D=f.F.setDepth(a[m-1],0);for(D>u&&(f.F.restrictDepth(n,u,D),D=u),r=0;r<i;r++)t[1+(n[r].lit<<1)]=n[r].d;return D},f.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(f.F.setDepth(e.l,t+1),f.F.setDepth(e.r,t+1))},f.F.restrictDepth=function(e,t,u){var a=0,g=1<<u-t,b=0;for(e.sort(function(i,n){return n.d==i.d?i.f-n.f:n.d-i.d}),a=0;a<e.length&&e[a].d>t;a++){var r=e[a].d;e[a].d=t,b+=g-(1<<u-r)}for(b>>>=u-t;b>0;)(r=e[a].d)<t?(e[a].d++,b-=1<<t-r-1):a++;for(;a>=0;a--)e[a].d==t&&b<0&&(e[a].d--,b++);b!=0&&console.log("debt left")},f.F._goodIndex=function(e,t){var u=0;return t[16|u]<=e&&(u|=16),t[8|u]<=e&&(u|=8),t[4|u]<=e&&(u|=4),t[2|u]<=e&&(u|=2),t[1|u]<=e&&(u|=1),u},f.F._writeLit=function(e,t,u,a){return f.F._putsF(u,a,t[e<<1]),a+t[1+(e<<1)]},f.F.inflate=function(e,t){var u=Uint8Array;if(e[0]==3&&e[1]==0)return t||new u(0);var a=f.F,g=a._bitsF,b=a._bitsE,r=a._decodeTiny,i=a.makeCodes,n=a.codes2map,s=a._get17,h=a.U,E=t==null;E&&(t=new u(e.length>>>2<<3));for(var C,m,L=0,D=0,_=0,k=0,p=0,x=0,c=0,l=0,A=0;L==0;)if(L=g(e,A,1),D=g(e,A+1,2),A+=3,D!=0){if(E&&(t=f.F._check(t,l+(1<<17))),D==1&&(C=h.flmap,m=h.fdmap,x=511,c=31),D==2){_=b(e,A,5)+257,k=b(e,A+5,5)+1,p=b(e,A+10,4)+4,A+=14;for(var U=0;U<38;U+=2)h.itree[U]=0,h.itree[U+1]=0;var y=1;for(U=0;U<p;U++){var I=b(e,A+3*U,3);h.itree[1+(h.ordr[U]<<1)]=I,I>y&&(y=I)}A+=3*p,i(h.itree,y),n(h.itree,y,h.imap),C=h.lmap,m=h.dmap,A=r(h.imap,(1<<y)-1,_+k,e,A,h.ttree);var v=a._copyOut(h.ttree,0,_,h.ltree);x=(1<<v)-1;var S=a._copyOut(h.ttree,_,k,h.dtree);c=(1<<S)-1,i(h.ltree,v),n(h.ltree,v,C),i(h.dtree,S),n(h.dtree,S,m)}for(;;){var d=C[s(e,A)&x];A+=15&d;var o=d>>>4;if(!(o>>>8))t[l++]=o;else{if(o==256)break;var O=l+o-254;if(o>264){var T=h.ldef[o-257];O=l+(T>>>3)+b(e,A,7&T),A+=7&T}var P=m[s(e,A)&c];A+=15&P;var N=P>>>4,Q=h.ddef[N],$=(Q>>>4)+g(e,A,15&Q);for(A+=15&Q,E&&(t=f.F._check(t,l+(1<<17)));l<O;)t[l]=t[l++-$],t[l]=t[l++-$],t[l]=t[l++-$],t[l]=t[l++-$];l=O}}}else{7&A&&(A+=8-(7&A));var H=4+(A>>>3),R=e[H-4]|e[H-3]<<8;E&&(t=f.F._check(t,l+R)),t.set(new u(e.buffer,e.byteOffset+H,R),l),A=H+R<<3,l+=R}return t.length==l?t:t.slice(0,l)},f.F._check=function(e,t){var u=e.length;if(t<=u)return e;var a=new Uint8Array(Math.max(u<<1,t));return a.set(e,0),a},f.F._decodeTiny=function(e,t,u,a,g,b){for(var r=f.F._bitsE,i=f.F._get17,n=0;n<u;){var s=e[i(a,g)&t];g+=15&s;var h=s>>>4;if(h<=15)b[n]=h,n++;else{var E=0,C=0;h==16?(C=3+r(a,g,2),g+=2,E=b[n-1]):h==17?(C=3+r(a,g,3),g+=3):h==18&&(C=11+r(a,g,7),g+=7);for(var m=n+C;n<m;)b[n]=E,n++}}return g},f.F._copyOut=function(e,t,u,a){for(var g=0,b=0,r=a.length>>>1;b<u;){var i=e[b+t];a[b<<1]=0,a[1+(b<<1)]=i,i>g&&(g=i),b++}for(;b<r;)a[b<<1]=0,a[1+(b<<1)]=0,b++;return g},f.F.makeCodes=function(e,t){for(var u,a,g,b,r=f.F.U,i=e.length,n=r.bl_count,s=0;s<=t;s++)n[s]=0;for(s=1;s<i;s+=2)n[e[s]]++;var h=r.next_code;for(u=0,n[0]=0,a=1;a<=t;a++)u=u+n[a-1]<<1,h[a]=u;for(g=0;g<i;g+=2)(b=e[g+1])!=0&&(e[g]=h[b],h[b]++)},f.F.codes2map=function(e,t,u){for(var a=e.length,g=f.F.U.rev15,b=0;b<a;b+=2)if(e[b+1]!=0)for(var r=b>>1,i=e[b+1],n=r<<4|i,s=t-i,h=e[b]<<s,E=h+(1<<s);h!=E;)u[g[h]>>>15-t]=n,h++},f.F.revCodes=function(e,t){for(var u=f.F.U.rev15,a=15-t,g=0;g<e.length;g+=2){var b=e[g]<<t-e[g+1];e[g]=u[b]>>>a}},f.F._putsE=function(e,t,u){u<<=7&t;var a=t>>>3;e[a]|=u,e[a+1]|=u>>>8},f.F._putsF=function(e,t,u){u<<=7&t;var a=t>>>3;e[a]|=u,e[a+1]|=u>>>8,e[a+2]|=u>>>16},f.F._bitsE=function(e,t,u){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<u)-1},f.F._bitsF=function(e,t,u){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<u)-1},f.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},f.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},f.F.U=(F=Uint16Array,M=Uint32Array,{next_code:new F(16),bl_count:new F(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new F(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new M(32),flmap:new F(512),fltree:[],fdmap:new F(32),fdtree:[],lmap:new F(32768),ltree:[],ttree:[],dmap:new F(32768),dtree:[],imap:new F(512),itree:[],rev15:new F(32768),lhst:new M(286),dhst:new M(30),ihst:new M(19),lits:new M(15e3),strt:new F(65536),prev:new F(32768)}),function(){for(var e=f.F.U,t=0;t<32768;t++){var u=t;u=(4278255360&(u=(4042322160&(u=(3435973836&(u=(2863311530&u)>>>1|(1431655765&u)<<1))>>>2|(858993459&u)<<2))>>>4|(252645135&u)<<4))>>>8|(16711935&u)<<8,e.rev15[t]=(u>>>16|u<<16)>>>17}function a(g,b,r){for(;b--!=0;)g.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];a(e.fltree,144,8),a(e.fltree,112,9),a(e.fltree,24,7),a(e.fltree,8,8),f.F.makeCodes(e.fltree,9),f.F.codes2map(e.fltree,9,e.flmap),f.F.revCodes(e.fltree,9),a(e.fdtree,32,5),f.F.makeCodes(e.fdtree,5),f.F.codes2map(e.fdtree,5,e.fdmap),f.F.revCodes(e.fdtree,5),a(e.itree,19,0),a(e.ltree,286,0),a(e.dtree,30,0),a(e.ttree,320,0)}()})();var pt=dt({__proto__:null,default:De},[De]);const de=function(){var w={nextZero(r,i){for(;r[i]!=0;)i++;return i},readUshort:(r,i)=>r[i]<<8|r[i+1],writeUshort(r,i,n){r[i]=n>>8&255,r[i+1]=255&n},readUint:(r,i)=>16777216*r[i]+(r[i+1]<<16|r[i+2]<<8|r[i+3]),writeUint(r,i,n){r[i]=n>>24&255,r[i+1]=n>>16&255,r[i+2]=n>>8&255,r[i+3]=255&n},readASCII(r,i,n){let s="";for(let h=0;h<n;h++)s+=String.fromCharCode(r[i+h]);return s},writeASCII(r,i,n){for(let s=0;s<n.length;s++)r[i+s]=n.charCodeAt(s)},readBytes(r,i,n){const s=[];for(let h=0;h<n;h++)s.push(r[i+h]);return s},pad:r=>r.length<2?`0${r}`:r,readUTF8(r,i,n){let s,h="";for(let E=0;E<n;E++)h+=`%${w.pad(r[i+E].toString(16))}`;try{s=decodeURIComponent(h)}catch{return w.readASCII(r,i,n)}return s}};function F(r,i,n,s){const h=i*n,E=t(s),C=Math.ceil(i*E/8),m=new Uint8Array(4*h),L=new Uint32Array(m.buffer),{ctype:D}=s,{depth:_}=s,k=w.readUshort;if(D==6){const T=h<<2;if(_==8)for(var p=0;p<T;p+=4)m[p]=r[p],m[p+1]=r[p+1],m[p+2]=r[p+2],m[p+3]=r[p+3];if(_==16)for(p=0;p<T;p++)m[p]=r[p<<1]}else if(D==2){const T=s.tabs.tRNS;if(T==null){if(_==8)for(p=0;p<h;p++){var x=3*p;L[p]=255<<24|r[x+2]<<16|r[x+1]<<8|r[x]}if(_==16)for(p=0;p<h;p++)x=6*p,L[p]=255<<24|r[x+4]<<16|r[x+2]<<8|r[x]}else{var c=T[0];const P=T[1],N=T[2];if(_==8)for(p=0;p<h;p++){var l=p<<2;x=3*p,L[p]=255<<24|r[x+2]<<16|r[x+1]<<8|r[x],r[x]==c&&r[x+1]==P&&r[x+2]==N&&(m[l+3]=0)}if(_==16)for(p=0;p<h;p++)l=p<<2,x=6*p,L[p]=255<<24|r[x+4]<<16|r[x+2]<<8|r[x],k(r,x)==c&&k(r,x+2)==P&&k(r,x+4)==N&&(m[l+3]=0)}}else if(D==3){const T=s.tabs.PLTE,P=s.tabs.tRNS,N=P?P.length:0;if(_==1)for(var A=0;A<n;A++){var U=A*C,y=A*i;for(p=0;p<i;p++){l=y+p<<2;var I=3*(v=r[U+(p>>3)]>>7-((7&p)<<0)&1);m[l]=T[I],m[l+1]=T[I+1],m[l+2]=T[I+2],m[l+3]=v<N?P[v]:255}}if(_==2)for(A=0;A<n;A++)for(U=A*C,y=A*i,p=0;p<i;p++)l=y+p<<2,I=3*(v=r[U+(p>>2)]>>6-((3&p)<<1)&3),m[l]=T[I],m[l+1]=T[I+1],m[l+2]=T[I+2],m[l+3]=v<N?P[v]:255;if(_==4)for(A=0;A<n;A++)for(U=A*C,y=A*i,p=0;p<i;p++)l=y+p<<2,I=3*(v=r[U+(p>>1)]>>4-((1&p)<<2)&15),m[l]=T[I],m[l+1]=T[I+1],m[l+2]=T[I+2],m[l+3]=v<N?P[v]:255;if(_==8)for(p=0;p<h;p++){var v;l=p<<2,I=3*(v=r[p]),m[l]=T[I],m[l+1]=T[I+1],m[l+2]=T[I+2],m[l+3]=v<N?P[v]:255}}else if(D==4){if(_==8)for(p=0;p<h;p++){l=p<<2;var S=r[d=p<<1];m[l]=S,m[l+1]=S,m[l+2]=S,m[l+3]=r[d+1]}if(_==16)for(p=0;p<h;p++){var d;l=p<<2,S=r[d=p<<2],m[l]=S,m[l+1]=S,m[l+2]=S,m[l+3]=r[d+2]}}else if(D==0)for(c=s.tabs.tRNS?s.tabs.tRNS:-1,A=0;A<n;A++){const T=A*C,P=A*i;if(_==1)for(var o=0;o<i;o++){var O=(S=255*(r[T+(o>>>3)]>>>7-(7&o)&1))==255*c?0:255;L[P+o]=O<<24|S<<16|S<<8|S}else if(_==2)for(o=0;o<i;o++)O=(S=85*(r[T+(o>>>2)]>>>6-((3&o)<<1)&3))==85*c?0:255,L[P+o]=O<<24|S<<16|S<<8|S;else if(_==4)for(o=0;o<i;o++)O=(S=17*(r[T+(o>>>1)]>>>4-((1&o)<<2)&15))==17*c?0:255,L[P+o]=O<<24|S<<16|S<<8|S;else if(_==8)for(o=0;o<i;o++)O=(S=r[T+o])==c?0:255,L[P+o]=O<<24|S<<16|S<<8|S;else if(_==16)for(o=0;o<i;o++)S=r[T+(o<<1)],O=k(r,T+(o<<1))==c?0:255,L[P+o]=O<<24|S<<16|S<<8|S}return m}function M(r,i,n,s){const h=t(r),E=Math.ceil(n*h/8),C=new Uint8Array((E+1+r.interlace)*s);return i=r.tabs.CgBI?e(i,C):f(i,C),r.interlace==0?i=u(i,r,0,n,s):r.interlace==1&&(i=function(L,D){const _=D.width,k=D.height,p=t(D),x=p>>3,c=Math.ceil(_*p/8),l=new Uint8Array(k*c);let A=0;const U=[0,0,4,0,2,0,1],y=[0,4,0,2,0,1,0],I=[8,8,8,4,4,2,2],v=[8,8,4,4,2,2,1];let S=0;for(;S<7;){const o=I[S],O=v[S];let T=0,P=0,N=U[S];for(;N<k;)N+=o,P++;let Q=y[S];for(;Q<_;)Q+=O,T++;const $=Math.ceil(T*p/8);u(L,D,A,T,P);let H=0,R=U[S];for(;R<k;){let z=y[S],G=A+H*$<<3;for(;z<_;){var d;if(p==1&&(d=(d=L[G>>3])>>7-(7&G)&1,l[R*c+(z>>3)]|=d<<7-((7&z)<<0)),p==2&&(d=(d=L[G>>3])>>6-(7&G)&3,l[R*c+(z>>2)]|=d<<6-((3&z)<<1)),p==4&&(d=(d=L[G>>3])>>4-(7&G)&15,l[R*c+(z>>1)]|=d<<4-((1&z)<<2)),p>=8){const W=R*c+z*x;for(let B=0;B<x;B++)l[W+B]=L[(G>>3)+B]}G+=p,z+=O}H++,R+=o}T*P!=0&&(A+=P*(1+$)),S+=1}return l}(i,r)),i}function f(r,i){return e(new Uint8Array(r.buffer,2,r.length-6),i)}var e=function(){const r={H:{}};return r.H.N=function(i,n){const s=Uint8Array;let h,E,C=0,m=0,L=0,D=0,_=0,k=0,p=0,x=0,c=0;if(i[0]==3&&i[1]==0)return n||new s(0);const l=r.H,A=l.b,U=l.e,y=l.R,I=l.n,v=l.A,S=l.Z,d=l.m,o=n==null;for(o&&(n=new s(i.length>>>2<<5));C==0;)if(C=A(i,c,1),m=A(i,c+1,2),c+=3,m!=0){if(o&&(n=r.H.W(n,x+(1<<17))),m==1&&(h=d.J,E=d.h,k=511,p=31),m==2){L=U(i,c,5)+257,D=U(i,c+5,5)+1,_=U(i,c+10,4)+4,c+=14;let T=1;for(var O=0;O<38;O+=2)d.Q[O]=0,d.Q[O+1]=0;for(O=0;O<_;O++){const Q=U(i,c+3*O,3);d.Q[1+(d.X[O]<<1)]=Q,Q>T&&(T=Q)}c+=3*_,I(d.Q,T),v(d.Q,T,d.u),h=d.w,E=d.d,c=y(d.u,(1<<T)-1,L+D,i,c,d.v);const P=l.V(d.v,0,L,d.C);k=(1<<P)-1;const N=l.V(d.v,L,D,d.D);p=(1<<N)-1,I(d.C,P),v(d.C,P,h),I(d.D,N),v(d.D,N,E)}for(;;){const T=h[S(i,c)&k];c+=15&T;const P=T>>>4;if(!(P>>>8))n[x++]=P;else{if(P==256)break;{let N=x+P-254;if(P>264){const z=d.q[P-257];N=x+(z>>>3)+U(i,c,7&z),c+=7&z}const Q=E[S(i,c)&p];c+=15&Q;const $=Q>>>4,H=d.c[$],R=(H>>>4)+A(i,c,15&H);for(c+=15&H;x<N;)n[x]=n[x++-R],n[x]=n[x++-R],n[x]=n[x++-R],n[x]=n[x++-R];x=N}}}}else{7&c&&(c+=8-(7&c));const T=4+(c>>>3),P=i[T-4]|i[T-3]<<8;o&&(n=r.H.W(n,x+P)),n.set(new s(i.buffer,i.byteOffset+T,P),x),c=T+P<<3,x+=P}return n.length==x?n:n.slice(0,x)},r.H.W=function(i,n){const s=i.length;if(n<=s)return i;const h=new Uint8Array(s<<1);return h.set(i,0),h},r.H.R=function(i,n,s,h,E,C){const m=r.H.e,L=r.H.Z;let D=0;for(;D<s;){const _=i[L(h,E)&n];E+=15&_;const k=_>>>4;if(k<=15)C[D]=k,D++;else{let p=0,x=0;k==16?(x=3+m(h,E,2),E+=2,p=C[D-1]):k==17?(x=3+m(h,E,3),E+=3):k==18&&(x=11+m(h,E,7),E+=7);const c=D+x;for(;D<c;)C[D]=p,D++}}return E},r.H.V=function(i,n,s,h){let E=0,C=0;const m=h.length>>>1;for(;C<s;){const L=i[C+n];h[C<<1]=0,h[1+(C<<1)]=L,L>E&&(E=L),C++}for(;C<m;)h[C<<1]=0,h[1+(C<<1)]=0,C++;return E},r.H.n=function(i,n){const s=r.H.m,h=i.length;let E,C,m,L;const D=s.j;for(var _=0;_<=n;_++)D[_]=0;for(_=1;_<h;_+=2)D[i[_]]++;const k=s.K;for(E=0,D[0]=0,C=1;C<=n;C++)E=E+D[C-1]<<1,k[C]=E;for(m=0;m<h;m+=2)L=i[m+1],L!=0&&(i[m]=k[L],k[L]++)},r.H.A=function(i,n,s){const h=i.length,E=r.H.m.r;for(let C=0;C<h;C+=2)if(i[C+1]!=0){const m=C>>1,L=i[C+1],D=m<<4|L,_=n-L;let k=i[C]<<_;const p=k+(1<<_);for(;k!=p;)s[E[k]>>>15-n]=D,k++}},r.H.l=function(i,n){const s=r.H.m.r,h=15-n;for(let E=0;E<i.length;E+=2){const C=i[E]<<n-i[E+1];i[E]=s[C]>>>h}},r.H.M=function(i,n,s){s<<=7&n;const h=n>>>3;i[h]|=s,i[h+1]|=s>>>8},r.H.I=function(i,n,s){s<<=7&n;const h=n>>>3;i[h]|=s,i[h+1]|=s>>>8,i[h+2]|=s>>>16},r.H.e=function(i,n,s){return(i[n>>>3]|i[1+(n>>>3)]<<8)>>>(7&n)&(1<<s)-1},r.H.b=function(i,n,s){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)&(1<<s)-1},r.H.Z=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)},r.H.i=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16|i[3+(n>>>3)]<<24)>>>(7&n)},r.H.m=function(){const i=Uint16Array,n=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new i(65536),g:new i(32768)}}(),function(){const i=r.H.m;for(var n=0;n<32768;n++){let h=n;h=(2863311530&h)>>>1|(1431655765&h)<<1,h=(3435973836&h)>>>2|(858993459&h)<<2,h=(4042322160&h)>>>4|(252645135&h)<<4,h=(4278255360&h)>>>8|(16711935&h)<<8,i.r[n]=(h>>>16|h<<16)>>>17}function s(h,E,C){for(;E--!=0;)h.push(0,C)}for(n=0;n<32;n++)i.q[n]=i.S[n]<<3|i.T[n],i.c[n]=i.p[n]<<4|i.z[n];s(i._,144,8),s(i._,112,9),s(i._,24,7),s(i._,8,8),r.H.n(i._,9),r.H.A(i._,9,i.J),r.H.l(i._,9),s(i.$,32,5),r.H.n(i.$,5),r.H.A(i.$,5,i.h),r.H.l(i.$,5),s(i.Q,19,0),s(i.C,286,0),s(i.D,30,0),s(i.v,320,0)}(),r.H.N}();function t(r){return[1,null,3,1,2,null,4][r.ctype]*r.depth}function u(r,i,n,s,h){let E=t(i);const C=Math.ceil(s*E/8);let m,L;E=Math.ceil(E/8);let D=r[n],_=0;if(D>1&&(r[n]=[0,0,1][D-2]),D==3)for(_=E;_<C;_++)r[_+1]=r[_+1]+(r[_+1-E]>>>1)&255;for(let k=0;k<h;k++)if(m=n+k*C,L=m+k+1,D=r[L-1],_=0,D==0)for(;_<C;_++)r[m+_]=r[L+_];else if(D==1){for(;_<E;_++)r[m+_]=r[L+_];for(;_<C;_++)r[m+_]=r[L+_]+r[m+_-E]}else if(D==2)for(;_<C;_++)r[m+_]=r[L+_]+r[m+_-C];else if(D==3){for(;_<E;_++)r[m+_]=r[L+_]+(r[m+_-C]>>>1);for(;_<C;_++)r[m+_]=r[L+_]+(r[m+_-C]+r[m+_-E]>>>1)}else{for(;_<E;_++)r[m+_]=r[L+_]+a(0,r[m+_-C],0);for(;_<C;_++)r[m+_]=r[L+_]+a(r[m+_-E],r[m+_-C],r[m+_-E-C])}return r}function a(r,i,n){const s=r+i-n,h=s-r,E=s-i,C=s-n;return h*h<=E*E&&h*h<=C*C?r:E*E<=C*C?i:n}function g(r,i,n){n.width=w.readUint(r,i),i+=4,n.height=w.readUint(r,i),i+=4,n.depth=r[i],i++,n.ctype=r[i],i++,n.compress=r[i],i++,n.filter=r[i],i++,n.interlace=r[i],i++}function b(r,i,n,s,h,E,C,m,L){const D=Math.min(i,h),_=Math.min(n,E);let k=0,p=0;for(let S=0;S<_;S++)for(let d=0;d<D;d++)if(C>=0&&m>=0?(k=S*i+d<<2,p=(m+S)*h+C+d<<2):(k=(-m+S)*i-C+d<<2,p=S*h+d<<2),L==0)s[p]=r[k],s[p+1]=r[k+1],s[p+2]=r[k+2],s[p+3]=r[k+3];else if(L==1){var x=r[k+3]*.00392156862745098,c=r[k]*x,l=r[k+1]*x,A=r[k+2]*x,U=s[p+3]*(1/255),y=s[p]*U,I=s[p+1]*U,v=s[p+2]*U;const o=1-x,O=x+U*o,T=O==0?0:1/O;s[p+3]=255*O,s[p+0]=(c+y*o)*T,s[p+1]=(l+I*o)*T,s[p+2]=(A+v*o)*T}else if(L==2)x=r[k+3],c=r[k],l=r[k+1],A=r[k+2],U=s[p+3],y=s[p],I=s[p+1],v=s[p+2],x==U&&c==y&&l==I&&A==v?(s[p]=0,s[p+1]=0,s[p+2]=0,s[p+3]=0):(s[p]=c,s[p+1]=l,s[p+2]=A,s[p+3]=x);else if(L==3){if(x=r[k+3],c=r[k],l=r[k+1],A=r[k+2],U=s[p+3],y=s[p],I=s[p+1],v=s[p+2],x==U&&c==y&&l==I&&A==v)continue;if(x<220&&U>20)return!1}return!0}return{decode:function(i){const n=new Uint8Array(i);let s=8;const h=w,E=h.readUshort,C=h.readUint,m={tabs:{},frames:[]},L=new Uint8Array(n.length);let D,_=0,k=0;const p=[137,80,78,71,13,10,26,10];for(var x=0;x<8;x++)if(n[x]!=p[x])throw"The input is not a PNG file!";for(;s<n.length;){const S=h.readUint(n,s);s+=4;const d=h.readASCII(n,s,4);if(s+=4,d=="IHDR")g(n,s,m);else if(d=="iCCP"){for(var c=s;n[c]!=0;)c++;h.readASCII(n,s,c-s),n[c+1];const o=n.slice(c+2,s+S);let O=null;try{O=f(o)}catch{O=e(o)}m.tabs[d]=O}else if(d=="CgBI")m.tabs[d]=n.slice(s,s+4);else if(d=="IDAT"){for(x=0;x<S;x++)L[_+x]=n[s+x];_+=S}else if(d=="acTL")m.tabs[d]={num_frames:C(n,s),num_plays:C(n,s+4)},D=new Uint8Array(n.length);else if(d=="fcTL"){k!=0&&((v=m.frames[m.frames.length-1]).data=M(m,D.slice(0,k),v.rect.width,v.rect.height),k=0);const o={x:C(n,s+12),y:C(n,s+16),width:C(n,s+4),height:C(n,s+8)};let O=E(n,s+22);O=E(n,s+20)/(O==0?100:O);const T={rect:o,delay:Math.round(1e3*O),dispose:n[s+24],blend:n[s+25]};m.frames.push(T)}else if(d=="fdAT"){for(x=0;x<S-4;x++)D[k+x]=n[s+x+4];k+=S-4}else if(d=="pHYs")m.tabs[d]=[h.readUint(n,s),h.readUint(n,s+4),n[s+8]];else if(d=="cHRM")for(m.tabs[d]=[],x=0;x<8;x++)m.tabs[d].push(h.readUint(n,s+4*x));else if(d=="tEXt"||d=="zTXt"){m.tabs[d]==null&&(m.tabs[d]={});var l=h.nextZero(n,s),A=h.readASCII(n,s,l-s),U=s+S-l-1;if(d=="tEXt")I=h.readASCII(n,l+1,U);else{var y=f(n.slice(l+2,l+2+U));I=h.readUTF8(y,0,y.length)}m.tabs[d][A]=I}else if(d=="iTXt"){m.tabs[d]==null&&(m.tabs[d]={}),l=0,c=s,l=h.nextZero(n,c),A=h.readASCII(n,c,l-c);const o=n[c=l+1];var I;n[c+1],c+=2,l=h.nextZero(n,c),h.readASCII(n,c,l-c),c=l+1,l=h.nextZero(n,c),h.readUTF8(n,c,l-c),U=S-((c=l+1)-s),o==0?I=h.readUTF8(n,c,U):(y=f(n.slice(c,c+U)),I=h.readUTF8(y,0,y.length)),m.tabs[d][A]=I}else if(d=="PLTE")m.tabs[d]=h.readBytes(n,s,S);else if(d=="hIST"){const o=m.tabs.PLTE.length/3;for(m.tabs[d]=[],x=0;x<o;x++)m.tabs[d].push(E(n,s+2*x))}else if(d=="tRNS")m.ctype==3?m.tabs[d]=h.readBytes(n,s,S):m.ctype==0?m.tabs[d]=E(n,s):m.ctype==2&&(m.tabs[d]=[E(n,s),E(n,s+2),E(n,s+4)]);else if(d=="gAMA")m.tabs[d]=h.readUint(n,s)/1e5;else if(d=="sRGB")m.tabs[d]=n[s];else if(d=="bKGD")m.ctype==0||m.ctype==4?m.tabs[d]=[E(n,s)]:m.ctype==2||m.ctype==6?m.tabs[d]=[E(n,s),E(n,s+2),E(n,s+4)]:m.ctype==3&&(m.tabs[d]=n[s]);else if(d=="IEND")break;s+=S,h.readUint(n,s),s+=4}var v;return k!=0&&((v=m.frames[m.frames.length-1]).data=M(m,D.slice(0,k),v.rect.width,v.rect.height)),m.data=M(m,L,m.width,m.height),delete m.compress,delete m.interlace,delete m.filter,m},toRGBA8:function(i){const n=i.width,s=i.height;if(i.tabs.acTL==null)return[F(i.data,n,s,i).buffer];const h=[];i.frames[0].data==null&&(i.frames[0].data=i.data);const E=n*s*4,C=new Uint8Array(E),m=new Uint8Array(E),L=new Uint8Array(E);for(let _=0;_<i.frames.length;_++){const k=i.frames[_],p=k.rect.x,x=k.rect.y,c=k.rect.width,l=k.rect.height,A=F(k.data,c,l,i);if(_!=0)for(var D=0;D<E;D++)L[D]=C[D];if(k.blend==0?b(A,c,l,C,n,s,p,x,0):k.blend==1&&b(A,c,l,C,n,s,p,x,1),h.push(C.buffer.slice(0)),k.dispose!=0){if(k.dispose==1)b(m,c,l,C,n,s,p,x,0);else if(k.dispose==2)for(D=0;D<E;D++)C[D]=L[D]}}return h},_paeth:a,_copyTile:b,_bin:w}}();(function(){const{_copyTile:w}=de,{_bin:F}=de,M=de._paeth;var f={table:function(){const c=new Uint32Array(256);for(let l=0;l<256;l++){let A=l;for(let U=0;U<8;U++)1&A?A=3988292384^A>>>1:A>>>=1;c[l]=A}return c}(),update(c,l,A,U){for(let y=0;y<U;y++)c=f.table[255&(c^l[A+y])]^c>>>8;return c},crc:(c,l,A)=>4294967295^f.update(4294967295,c,l,A)};function e(c,l,A,U){l[A]+=c[0]*U>>4,l[A+1]+=c[1]*U>>4,l[A+2]+=c[2]*U>>4,l[A+3]+=c[3]*U>>4}function t(c){return Math.max(0,Math.min(255,c))}function u(c,l){const A=c[0]-l[0],U=c[1]-l[1],y=c[2]-l[2],I=c[3]-l[3];return A*A+U*U+y*y+I*I}function a(c,l,A,U,y,I,v){v==null&&(v=1);const S=U.length,d=[];for(var o=0;o<S;o++){const R=U[o];d.push([R>>>0&255,R>>>8&255,R>>>16&255,R>>>24&255])}for(o=0;o<S;o++){let R=4294967295;for(var O=0,T=0;T<S;T++){var P=u(d[o],d[T]);T!=o&&P<R&&(R=P,O=T)}}const N=new Uint32Array(y.buffer),Q=new Int16Array(l*A*4),$=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(o=0;o<$.length;o++)$[o]=255*(($[o]+.5)/16-.5);for(let R=0;R<A;R++)for(let z=0;z<l;z++){var H;o=4*(R*l+z),v!=2?H=[t(c[o]+Q[o]),t(c[o+1]+Q[o+1]),t(c[o+2]+Q[o+2]),t(c[o+3]+Q[o+3])]:(P=$[4*(3&R)+(3&z)],H=[t(c[o]+P),t(c[o+1]+P),t(c[o+2]+P),t(c[o+3]+P)]),O=0;let G=16777215;for(T=0;T<S;T++){const q=u(H,d[T]);q<G&&(G=q,O=T)}const W=d[O],B=[H[0]-W[0],H[1]-W[1],H[2]-W[2],H[3]-W[3]];v==1&&(z!=l-1&&e(B,Q,o+4,7),R!=A-1&&(z!=0&&e(B,Q,o+4*l-4,3),e(B,Q,o+4*l,5),z!=l-1&&e(B,Q,o+4*l+4,1))),I[o>>2]=O,N[o>>2]=U[O]}}function g(c,l,A,U,y){y==null&&(y={});const{crc:I}=f,v=F.writeUint,S=F.writeUshort,d=F.writeASCII;let o=8;const O=c.frames.length>1;let T,P=!1,N=33+(O?20:0);if(y.sRGB!=null&&(N+=13),y.pHYs!=null&&(N+=21),y.iCCP!=null&&(T=pako.deflate(y.iCCP),N+=21+T.length+4),c.ctype==3){for(var Q=c.plte.length,$=0;$<Q;$++)c.plte[$]>>>24!=255&&(P=!0);N+=8+3*Q+4+(P?8+1*Q+4:0)}for(var H=0;H<c.frames.length;H++)O&&(N+=38),N+=(W=c.frames[H]).cimg.length+12,H!=0&&(N+=4);N+=12;const R=new Uint8Array(N),z=[137,80,78,71,13,10,26,10];for($=0;$<8;$++)R[$]=z[$];if(v(R,o,13),o+=4,d(R,o,"IHDR"),o+=4,v(R,o,l),o+=4,v(R,o,A),o+=4,R[o]=c.depth,o++,R[o]=c.ctype,o++,R[o]=0,o++,R[o]=0,o++,R[o]=0,o++,v(R,o,I(R,o-17,17)),o+=4,y.sRGB!=null&&(v(R,o,1),o+=4,d(R,o,"sRGB"),o+=4,R[o]=y.sRGB,o++,v(R,o,I(R,o-5,5)),o+=4),y.iCCP!=null){const B=13+T.length;v(R,o,B),o+=4,d(R,o,"iCCP"),o+=4,d(R,o,"ICC profile"),o+=11,o+=2,R.set(T,o),o+=T.length,v(R,o,I(R,o-(B+4),B+4)),o+=4}if(y.pHYs!=null&&(v(R,o,9),o+=4,d(R,o,"pHYs"),o+=4,v(R,o,y.pHYs[0]),o+=4,v(R,o,y.pHYs[1]),o+=4,R[o]=y.pHYs[2],o++,v(R,o,I(R,o-13,13)),o+=4),O&&(v(R,o,8),o+=4,d(R,o,"acTL"),o+=4,v(R,o,c.frames.length),o+=4,v(R,o,y.loop!=null?y.loop:0),o+=4,v(R,o,I(R,o-12,12)),o+=4),c.ctype==3){for(v(R,o,3*(Q=c.plte.length)),o+=4,d(R,o,"PLTE"),o+=4,$=0;$<Q;$++){const B=3*$,q=c.plte[$],Z=255&q,ee=q>>>8&255,be=q>>>16&255;R[o+B+0]=Z,R[o+B+1]=ee,R[o+B+2]=be}if(o+=3*Q,v(R,o,I(R,o-3*Q-4,3*Q+4)),o+=4,P){for(v(R,o,Q),o+=4,d(R,o,"tRNS"),o+=4,$=0;$<Q;$++)R[o+$]=c.plte[$]>>>24&255;o+=Q,v(R,o,I(R,o-Q-4,Q+4)),o+=4}}let G=0;for(H=0;H<c.frames.length;H++){var W=c.frames[H];O&&(v(R,o,26),o+=4,d(R,o,"fcTL"),o+=4,v(R,o,G++),o+=4,v(R,o,W.rect.width),o+=4,v(R,o,W.rect.height),o+=4,v(R,o,W.rect.x),o+=4,v(R,o,W.rect.y),o+=4,S(R,o,U[H]),o+=2,S(R,o,1e3),o+=2,R[o]=W.dispose,o++,R[o]=W.blend,o++,v(R,o,I(R,o-30,30)),o+=4);const B=W.cimg;v(R,o,(Q=B.length)+(H==0?0:4)),o+=4;const q=o;d(R,o,H==0?"IDAT":"fdAT"),o+=4,H!=0&&(v(R,o,G++),o+=4),R.set(B,o),o+=Q,v(R,o,I(R,q,o-q)),o+=4}return v(R,o,0),o+=4,d(R,o,"IEND"),o+=4,v(R,o,I(R,o-4,4)),o+=4,R.buffer}function b(c,l,A){for(let U=0;U<c.frames.length;U++){const y=c.frames[U];y.rect.width;const I=y.rect.height,v=new Uint8Array(I*y.bpl+I);y.cimg=s(y.img,I,y.bpp,y.bpl,v,l,A)}}function r(c,l,A,U,y){const I=y[0],v=y[1],S=y[2],d=y[3],o=y[4],O=y[5];let T=6,P=8,N=255;for(var Q=0;Q<c.length;Q++){const re=new Uint8Array(c[Q]);for(var $=re.length,H=0;H<$;H+=4)N&=re[H+3]}const R=N!=255,z=function(Y,j,te,oe,V,fe){const J=[];for(var K=0;K<Y.length;K++){const ae=new Uint8Array(Y[K]),ue=new Uint32Array(ae.buffer);var le;let ce=0,ve=0,ge=j,Ue=te,He=oe?1:0;if(K!=0){const lt=fe||oe||K==1||J[K-2].dispose!=0?1:2;let Qe=0,Ke=1e9;for(let Ce=0;Ce<lt;Ce++){var Ae=new Uint8Array(Y[K-1-Ce]);const ct=new Uint32Array(Y[K-1-Ce]);let we=j,me=te,Se=-1,Re=-1;for(let Ie=0;Ie<te;Ie++)for(let Ee=0;Ee<j;Ee++)ue[ie=Ie*j+Ee]!=ct[ie]&&(Ee<we&&(we=Ee),Ee>Se&&(Se=Ee),Ie<me&&(me=Ie),Ie>Re&&(Re=Ie));Se==-1&&(we=me=Se=Re=0),V&&((1&we)==1&&we--,(1&me)==1&&me--);const Ge=(Se-we+1)*(Re-me+1);Ge<Ke&&(Ke=Ge,Qe=Ce,ce=we,ve=me,ge=Se-we+1,Ue=Re-me+1)}Ae=new Uint8Array(Y[K-1-Qe]),Qe==1&&(J[K-1].dispose=2),le=new Uint8Array(ge*Ue*4),w(Ae,j,te,le,ge,Ue,-ce,-ve,0),He=w(ae,j,te,le,ge,Ue,-ce,-ve,3)?1:0,He==1?n(ae,j,te,le,{x:ce,y:ve,width:ge,height:Ue}):w(ae,j,te,le,ge,Ue,-ce,-ve,0)}else le=ae.slice(0);J.push({rect:{x:ce,y:ve,width:ge,height:Ue},img:le,blend:He,dispose:0})}if(oe)for(K=0;K<J.length;K++){if((ye=J[K]).blend==1)continue;const ae=ye.rect,ue=J[K-1].rect,ce=Math.min(ae.x,ue.x),ve=Math.min(ae.y,ue.y),ge={x:ce,y:ve,width:Math.max(ae.x+ae.width,ue.x+ue.width)-ce,height:Math.max(ae.y+ae.height,ue.y+ue.height)-ve};J[K-1].dispose=1,K-1!=0&&i(Y,j,te,J,K-1,ge,V),i(Y,j,te,J,K,ge,V)}let Me=0;if(Y.length!=1)for(var ie=0;ie<J.length;ie++){var ye;Me+=(ye=J[ie]).rect.width*ye.rect.height}return J}(c,l,A,I,v,S),G={},W=[],B=[];if(U!=0){const re=[];for(H=0;H<z.length;H++)re.push(z[H].img.buffer);const Y=function(V){let fe=0;for(var J=0;J<V.length;J++)fe+=V[J].byteLength;const K=new Uint8Array(fe);let le=0;for(J=0;J<V.length;J++){const Ae=new Uint8Array(V[J]),Me=Ae.length;for(let ie=0;ie<Me;ie+=4){let ye=Ae[ie],ae=Ae[ie+1],ue=Ae[ie+2];const ce=Ae[ie+3];ce==0&&(ye=ae=ue=0),K[le+ie]=ye,K[le+ie+1]=ae,K[le+ie+2]=ue,K[le+ie+3]=ce}le+=Me}return K.buffer}(re),j=E(Y,U);for(H=0;H<j.plte.length;H++)W.push(j.plte[H].est.rgba);let te=0;for(H=0;H<z.length;H++){const oe=(Z=z[H]).img.length;var q=new Uint8Array(j.inds.buffer,te>>2,oe>>2);B.push(q);const V=new Uint8Array(j.abuf,te,oe);O&&a(Z.img,Z.rect.width,Z.rect.height,W,V,q),Z.img.set(V),te+=oe}}else for(Q=0;Q<z.length;Q++){var Z=z[Q];const re=new Uint32Array(Z.img.buffer);var ee=Z.rect.width;for($=re.length,q=new Uint8Array($),B.push(q),H=0;H<$;H++){const Y=re[H];if(H!=0&&Y==re[H-1])q[H]=q[H-1];else if(H>ee&&Y==re[H-ee])q[H]=q[H-ee];else{let j=G[Y];if(j==null&&(G[Y]=j=W.length,W.push(Y),W.length>=300))break;q[H]=j}}}const be=W.length;for(be<=256&&o==0&&(P=be<=2?1:be<=4?2:be<=16?4:8,P=Math.max(P,d)),Q=0;Q<z.length;Q++){(Z=z[Q]).rect.x,Z.rect.y,ee=Z.rect.width;const re=Z.rect.height;let Y=Z.img;new Uint32Array(Y.buffer);let j=4*ee,te=4;if(be<=256&&o==0){j=Math.ceil(P*ee/8);var he=new Uint8Array(j*re);const oe=B[Q];for(let V=0;V<re;V++){H=V*j;const fe=V*ee;if(P==8)for(var X=0;X<ee;X++)he[H+X]=oe[fe+X];else if(P==4)for(X=0;X<ee;X++)he[H+(X>>1)]|=oe[fe+X]<<4-4*(1&X);else if(P==2)for(X=0;X<ee;X++)he[H+(X>>2)]|=oe[fe+X]<<6-2*(3&X);else if(P==1)for(X=0;X<ee;X++)he[H+(X>>3)]|=oe[fe+X]<<7-1*(7&X)}Y=he,T=3,te=1}else if(R==0&&z.length==1){he=new Uint8Array(ee*re*3);const oe=ee*re;for(H=0;H<oe;H++){const V=3*H,fe=4*H;he[V]=Y[fe],he[V+1]=Y[fe+1],he[V+2]=Y[fe+2]}Y=he,T=2,te=3,j=3*ee}Z.img=Y,Z.bpl=j,Z.bpp=te}return{ctype:T,depth:P,plte:W,frames:z}}function i(c,l,A,U,y,I,v){const S=Uint8Array,d=Uint32Array,o=new S(c[y-1]),O=new d(c[y-1]),T=y+1<c.length?new S(c[y+1]):null,P=new S(c[y]),N=new d(P.buffer);let Q=l,$=A,H=-1,R=-1;for(let G=0;G<I.height;G++)for(let W=0;W<I.width;W++){const B=I.x+W,q=I.y+G,Z=q*l+B,ee=N[Z];ee==0||U[y-1].dispose==0&&O[Z]==ee&&(T==null||T[4*Z+3]!=0)||(B<Q&&(Q=B),B>H&&(H=B),q<$&&($=q),q>R&&(R=q))}H==-1&&(Q=$=H=R=0),v&&((1&Q)==1&&Q--,(1&$)==1&&$--),I={x:Q,y:$,width:H-Q+1,height:R-$+1};const z=U[y];z.rect=I,z.blend=1,z.img=new Uint8Array(I.width*I.height*4),U[y-1].dispose==0?(w(o,l,A,z.img,I.width,I.height,-I.x,-I.y,0),n(P,l,A,z.img,I)):w(P,l,A,z.img,I.width,I.height,-I.x,-I.y,0)}function n(c,l,A,U,y){w(c,l,A,U,y.width,y.height,-y.x,-y.y,2)}function s(c,l,A,U,y,I,v){const S=[];let d,o=[0,1,2,3,4];I!=-1?o=[I]:(l*U>5e5||A==1)&&(o=[0]),v&&(d={level:0});const O=pt;for(var T=0;T<o.length;T++){for(let Q=0;Q<l;Q++)h(y,c,Q,U,A,o[T]);S.push(O.deflate(y,d))}let P,N=1e9;for(T=0;T<S.length;T++)S[T].length<N&&(P=T,N=S[T].length);return S[P]}function h(c,l,A,U,y,I){const v=A*U;let S=v+A;if(c[S]=I,S++,I==0)if(U<500)for(var d=0;d<U;d++)c[S+d]=l[v+d];else c.set(new Uint8Array(l.buffer,v,U),S);else if(I==1){for(d=0;d<y;d++)c[S+d]=l[v+d];for(d=y;d<U;d++)c[S+d]=l[v+d]-l[v+d-y]+256&255}else if(A==0){for(d=0;d<y;d++)c[S+d]=l[v+d];if(I==2)for(d=y;d<U;d++)c[S+d]=l[v+d];if(I==3)for(d=y;d<U;d++)c[S+d]=l[v+d]-(l[v+d-y]>>1)+256&255;if(I==4)for(d=y;d<U;d++)c[S+d]=l[v+d]-M(l[v+d-y],0,0)+256&255}else{if(I==2)for(d=0;d<U;d++)c[S+d]=l[v+d]+256-l[v+d-U]&255;if(I==3){for(d=0;d<y;d++)c[S+d]=l[v+d]+256-(l[v+d-U]>>1)&255;for(d=y;d<U;d++)c[S+d]=l[v+d]+256-(l[v+d-U]+l[v+d-y]>>1)&255}if(I==4){for(d=0;d<y;d++)c[S+d]=l[v+d]+256-M(0,l[v+d-U],0)&255;for(d=y;d<U;d++)c[S+d]=l[v+d]+256-M(l[v+d-y],l[v+d-U],l[v+d-y-U])&255}}}function E(c,l){const A=new Uint8Array(c),U=A.slice(0),y=new Uint32Array(U.buffer),I=C(U,l),v=I[0],S=I[1],d=A.length,o=new Uint8Array(d>>2);let O;if(A.length<2e7)for(var T=0;T<d;T+=4)O=m(v,P=A[T]*(1/255),N=A[T+1]*(1/255),Q=A[T+2]*(1/255),$=A[T+3]*(1/255)),o[T>>2]=O.ind,y[T>>2]=O.est.rgba;else for(T=0;T<d;T+=4){var P=A[T]*.00392156862745098,N=A[T+1]*(1/255),Q=A[T+2]*(1/255),$=A[T+3]*(1/255);for(O=v;O.left;)O=L(O.est,P,N,Q,$)<=0?O.left:O.right;o[T>>2]=O.ind,y[T>>2]=O.est.rgba}return{abuf:U.buffer,inds:o,plte:S}}function C(c,l,A){A==null&&(A=1e-4);const U=new Uint32Array(c.buffer),y={i0:0,i1:c.length,bst:null,est:null,tdst:0,left:null,right:null};y.bst=k(c,y.i0,y.i1),y.est=p(y.bst);const I=[y];for(;I.length<l;){let S=0,d=0;for(var v=0;v<I.length;v++)I[v].est.L>S&&(S=I[v].est.L,d=v);if(S<A)break;const o=I[d],O=D(c,U,o.i0,o.i1,o.est.e,o.est.eMq255);if(o.i0>=O||o.i1<=O){o.est.L=0;continue}const T={i0:o.i0,i1:O,bst:null,est:null,tdst:0,left:null,right:null};T.bst=k(c,T.i0,T.i1),T.est=p(T.bst);const P={i0:O,i1:o.i1,bst:null,est:null,tdst:0,left:null,right:null};for(P.bst={R:[],m:[],N:o.bst.N-T.bst.N},v=0;v<16;v++)P.bst.R[v]=o.bst.R[v]-T.bst.R[v];for(v=0;v<4;v++)P.bst.m[v]=o.bst.m[v]-T.bst.m[v];P.est=p(P.bst),o.left=T,o.right=P,I[d]=T,I.push(P)}for(I.sort((S,d)=>d.bst.N-S.bst.N),v=0;v<I.length;v++)I[v].ind=v;return[y,I]}function m(c,l,A,U,y){if(c.left==null)return c.tdst=function(T,P,N,Q,$){const H=P-T[0],R=N-T[1],z=Q-T[2],G=$-T[3];return H*H+R*R+z*z+G*G}(c.est.q,l,A,U,y),c;const I=L(c.est,l,A,U,y);let v=c.left,S=c.right;I>0&&(v=c.right,S=c.left);const d=m(v,l,A,U,y);if(d.tdst<=I*I)return d;const o=m(S,l,A,U,y);return o.tdst<d.tdst?o:d}function L(c,l,A,U,y){const{e:I}=c;return I[0]*l+I[1]*A+I[2]*U+I[3]*y-c.eMq}function D(c,l,A,U,y,I){for(U-=4;A<U;){for(;_(c,A,y)<=I;)A+=4;for(;_(c,U,y)>I;)U-=4;if(A>=U)break;const v=l[A>>2];l[A>>2]=l[U>>2],l[U>>2]=v,A+=4,U-=4}for(;_(c,A,y)>I;)A-=4;return A+4}function _(c,l,A){return c[l]*A[0]+c[l+1]*A[1]+c[l+2]*A[2]+c[l+3]*A[3]}function k(c,l,A){const U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],y=[0,0,0,0],I=A-l>>2;for(let v=l;v<A;v+=4){const S=c[v]*.00392156862745098,d=c[v+1]*(1/255),o=c[v+2]*(1/255),O=c[v+3]*(1/255);y[0]+=S,y[1]+=d,y[2]+=o,y[3]+=O,U[0]+=S*S,U[1]+=S*d,U[2]+=S*o,U[3]+=S*O,U[5]+=d*d,U[6]+=d*o,U[7]+=d*O,U[10]+=o*o,U[11]+=o*O,U[15]+=O*O}return U[4]=U[1],U[8]=U[2],U[9]=U[6],U[12]=U[3],U[13]=U[7],U[14]=U[11],{R:U,m:y,N:I}}function p(c){const{R:l}=c,{m:A}=c,{N:U}=c,y=A[0],I=A[1],v=A[2],S=A[3],d=U==0?0:1/U,o=[l[0]-y*y*d,l[1]-y*I*d,l[2]-y*v*d,l[3]-y*S*d,l[4]-I*y*d,l[5]-I*I*d,l[6]-I*v*d,l[7]-I*S*d,l[8]-v*y*d,l[9]-v*I*d,l[10]-v*v*d,l[11]-v*S*d,l[12]-S*y*d,l[13]-S*I*d,l[14]-S*v*d,l[15]-S*S*d],O=o,T=x;let P=[Math.random(),Math.random(),Math.random(),Math.random()],N=0,Q=0;if(U!=0)for(let H=0;H<16&&(P=T.multVec(O,P),Q=Math.sqrt(T.dot(P,P)),P=T.sml(1/Q,P),!(H!=0&&Math.abs(Q-N)<1e-9));H++)N=Q;const $=[y*d,I*d,v*d,S*d];return{Cov:o,q:$,e:P,L:N,eMq255:T.dot(T.sml(255,$),P),eMq:T.dot(P,$),rgba:(Math.round(255*$[3])<<24|Math.round(255*$[2])<<16|Math.round(255*$[1])<<8|Math.round(255*$[0])<<0)>>>0}}var x={multVec:(c,l)=>[c[0]*l[0]+c[1]*l[1]+c[2]*l[2]+c[3]*l[3],c[4]*l[0]+c[5]*l[1]+c[6]*l[2]+c[7]*l[3],c[8]*l[0]+c[9]*l[1]+c[10]*l[2]+c[11]*l[3],c[12]*l[0]+c[13]*l[1]+c[14]*l[2]+c[15]*l[3]],dot:(c,l)=>c[0]*l[0]+c[1]*l[1]+c[2]*l[2]+c[3]*l[3],sml:(c,l)=>[c*l[0],c*l[1],c*l[2],c*l[3]]};de.encode=function(l,A,U,y,I,v,S){y==null&&(y=0),S==null&&(S=!1);const d=r(l,A,U,y,[!1,!1,!1,0,S,!1]);return b(d,-1),g(d,A,U,I,v)},de.encodeLL=function(l,A,U,y,I,v,S,d){const o={ctype:0+(y==1?0:2)+(I==0?0:4),depth:v,frames:[]},O=(y+I)*v,T=O*A;for(let P=0;P<l.length;P++)o.frames.push({rect:{x:0,y:0,width:A,height:U},img:new Uint8Array(l[P]),blend:0,dispose:1,bpp:Math.ceil(O/8),bpl:Math.ceil(T/8)});return b(o,0,!0),g(o,A,U,S,d)},de.encode.compress=r,de.encode.dither=a,de.quantize=E,de.quantize.getKDtree=C,de.quantize.getNearest=m})();const Ve={toArrayBuffer(w,F){const M=w.width,f=w.height,e=M<<2,t=w.getContext("2d").getImageData(0,0,M,f),u=new Uint32Array(t.data.buffer),a=(32*M+31)/32<<2,g=a*f,b=122+g,r=new ArrayBuffer(b),i=new DataView(r),n=1<<20;let s,h,E,C,m=n,L=0,D=0,_=0;function k(c){i.setUint16(D,c,!0),D+=2}function p(c){i.setUint32(D,c,!0),D+=4}function x(c){D+=c}k(19778),p(b),x(4),p(122),p(108),p(M),p(-f>>>0),k(1),k(32),p(3),p(g),p(2835),p(2835),x(8),p(16711680),p(65280),p(255),p(4278190080),p(1466527264),function c(){for(;L<f&&m>0;){for(C=122+L*a,s=0;s<e;)m--,h=u[_++],E=h>>>24,i.setUint32(C+s,h<<8|E),s+=4;L++}_<u.length?(m=n,setTimeout(c,Ve._dly)):F(r)}()},toBlob(w,F){this.toArrayBuffer(w,M=>{F(new Blob([M],{type:"image/bmp"}))})},_dly:9};var se={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},vt={[se.CHROME]:16384,[se.FIREFOX]:11180,[se.DESKTOP_SAFARI]:16384,[se.IE]:8192,[se.IOS]:4096,[se.ETC]:8192};const qe=typeof window<"u",Je=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Oe=qe&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),At=(qe||Je)&&(Oe&&Oe.getOriginalSymbol(window,"File")||typeof File<"u"&&File),et=(qe||Je)&&(Oe&&Oe.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function je(w,F,M=Date.now()){return new Promise(f=>{const e=w.split(","),t=e[0].match(/:(.*?);/)[1],u=globalThis.atob(e[1]);let a=u.length;const g=new Uint8Array(a);for(;a--;)g[a]=u.charCodeAt(a);const b=new Blob([g],{type:t});b.name=F,b.lastModified=M,f(b)})}function tt(w){return new Promise((F,M)=>{const f=new et;f.onload=()=>F(f.result),f.onerror=e=>M(e),f.readAsDataURL(w)})}function nt(w){return new Promise((F,M)=>{const f=new Image;f.onload=()=>F(f),f.onerror=e=>M(e),f.src=w})}function Fe(){if(Fe.cachedResult!==void 0)return Fe.cachedResult;let w=se.ETC;const{userAgent:F}=navigator;return/Chrom(e|ium)/i.test(F)?w=se.CHROME:/iP(ad|od|hone)/i.test(F)&&/WebKit/i.test(F)?w=se.IOS:/Safari/i.test(F)?w=se.DESKTOP_SAFARI:/Firefox/i.test(F)?w=se.FIREFOX:(/MSIE/i.test(F)||document.documentMode)&&(w=se.IE),Fe.cachedResult=w,Fe.cachedResult}function rt(w,F){const M=Fe(),f=vt[M];let e=w,t=F,u=e*t;const a=e>t?t/e:e/t;for(;u>f*f;){const g=(f+e)/2,b=(f+t)/2;g<b?(t=b,e=b*a):(t=g*a,e=g),u=e*t}return{width:e,height:t}}function Le(w,F){let M,f;try{if(M=new OffscreenCanvas(w,F),f=M.getContext("2d"),f===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{M=document.createElement("canvas"),f=M.getContext("2d")}return M.width=w,M.height=F,[M,f]}function it(w,F){const{width:M,height:f}=rt(w.width,w.height),[e,t]=Le(M,f);return F&&/jpe?g/.test(F)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(w,0,0,e.width,e.height),e}function xe(){return xe.cachedResult!==void 0||(xe.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),xe.cachedResult}function Pe(w,F={}){return new Promise(function(M,f){let e,t;var u=function(){try{return t=it(e,F.fileType||w.type),M([e,t])}catch(g){return f(g)}},a=function(g){try{var b=function(r){try{throw r}catch(i){return f(i)}};try{let r;return tt(w).then(function(i){try{return r=i,nt(r).then(function(n){try{return e=n,function(){try{return u()}catch(s){return f(s)}}()}catch(s){return b(s)}},b)}catch(n){return b(n)}},b)}catch(r){b(r)}}catch(r){return f(r)}};try{if(xe()||[se.DESKTOP_SAFARI,se.MOBILE_SAFARI].includes(Fe()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(w).then(function(g){try{return e=g,u()}catch{return a()}},a)}catch{a()}})}function ke(w,F,M,f,e=1){return new Promise(function(t,u){let a;if(F==="image/png"){let b,r,i;return b=w.getContext("2d"),{data:r}=b.getImageData(0,0,w.width,w.height),i=de.encode([r.buffer],w.width,w.height,4096*e),a=new Blob([i],{type:F}),a.name=M,a.lastModified=f,g.call(this)}{let b=function(){return g.call(this)};if(F==="image/bmp")return new Promise(r=>Ve.toBlob(w,r)).then((function(r){try{return a=r,a.name=M,a.lastModified=f,b.call(this)}catch(i){return u(i)}}).bind(this),u);{let r=function(){return b.call(this)};if(typeof OffscreenCanvas=="function"&&w instanceof OffscreenCanvas)return w.convertToBlob({type:F,quality:e}).then((function(i){try{return a=i,a.name=M,a.lastModified=f,r.call(this)}catch(n){return u(n)}}).bind(this),u);{let i;return i=w.toDataURL(F,e),je(i,M,f).then((function(n){try{return a=n,r.call(this)}catch(s){return u(s)}}).bind(this),u)}}}function g(){return t(a)}})}function pe(w){w.width=0,w.height=0}function _e(){return new Promise(function(w,F){let M,f,e,t;return _e.cachedResult!==void 0?w(_e.cachedResult):je("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(u){try{return M=u,Pe(M).then(function(a){try{return f=a[1],ke(f,M.type,M.name,M.lastModified).then(function(g){try{return e=g,pe(f),Pe(e).then(function(b){try{return t=b[0],_e.cachedResult=t.width===1&&t.height===2,w(_e.cachedResult)}catch(r){return F(r)}},F)}catch(b){return F(b)}},F)}catch(g){return F(g)}},F)}catch(a){return F(a)}},F)})}function ot(w){return new Promise((F,M)=>{const f=new et;f.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return F(-2);const u=t.byteLength;let a=2;for(;a<u;){if(t.getUint16(a+2,!1)<=8)return F(-1);const g=t.getUint16(a,!1);if(a+=2,g==65505){if(t.getUint32(a+=2,!1)!=1165519206)return F(-1);const b=t.getUint16(a+=6,!1)==18761;a+=t.getUint32(a+4,b);const r=t.getUint16(a,b);a+=2;for(let i=0;i<r;i++)if(t.getUint16(a+12*i,b)==274)return F(t.getUint16(a+12*i+8,b))}else{if((65280&g)!=65280)break;a+=t.getUint16(a,!1)}}return F(-1)},f.onerror=e=>M(e),f.readAsArrayBuffer(w)})}function at(w,F){const{width:M}=w,{height:f}=w,{maxWidthOrHeight:e}=F;let t,u=w;return isFinite(e)&&(M>e||f>e)&&([u,t]=Le(M,f),M>f?(u.width=e,u.height=f/M*e):(u.width=M/f*e,u.height=e),t.drawImage(w,0,0,u.width,u.height),pe(w)),u}function st(w,F){const{width:M}=w,{height:f}=w,[e,t]=Le(M,f);switch(F>4&&F<9?(e.width=f,e.height=M):(e.width=M,e.height=f),F){case 2:t.transform(-1,0,0,1,M,0);break;case 3:t.transform(-1,0,0,-1,M,f);break;case 4:t.transform(1,0,0,-1,0,f);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,f,0);break;case 7:t.transform(0,-1,-1,0,f,M);break;case 8:t.transform(0,-1,1,0,0,M)}return t.drawImage(w,0,0,M,f),pe(w),e}function Ye(w,F,M=0){return new Promise(function(f,e){let t,u,a,g,b,r,i,n,s,h,E,C,m,L,D,_,k,p,x,c;function l(U=5){if(F.signal&&F.signal.aborted)throw F.signal.reason;t+=U,F.onProgress(Math.min(t,100))}function A(U){if(F.signal&&F.signal.aborted)throw F.signal.reason;t=Math.min(Math.max(U,t),100),F.onProgress(t)}return t=M,u=F.maxIteration||10,a=1024*F.maxSizeMB*1024,l(),Pe(w,F).then((function(U){try{return[,g]=U,l(),b=at(g,F),l(),new Promise(function(y,I){var v;if(!(v=F.exifOrientation))return ot(w).then((function(d){try{return v=d,S.call(this)}catch(o){return I(o)}}).bind(this),I);function S(){return y(v)}return S.call(this)}).then((function(y){try{return r=y,l(),_e().then((function(I){try{return i=I?b:st(b,r),l(),n=F.initialQuality||1,s=F.fileType||w.type,ke(i,s,w.name,w.lastModified,n).then((function(v){try{{let d=function(){if(u--&&(D>a||D>m)){let O,T;return O=c?.95*x.width:x.width,T=c?.95*x.height:x.height,[k,p]=Le(O,T),p.drawImage(x,0,0,O,T),n*=s==="image/png"?.85:.95,ke(k,s,w.name,w.lastModified,n).then(function(P){try{return _=P,pe(x),x=k,D=_.size,A(Math.min(99,Math.floor((L-D)/(L-a)*100))),d}catch(N){return e(N)}},e)}return[1]},o=function(){return pe(x),pe(k),pe(b),pe(i),pe(g),A(100),f(_)};if(h=v,l(),E=h.size>a,C=h.size>w.size,!E&&!C)return A(100),f(h);var S;return m=w.size,L=h.size,D=L,x=i,c=!F.alwaysKeepResolution&&E,(S=(function(O){for(;O;){if(O.then)return void O.then(S,e);try{if(O.pop){if(O.length)return O.pop()?o.call(this):O;O=d}else O=O.call(this)}catch(T){return e(T)}}}).bind(this))(d)}}catch(d){return e(d)}}).bind(this),e)}catch(v){return e(v)}}).bind(this),e)}catch(I){return e(I)}}).bind(this),e)}catch(y){return e(y)}}).bind(this),e)})}const wt=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let $e;function mt(w,F){return new Promise((M,f)=>{$e||($e=function(u){const a=[];return a.push(u),URL.createObjectURL(new Blob(a))}(wt));const e=new Worker($e);e.addEventListener("message",function(u){if(F.signal&&F.signal.aborted)e.terminate();else if(u.data.progress===void 0){if(u.data.error)return f(new Error(u.data.error)),void e.terminate();M(u.data.file),e.terminate()}else F.onProgress(u.data.progress)}),e.addEventListener("error",f),F.signal&&F.signal.addEventListener("abort",()=>{f(F.signal.reason),e.terminate()}),e.postMessage({file:w,imageCompressionLibUrl:F.libURL,options:{...F,onProgress:void 0,signal:void 0}})})}function ne(w,F){return new Promise(function(M,f){let e,t,u,a,g,b;if(e={...F},u=0,{onProgress:a}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,g=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=s=>{u=s,typeof a=="function"&&a(u)},!(w instanceof Blob||w instanceof At))return f(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(w.type))return f(new Error("The file given is not an image"));if(b=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!g||typeof Worker!="function"||b)return Ye(w,e).then((function(s){try{return t=s,n.call(this)}catch(h){return f(h)}}).bind(this),f);var r=(function(){try{return n.call(this)}catch(s){return f(s)}}).bind(this),i=function(s){try{return Ye(w,e).then(function(h){try{return t=h,r()}catch(E){return f(E)}},f)}catch(h){return f(h)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",mt(w,e).then(function(s){try{return t=s,r()}catch{return i()}},i)}catch{i()}function n(){try{t.name=w.name,t.lastModified=w.lastModified}catch{}try{e.preserveExif&&w.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===w.type)&&(t=Ze(w,t))}catch{}return M(t)}})}ne.getDataUrlFromFile=tt,ne.getFilefromDataUrl=je,ne.loadImage=nt,ne.drawImageInCanvas=it,ne.drawFileInCanvas=Pe,ne.canvasToFile=ke,ne.getExifOrientation=ot,ne.handleMaxWidthOrHeight=at,ne.followExifOrientation=st,ne.cleanupCanvasMemory=pe,ne.isAutoOrientationInBrowser=_e,ne.approximateBelowMaximumCanvasSizeOfBrowser=rt,ne.copyExifWithoutOrientation=Ze,ne.getBrowserName=Fe,ne.version="2.0.2";const ze=w=>!w||w.length<12?null:{tradeId:w[0],date:w[1],time:w[2],amount:parseFloat(w[3])||0,tagId:w[4],tagName:w[5],tagColor:w[6],tagEmoji:w[7],driveImageId:w[8]||null,notes:w[9]||"",createdAt:w[10],updatedAt:w[11]},ft=async()=>{const w="1ruzm5D-ofifAU7d5oRChBT7DAYFTlVLgULSsXvYEtXU";console.log(" Fetching all trades from sheet:",w);try{const M=(await window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:w,range:`${Te.TRADES}!A2:L`})).result.values||[];console.log(" Received rows from sheet:",M.length);const f=M.map(ze).filter(Boolean);return console.log(" Parsed trades:",f.length),f}catch(F){return console.error(" Failed to fetch trades:",F),[]}},bt=async(w,F)=>{console.log(` Fetching trades for: ${w}-${F} (month is 0-indexed, so ${F} = ${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][F]})`);const M=await ft();console.log(` Total trades in sheet: ${M.length}`),M.length>0&&console.log(" All trade dates:",M.map(e=>e.date));const f=M.filter(e=>{const[t,u]=e.date.split("-").map(Number),a=t===w&&u===F+1;return console.log(a?`   Trade ${e.date} MATCHES!`:`   Trade ${e.date} doesn't match: tradeYear=${t} vs ${w}, tradeMonth=${u} vs ${F+1}`),a});return console.log(` Filtered to ${f.length} trades for ${w}-${F+1}`),f},yt=async w=>{const F=await Ne.getOrCreateSpreadsheet();let M=null;if(w.screenshot){const t=await ne(w.screenshot,{maxSizeMB:1,maxWidthOrHeight:1200,useWebWorker:!0}),u=`${w.tradeId}_${w.date}.jpg`;M=await Ne.uploadImage(t,u)}const f=new Date().toISOString(),e=[w.tradeId,w.date,w.time,w.amount,w.tagId,w.tagName,w.tagColor,w.tagEmoji,M||"",w.notes||"",f,f];return await window.gapi.client.sheets.spreadsheets.values.append({spreadsheetId:F,range:`${Te.TRADES}!A:L`,valueInputOption:"USER_ENTERED",resource:{values:[e]}}),{...w,driveImageId:M,createdAt:f,updatedAt:f}},Ut=async({tradeId:w,updates:F})=>{const M=localStorage.getItem(ut.SHEET_ID),t=((await window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:M,range:`${Te.TRADES}!A:A`})).result.values||[]).findIndex(n=>n[0]===w);if(t===-1)throw new Error("Trade not found");const a=(await window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:M,range:`${Te.TRADES}!A${t+1}:L${t+1}`})).result.values[0],g=ze(a);let b=g.driveImageId;if(F.screenshot){const n=await ne(F.screenshot,{maxSizeMB:1,maxWidthOrHeight:1200,useWebWorker:!0}),s=`${w}_${F.date||g.date}.jpg`;b=await Ne.uploadImage(n,s)}const r=new Date().toISOString(),i=[w,F.date||g.date,F.time||g.time,F.amount!==void 0?F.amount:g.amount,F.tagId||g.tagId,F.tagName||g.tagName,F.tagColor||g.tagColor,F.tagEmoji||g.tagEmoji,b||"",F.notes!==void 0?F.notes:g.notes,g.createdAt,r];return await window.gapi.client.sheets.spreadsheets.values.update({spreadsheetId:M,range:`${Te.TRADES}!A${t+1}:L${t+1}`,valueInputOption:"USER_ENTERED",resource:{values:[i]}}),ze(i)},It=async w=>{const F="1ruzm5D-ofifAU7d5oRChBT7DAYFTlVLgULSsXvYEtXU";console.log(" Deleting trade:",w);const e=((await window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:F,range:`${Te.TRADES}!A:A`})).result.values||[]).findIndex(g=>g[0]===w);if(e===-1)throw new Error("Trade not found");console.log(" Found trade at row:",e);const a=(await window.gapi.client.sheets.spreadsheets.get({spreadsheetId:F})).result.sheets.find(g=>g.properties.title===Te.TRADES).properties.sheetId;await window.gapi.client.sheets.spreadsheets.batchUpdate({spreadsheetId:F,resource:{requests:[{deleteDimension:{range:{sheetId:a,dimension:"ROWS",startIndex:e,endIndex:e+1}}}]}}),console.log(" Trade deleted successfully")},Ft=()=>Xe({queryKey:["trades"],queryFn:ft,staleTime:5*60*1e3,cacheTime:30*60*1e3}),Tt=(w,F)=>Xe({queryKey:["trades",w,F],queryFn:()=>bt(w,F),staleTime:5*60*1e3}),St=()=>{const w=Be();return We({mutationFn:yt,onMutate:async F=>{await w.cancelQueries({queryKey:["trades"]});const M=w.getQueryData(["trades"]);return M&&w.setQueryData(["trades"],f=>[...f||[],F]),{previousTrades:M}},onError:(F,M,f)=>{f!=null&&f.previousTrades&&w.setQueryData(["trades"],f.previousTrades)},onSettled:()=>{w.invalidateQueries({queryKey:["trades"]})}})},_t=()=>{const w=Be();return We({mutationFn:Ut,onSuccess:()=>{w.invalidateQueries({queryKey:["trades"]})}})},Ct=()=>{const w=Be();return We({mutationFn:It,onMutate:async F=>{await w.cancelQueries({queryKey:["trades"]});const M=w.getQueryData(["trades"]);return M&&w.setQueryData(["trades"],f=>(f||[]).filter(e=>e.tradeId!==F)),{previousTrades:M}},onError:(F,M,f)=>{f!=null&&f.previousTrades&&w.setQueryData(["trades"],f.previousTrades)},onSettled:()=>{w.invalidateQueries({queryKey:["trades"]})}})};export{Tt as a,Ct as b,_t as c,St as d,Ft as u};
