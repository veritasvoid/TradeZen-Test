import{u as Ze,a as We}from"./useMutation-DTDEvqP6.js";import{f as qe,h as $e,S as Fe,i as dt,l as ht,D as gt}from"./index-Dej5AtVC.js";function pt(y,S){return S.forEach(function(C){C&&typeof C!="string"&&!Array.isArray(C)&&Object.keys(C).forEach(function(o){if(o!=="default"&&!(o in y)){var e=Object.getOwnPropertyDescriptor(C,o);Object.defineProperty(y,o,e.get?e:{enumerable:!0,get:function(){return C[o]}})}})}),Object.freeze(y)}function Je(y,S){return new Promise(function(C,o){let e;return vt(y).then(function(t){try{return e=t,C(new Blob([S.slice(0,2),e,S.slice(2)],{type:"image/jpeg"}))}catch(l){return o(l)}},o)})}const vt=y=>new Promise((S,C)=>{const o=new FileReader;o.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let l=0;if(t.getUint16(l)!==65496)return C("not a valid JPEG");for(l+=2;;){const a=t.getUint16(l);if(a===65498)break;const g=t.getUint16(l+2);if(a===65505&&t.getUint32(l+4)===1165519206){const m=l+10;let n;switch(t.getUint16(m)){case 18761:n=!0;break;case 19789:n=!1;break;default:return C("TIFF header contains invalid endian")}if(t.getUint16(m+2,n)!==42)return C("TIFF header contains invalid version");const i=t.getUint32(m+4,n),r=m+i+2+12*t.getUint16(m+i,n);for(let s=m+i+2;s<r;s+=12)if(t.getUint16(s,n)==274){if(t.getUint16(s+2,n)!==3)return C("Orientation data type is invalid");if(t.getUint32(s+4,n)!==1)return C("Orientation data count is invalid");t.setUint16(s+8,1,n);break}return S(e.slice(l,l+2+g))}l+=2+g}return S(new Blob)}),o.readAsArrayBuffer(y)});var He={},mt={get exports(){return He},set exports(y){He=y}};(function(y){var S,C,o={};mt.exports=o,o.parse=function(e,t){for(var l=o.bin.readUshort,a=o.bin.readUint,g=0,m={},n=new Uint8Array(e),i=n.length-4;a(n,i)!=101010256;)i--;g=i,g+=4;var r=l(n,g+=4);l(n,g+=2);var s=a(n,g+=2),h=a(n,g+=4);g+=4,g=h;for(var A=0;A<r;A++){a(n,g),g+=4,g+=4,g+=4,a(n,g+=4),s=a(n,g+=4);var E=a(n,g+=4),v=l(n,g+=4),M=l(n,g+2),x=l(n,g+4);g+=6;var R=a(n,g+=8);g+=4,g+=v+M+x,o._readLocal(n,R,m,s,E,t)}return m},o._readLocal=function(e,t,l,a,g,m){var n=o.bin.readUshort,i=o.bin.readUint;i(e,t),n(e,t+=4),n(e,t+=2);var r=n(e,t+=2);i(e,t+=2),i(e,t+=4),t+=4;var s=n(e,t+=8),h=n(e,t+=2);t+=2;var A=o.bin.readUTF8(e,t,s);if(t+=s,t+=h,m)l[A]={size:g,csize:a};else{var E=new Uint8Array(e.buffer,t);if(r==0)l[A]=new Uint8Array(E.buffer.slice(t,t+a));else{if(r!=8)throw"unknown compression method: "+r;var v=new Uint8Array(g);o.inflateRaw(E,v),l[A]=v}}},o.inflateRaw=function(e,t){return o.F.inflate(e,t)},o.inflate=function(e,t){return e[0],e[1],o.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},o.deflate=function(e,t){t==null&&(t={level:6});var l=0,a=new Uint8Array(50+Math.floor(1.1*e.length));a[l]=120,a[l+1]=156,l+=2,l=o.F.deflateRaw(e,a,l,t.level);var g=o.adler(e,0,e.length);return a[l+0]=g>>>24&255,a[l+1]=g>>>16&255,a[l+2]=g>>>8&255,a[l+3]=g>>>0&255,new Uint8Array(a.buffer,0,l+4)},o.deflateRaw=function(e,t){t==null&&(t={level:6});var l=new Uint8Array(50+Math.floor(1.1*e.length)),a=o.F.deflateRaw(e,l,a,t.level);return new Uint8Array(l.buffer,0,a)},o.encode=function(e,t){t==null&&(t=!1);var l=0,a=o.bin.writeUint,g=o.bin.writeUshort,m={};for(var n in e){var i=!o._noNeed(n)&&!t,r=e[n],s=o.crc.crc(r,0,r.length);m[n]={cpr:i,usize:r.length,crc:s,file:i?o.deflateRaw(r):r}}for(var n in m)l+=m[n].file.length+30+46+2*o.bin.sizeUTF8(n);l+=22;var h=new Uint8Array(l),A=0,E=[];for(var n in m){var v=m[n];E.push(A),A=o._writeHeader(h,A,n,v,0)}var M=0,x=A;for(var n in m)v=m[n],E.push(A),A=o._writeHeader(h,A,n,v,1,E[M++]);var R=A-x;return a(h,A,101010256),A+=4,g(h,A+=4,M),g(h,A+=2,M),a(h,A+=2,R),a(h,A+=4,x),A+=4,A+=2,h.buffer},o._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},o._writeHeader=function(e,t,l,a,g,m){var n=o.bin.writeUint,i=o.bin.writeUshort,r=a.file;return n(e,t,g==0?67324752:33639248),t+=4,g==1&&(t+=2),i(e,t,20),i(e,t+=2,0),i(e,t+=2,a.cpr?8:0),n(e,t+=2,0),n(e,t+=4,a.crc),n(e,t+=4,r.length),n(e,t+=4,a.usize),i(e,t+=4,o.bin.sizeUTF8(l)),i(e,t+=2,0),t+=2,g==1&&(t+=2,t+=2,n(e,t+=6,m),t+=4),t+=o.bin.writeUTF8(e,t,l),g==0&&(e.set(r,t),t+=r.length),t},o.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var l=t,a=0;a<8;a++)1&l?l=3988292384^l>>>1:l>>>=1;e[t]=l}return e}(),update:function(e,t,l,a){for(var g=0;g<a;g++)e=o.crc.table[255&(e^t[l+g])]^e>>>8;return e},crc:function(e,t,l){return 4294967295^o.crc.update(4294967295,e,t,l)}},o.adler=function(e,t,l){for(var a=1,g=0,m=t,n=t+l;m<n;){for(var i=Math.min(m+5552,n);m<i;)g+=a+=e[m++];a%=65521,g%=65521}return g<<16|a},o.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255,e[t+2]=l>>16&255,e[t+3]=l>>24&255},readASCII:function(e,t,l){for(var a="",g=0;g<l;g++)a+=String.fromCharCode(e[t+g]);return a},writeASCII:function(e,t,l){for(var a=0;a<l.length;a++)e[t+a]=l.charCodeAt(a)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,l){for(var a,g="",m=0;m<l;m++)g+="%"+o.bin.pad(e[t+m].toString(16));try{a=decodeURIComponent(g)}catch{return o.bin.readASCII(e,t,l)}return a},writeUTF8:function(e,t,l){for(var a=l.length,g=0,m=0;m<a;m++){var n=l.charCodeAt(m);if(!(4294967168&n))e[t+g]=n,g++;else if(!(4294965248&n))e[t+g]=192|n>>6,e[t+g+1]=128|n>>0&63,g+=2;else if(!(4294901760&n))e[t+g]=224|n>>12,e[t+g+1]=128|n>>6&63,e[t+g+2]=128|n>>0&63,g+=3;else{if(4292870144&n)throw"e";e[t+g]=240|n>>18,e[t+g+1]=128|n>>12&63,e[t+g+2]=128|n>>6&63,e[t+g+3]=128|n>>0&63,g+=4}}return g},sizeUTF8:function(e){for(var t=e.length,l=0,a=0;a<t;a++){var g=e.charCodeAt(a);if(!(4294967168&g))l++;else if(!(4294965248&g))l+=2;else if(!(4294901760&g))l+=3;else{if(4292870144&g)throw"e";l+=4}}return l}},o.F={},o.F.deflateRaw=function(e,t,l,a){var g=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],m=o.F.U,n=o.F._goodIndex;o.F._hash;var i=o.F._putsE,r=0,s=l<<3,h=0,A=e.length;if(a==0){for(;r<A;)i(t,s,r+(U=Math.min(65535,A-r))==A?1:0),s=o.F._copyExact(e,r,U,t,s+8),r+=U;return s>>>3}var E=m.lits,v=m.strt,M=m.prev,x=0,R=0,L=0,p=0,H=0,u=0;for(A>2&&(v[u=o.F._hash(e,0)]=0),r=0;r<A;r++){if(H=u,r+1<A-2){u=o.F._hash(e,r+1);var c=r+1&32767;M[c]=v[u],v[u]=c}if(h<=r){(x>14e3||R>26697)&&A-r>100&&(h<r&&(E[x]=r-h,x+=2,h=r),s=o.F._writeBlock(r==A-1||h==A?1:0,E,x,p,e,L,r-L,t,s),x=R=p=0,L=r);var b=0;r<A-2&&(b=o.F._bestMatch(e,r,M,H,Math.min(g[2],A-r),g[3]));var U=b>>>16,I=65535&b;if(b!=0){I=65535&b;var F=n(U=b>>>16,m.of0);m.lhst[257+F]++;var w=n(I,m.df0);m.dhst[w]++,p+=m.exb[F]+m.dxb[w],E[x]=U<<23|r-h,E[x+1]=I<<16|F<<8|w,x+=2,h=r+U}else m.lhst[e[r]]++;R++}}for(L==r&&e.length!=0||(h<r&&(E[x]=r-h,x+=2,h=r),s=o.F._writeBlock(1,E,x,p,e,L,r-L,t,s),x=0,R=0,x=R=p=0,L=r);7&s;)s++;return s>>>3},o.F._bestMatch=function(e,t,l,a,g,m){var n=32767&t,i=l[n],r=n-i+32768&32767;if(i==n||a!=o.F._hash(e,t-r))return 0;for(var s=0,h=0,A=Math.min(32767,t);r<=A&&--m!=0&&i!=n;){if(s==0||e[t+s]==e[t+s-r]){var E=o.F._howLong(e,t,r);if(E>s){if(h=r,(s=E)>=g)break;r+2<E&&(E=r+2);for(var v=0,M=0;M<E-2;M++){var x=t-r+M+32768&32767,R=x-l[x]+32768&32767;R>v&&(v=R,i=x)}}}r+=(n=i)-(i=l[n])+32768&32767}return s<<16|h},o.F._howLong=function(e,t,l){if(e[t]!=e[t-l]||e[t+1]!=e[t+1-l]||e[t+2]!=e[t+2-l])return 0;var a=t,g=Math.min(e.length,t+258);for(t+=3;t<g&&e[t]==e[t-l];)t++;return t-a},o.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},o.saved=0,o.F._writeBlock=function(e,t,l,a,g,m,n,i,r){var s,h,A,E,v,M,x,R,L,p=o.F.U,H=o.F._putsF,u=o.F._putsE;p.lhst[256]++,h=(s=o.F.getTrees())[0],A=s[1],E=s[2],v=s[3],M=s[4],x=s[5],R=s[6],L=s[7];var c=32+(r+3&7?8-(r+3&7):0)+(n<<3),b=a+o.F.contSize(p.fltree,p.lhst)+o.F.contSize(p.fdtree,p.dhst),U=a+o.F.contSize(p.ltree,p.lhst)+o.F.contSize(p.dtree,p.dhst);U+=14+3*x+o.F.contSize(p.itree,p.ihst)+(2*p.ihst[16]+3*p.ihst[17]+7*p.ihst[18]);for(var I=0;I<286;I++)p.lhst[I]=0;for(I=0;I<30;I++)p.dhst[I]=0;for(I=0;I<19;I++)p.ihst[I]=0;var F=c<b&&c<U?0:b<U?1:2;if(H(i,r,e),H(i,r+1,F),r+=3,F==0){for(;7&r;)r++;r=o.F._copyExact(g,m,n,i,r)}else{var w,T;if(F==1&&(w=p.fltree,T=p.fdtree),F==2){o.F.makeCodes(p.ltree,h),o.F.revCodes(p.ltree,h),o.F.makeCodes(p.dtree,A),o.F.revCodes(p.dtree,A),o.F.makeCodes(p.itree,E),o.F.revCodes(p.itree,E),w=p.ltree,T=p.dtree,u(i,r,v-257),u(i,r+=5,M-1),u(i,r+=5,x-4),r+=4;for(var d=0;d<x;d++)u(i,r+3*d,p.itree[1+(p.ordr[d]<<1)]);r+=3*x,r=o.F._codeTiny(R,p.itree,i,r),r=o.F._codeTiny(L,p.itree,i,r)}for(var f=m,O=0;O<l;O+=2){for(var _=t[O],P=_>>>23,z=f+(8388607&_);f<z;)r=o.F._writeLit(g[f++],w,i,r);if(P!=0){var N=t[O+1],Q=N>>16,k=N>>8&255,D=255&N;u(i,r=o.F._writeLit(257+k,w,i,r),P-p.of0[k]),r+=p.exb[k],H(i,r=o.F._writeLit(D,T,i,r),Q-p.df0[D]),r+=p.dxb[D],f+=P}}r=o.F._writeLit(256,w,i,r)}return r},o.F._copyExact=function(e,t,l,a,g){var m=g>>>3;return a[m]=l,a[m+1]=l>>>8,a[m+2]=255-a[m],a[m+3]=255-a[m+1],m+=4,a.set(new Uint8Array(e.buffer,t,l),m),g+(l+4<<3)},o.F.getTrees=function(){for(var e=o.F.U,t=o.F._hufTree(e.lhst,e.ltree,15),l=o.F._hufTree(e.dhst,e.dtree,15),a=[],g=o.F._lenCodes(e.ltree,a),m=[],n=o.F._lenCodes(e.dtree,m),i=0;i<a.length;i+=2)e.ihst[a[i]]++;for(i=0;i<m.length;i+=2)e.ihst[m[i]]++;for(var r=o.F._hufTree(e.ihst,e.itree,7),s=19;s>4&&e.itree[1+(e.ordr[s-1]<<1)]==0;)s--;return[t,l,r,g,n,s,a,m]},o.F.getSecond=function(e){for(var t=[],l=0;l<e.length;l+=2)t.push(e[l+1]);return t},o.F.nonZero=function(e){for(var t="",l=0;l<e.length;l+=2)e[l+1]!=0&&(t+=(l>>1)+",");return t},o.F.contSize=function(e,t){for(var l=0,a=0;a<t.length;a++)l+=t[a]*e[1+(a<<1)];return l},o.F._codeTiny=function(e,t,l,a){for(var g=0;g<e.length;g+=2){var m=e[g],n=e[g+1];a=o.F._writeLit(m,t,l,a);var i=m==16?2:m==17?3:7;m>15&&(o.F._putsE(l,a,n,i),a+=i)}return a},o.F._lenCodes=function(e,t){for(var l=e.length;l!=2&&e[l-1]==0;)l-=2;for(var a=0;a<l;a+=2){var g=e[a+1],m=a+3<l?e[a+3]:-1,n=a+5<l?e[a+5]:-1,i=a==0?-1:e[a-1];if(g==0&&m==g&&n==g){for(var r=a+5;r+2<l&&e[r+2]==g;)r+=2;(s=Math.min(r+1-a>>>1,138))<11?t.push(17,s-3):t.push(18,s-11),a+=2*s-2}else if(g==i&&m==g&&n==g){for(r=a+5;r+2<l&&e[r+2]==g;)r+=2;var s=Math.min(r+1-a>>>1,6);t.push(16,s-3),a+=2*s-2}else t.push(g,0)}return l>>>1},o.F._hufTree=function(e,t,l){var a=[],g=e.length,m=t.length,n=0;for(n=0;n<m;n+=2)t[n]=0,t[n+1]=0;for(n=0;n<g;n++)e[n]!=0&&a.push({lit:n,f:e[n]});var i=a.length,r=a.slice(0);if(i==0)return 0;if(i==1){var s=a[0].lit;return r=s==0?1:0,t[1+(s<<1)]=1,t[1+(r<<1)]=1,1}a.sort(function(R,L){return R.f-L.f});var h=a[0],A=a[1],E=0,v=1,M=2;for(a[0]={lit:-1,f:h.f+A.f,l:h,r:A,d:0};v!=i-1;)h=E!=v&&(M==i||a[E].f<a[M].f)?a[E++]:a[M++],A=E!=v&&(M==i||a[E].f<a[M].f)?a[E++]:a[M++],a[v++]={lit:-1,f:h.f+A.f,l:h,r:A};var x=o.F.setDepth(a[v-1],0);for(x>l&&(o.F.restrictDepth(r,l,x),x=l),n=0;n<i;n++)t[1+(r[n].lit<<1)]=r[n].d;return x},o.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(o.F.setDepth(e.l,t+1),o.F.setDepth(e.r,t+1))},o.F.restrictDepth=function(e,t,l){var a=0,g=1<<l-t,m=0;for(e.sort(function(i,r){return r.d==i.d?i.f-r.f:r.d-i.d}),a=0;a<e.length&&e[a].d>t;a++){var n=e[a].d;e[a].d=t,m+=g-(1<<l-n)}for(m>>>=l-t;m>0;)(n=e[a].d)<t?(e[a].d++,m-=1<<t-n-1):a++;for(;a>=0;a--)e[a].d==t&&m<0&&(e[a].d--,m++);m!=0&&console.log("debt left")},o.F._goodIndex=function(e,t){var l=0;return t[16|l]<=e&&(l|=16),t[8|l]<=e&&(l|=8),t[4|l]<=e&&(l|=4),t[2|l]<=e&&(l|=2),t[1|l]<=e&&(l|=1),l},o.F._writeLit=function(e,t,l,a){return o.F._putsF(l,a,t[e<<1]),a+t[1+(e<<1)]},o.F.inflate=function(e,t){var l=Uint8Array;if(e[0]==3&&e[1]==0)return t||new l(0);var a=o.F,g=a._bitsF,m=a._bitsE,n=a._decodeTiny,i=a.makeCodes,r=a.codes2map,s=a._get17,h=a.U,A=t==null;A&&(t=new l(e.length>>>2<<3));for(var E,v,M=0,x=0,R=0,L=0,p=0,H=0,u=0,c=0,b=0;M==0;)if(M=g(e,b,1),x=g(e,b+1,2),b+=3,x!=0){if(A&&(t=o.F._check(t,c+(1<<17))),x==1&&(E=h.flmap,v=h.fdmap,H=511,u=31),x==2){R=m(e,b,5)+257,L=m(e,b+5,5)+1,p=m(e,b+10,4)+4,b+=14;for(var U=0;U<38;U+=2)h.itree[U]=0,h.itree[U+1]=0;var I=1;for(U=0;U<p;U++){var F=m(e,b+3*U,3);h.itree[1+(h.ordr[U]<<1)]=F,F>I&&(I=F)}b+=3*p,i(h.itree,I),r(h.itree,I,h.imap),E=h.lmap,v=h.dmap,b=n(h.imap,(1<<I)-1,R+L,e,b,h.ttree);var w=a._copyOut(h.ttree,0,R,h.ltree);H=(1<<w)-1;var T=a._copyOut(h.ttree,R,L,h.dtree);u=(1<<T)-1,i(h.ltree,w),r(h.ltree,w,E),i(h.dtree,T),r(h.dtree,T,v)}for(;;){var d=E[s(e,b)&H];b+=15&d;var f=d>>>4;if(!(f>>>8))t[c++]=f;else{if(f==256)break;var O=c+f-254;if(f>264){var _=h.ldef[f-257];O=c+(_>>>3)+m(e,b,7&_),b+=7&_}var P=v[s(e,b)&u];b+=15&P;var z=P>>>4,N=h.ddef[z],Q=(N>>>4)+g(e,b,15&N);for(b+=15&N,A&&(t=o.F._check(t,c+(1<<17)));c<O;)t[c]=t[c++-Q],t[c]=t[c++-Q],t[c]=t[c++-Q],t[c]=t[c++-Q];c=O}}}else{7&b&&(b+=8-(7&b));var k=4+(b>>>3),D=e[k-4]|e[k-3]<<8;A&&(t=o.F._check(t,c+D)),t.set(new l(e.buffer,e.byteOffset+k,D),c),b=k+D<<3,c+=D}return t.length==c?t:t.slice(0,c)},o.F._check=function(e,t){var l=e.length;if(t<=l)return e;var a=new Uint8Array(Math.max(l<<1,t));return a.set(e,0),a},o.F._decodeTiny=function(e,t,l,a,g,m){for(var n=o.F._bitsE,i=o.F._get17,r=0;r<l;){var s=e[i(a,g)&t];g+=15&s;var h=s>>>4;if(h<=15)m[r]=h,r++;else{var A=0,E=0;h==16?(E=3+n(a,g,2),g+=2,A=m[r-1]):h==17?(E=3+n(a,g,3),g+=3):h==18&&(E=11+n(a,g,7),g+=7);for(var v=r+E;r<v;)m[r]=A,r++}}return g},o.F._copyOut=function(e,t,l,a){for(var g=0,m=0,n=a.length>>>1;m<l;){var i=e[m+t];a[m<<1]=0,a[1+(m<<1)]=i,i>g&&(g=i),m++}for(;m<n;)a[m<<1]=0,a[1+(m<<1)]=0,m++;return g},o.F.makeCodes=function(e,t){for(var l,a,g,m,n=o.F.U,i=e.length,r=n.bl_count,s=0;s<=t;s++)r[s]=0;for(s=1;s<i;s+=2)r[e[s]]++;var h=n.next_code;for(l=0,r[0]=0,a=1;a<=t;a++)l=l+r[a-1]<<1,h[a]=l;for(g=0;g<i;g+=2)(m=e[g+1])!=0&&(e[g]=h[m],h[m]++)},o.F.codes2map=function(e,t,l){for(var a=e.length,g=o.F.U.rev15,m=0;m<a;m+=2)if(e[m+1]!=0)for(var n=m>>1,i=e[m+1],r=n<<4|i,s=t-i,h=e[m]<<s,A=h+(1<<s);h!=A;)l[g[h]>>>15-t]=r,h++},o.F.revCodes=function(e,t){for(var l=o.F.U.rev15,a=15-t,g=0;g<e.length;g+=2){var m=e[g]<<t-e[g+1];e[g]=l[m]>>>a}},o.F._putsE=function(e,t,l){l<<=7&t;var a=t>>>3;e[a]|=l,e[a+1]|=l>>>8},o.F._putsF=function(e,t,l){l<<=7&t;var a=t>>>3;e[a]|=l,e[a+1]|=l>>>8,e[a+2]|=l>>>16},o.F._bitsE=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<l)-1},o.F._bitsF=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<l)-1},o.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},o.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},o.F.U=(S=Uint16Array,C=Uint32Array,{next_code:new S(16),bl_count:new S(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new S(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new C(32),flmap:new S(512),fltree:[],fdmap:new S(32),fdtree:[],lmap:new S(32768),ltree:[],ttree:[],dmap:new S(32768),dtree:[],imap:new S(512),itree:[],rev15:new S(32768),lhst:new C(286),dhst:new C(30),ihst:new C(19),lits:new C(15e3),strt:new S(65536),prev:new S(32768)}),function(){for(var e=o.F.U,t=0;t<32768;t++){var l=t;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,e.rev15[t]=(l>>>16|l<<16)>>>17}function a(g,m,n){for(;m--!=0;)g.push(0,n)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];a(e.fltree,144,8),a(e.fltree,112,9),a(e.fltree,24,7),a(e.fltree,8,8),o.F.makeCodes(e.fltree,9),o.F.codes2map(e.fltree,9,e.flmap),o.F.revCodes(e.fltree,9),a(e.fdtree,32,5),o.F.makeCodes(e.fdtree,5),o.F.codes2map(e.fdtree,5,e.fdmap),o.F.revCodes(e.fdtree,5),a(e.itree,19,0),a(e.ltree,286,0),a(e.dtree,30,0),a(e.ttree,320,0)}()})();var yt=pt({__proto__:null,default:He},[He]);const de=function(){var y={nextZero(n,i){for(;n[i]!=0;)i++;return i},readUshort:(n,i)=>n[i]<<8|n[i+1],writeUshort(n,i,r){n[i]=r>>8&255,n[i+1]=255&r},readUint:(n,i)=>16777216*n[i]+(n[i+1]<<16|n[i+2]<<8|n[i+3]),writeUint(n,i,r){n[i]=r>>24&255,n[i+1]=r>>16&255,n[i+2]=r>>8&255,n[i+3]=255&r},readASCII(n,i,r){let s="";for(let h=0;h<r;h++)s+=String.fromCharCode(n[i+h]);return s},writeASCII(n,i,r){for(let s=0;s<r.length;s++)n[i+s]=r.charCodeAt(s)},readBytes(n,i,r){const s=[];for(let h=0;h<r;h++)s.push(n[i+h]);return s},pad:n=>n.length<2?`0${n}`:n,readUTF8(n,i,r){let s,h="";for(let A=0;A<r;A++)h+=`%${y.pad(n[i+A].toString(16))}`;try{s=decodeURIComponent(h)}catch{return y.readASCII(n,i,r)}return s}};function S(n,i,r,s){const h=i*r,A=t(s),E=Math.ceil(i*A/8),v=new Uint8Array(4*h),M=new Uint32Array(v.buffer),{ctype:x}=s,{depth:R}=s,L=y.readUshort;if(x==6){const _=h<<2;if(R==8)for(var p=0;p<_;p+=4)v[p]=n[p],v[p+1]=n[p+1],v[p+2]=n[p+2],v[p+3]=n[p+3];if(R==16)for(p=0;p<_;p++)v[p]=n[p<<1]}else if(x==2){const _=s.tabs.tRNS;if(_==null){if(R==8)for(p=0;p<h;p++){var H=3*p;M[p]=255<<24|n[H+2]<<16|n[H+1]<<8|n[H]}if(R==16)for(p=0;p<h;p++)H=6*p,M[p]=255<<24|n[H+4]<<16|n[H+2]<<8|n[H]}else{var u=_[0];const P=_[1],z=_[2];if(R==8)for(p=0;p<h;p++){var c=p<<2;H=3*p,M[p]=255<<24|n[H+2]<<16|n[H+1]<<8|n[H],n[H]==u&&n[H+1]==P&&n[H+2]==z&&(v[c+3]=0)}if(R==16)for(p=0;p<h;p++)c=p<<2,H=6*p,M[p]=255<<24|n[H+4]<<16|n[H+2]<<8|n[H],L(n,H)==u&&L(n,H+2)==P&&L(n,H+4)==z&&(v[c+3]=0)}}else if(x==3){const _=s.tabs.PLTE,P=s.tabs.tRNS,z=P?P.length:0;if(R==1)for(var b=0;b<r;b++){var U=b*E,I=b*i;for(p=0;p<i;p++){c=I+p<<2;var F=3*(w=n[U+(p>>3)]>>7-((7&p)<<0)&1);v[c]=_[F],v[c+1]=_[F+1],v[c+2]=_[F+2],v[c+3]=w<z?P[w]:255}}if(R==2)for(b=0;b<r;b++)for(U=b*E,I=b*i,p=0;p<i;p++)c=I+p<<2,F=3*(w=n[U+(p>>2)]>>6-((3&p)<<1)&3),v[c]=_[F],v[c+1]=_[F+1],v[c+2]=_[F+2],v[c+3]=w<z?P[w]:255;if(R==4)for(b=0;b<r;b++)for(U=b*E,I=b*i,p=0;p<i;p++)c=I+p<<2,F=3*(w=n[U+(p>>1)]>>4-((1&p)<<2)&15),v[c]=_[F],v[c+1]=_[F+1],v[c+2]=_[F+2],v[c+3]=w<z?P[w]:255;if(R==8)for(p=0;p<h;p++){var w;c=p<<2,F=3*(w=n[p]),v[c]=_[F],v[c+1]=_[F+1],v[c+2]=_[F+2],v[c+3]=w<z?P[w]:255}}else if(x==4){if(R==8)for(p=0;p<h;p++){c=p<<2;var T=n[d=p<<1];v[c]=T,v[c+1]=T,v[c+2]=T,v[c+3]=n[d+1]}if(R==16)for(p=0;p<h;p++){var d;c=p<<2,T=n[d=p<<2],v[c]=T,v[c+1]=T,v[c+2]=T,v[c+3]=n[d+2]}}else if(x==0)for(u=s.tabs.tRNS?s.tabs.tRNS:-1,b=0;b<r;b++){const _=b*E,P=b*i;if(R==1)for(var f=0;f<i;f++){var O=(T=255*(n[_+(f>>>3)]>>>7-(7&f)&1))==255*u?0:255;M[P+f]=O<<24|T<<16|T<<8|T}else if(R==2)for(f=0;f<i;f++)O=(T=85*(n[_+(f>>>2)]>>>6-((3&f)<<1)&3))==85*u?0:255,M[P+f]=O<<24|T<<16|T<<8|T;else if(R==4)for(f=0;f<i;f++)O=(T=17*(n[_+(f>>>1)]>>>4-((1&f)<<2)&15))==17*u?0:255,M[P+f]=O<<24|T<<16|T<<8|T;else if(R==8)for(f=0;f<i;f++)O=(T=n[_+f])==u?0:255,M[P+f]=O<<24|T<<16|T<<8|T;else if(R==16)for(f=0;f<i;f++)T=n[_+(f<<1)],O=L(n,_+(f<<1))==u?0:255,M[P+f]=O<<24|T<<16|T<<8|T}return v}function C(n,i,r,s){const h=t(n),A=Math.ceil(r*h/8),E=new Uint8Array((A+1+n.interlace)*s);return i=n.tabs.CgBI?e(i,E):o(i,E),n.interlace==0?i=l(i,n,0,r,s):n.interlace==1&&(i=function(M,x){const R=x.width,L=x.height,p=t(x),H=p>>3,u=Math.ceil(R*p/8),c=new Uint8Array(L*u);let b=0;const U=[0,0,4,0,2,0,1],I=[0,4,0,2,0,1,0],F=[8,8,8,4,4,2,2],w=[8,8,4,4,2,2,1];let T=0;for(;T<7;){const f=F[T],O=w[T];let _=0,P=0,z=U[T];for(;z<L;)z+=f,P++;let N=I[T];for(;N<R;)N+=O,_++;const Q=Math.ceil(_*p/8);l(M,x,b,_,P);let k=0,D=U[T];for(;D<L;){let $=I[T],G=b+k*Q<<3;for(;$<R;){var d;if(p==1&&(d=(d=M[G>>3])>>7-(7&G)&1,c[D*u+($>>3)]|=d<<7-((7&$)<<0)),p==2&&(d=(d=M[G>>3])>>6-(7&G)&3,c[D*u+($>>2)]|=d<<6-((3&$)<<1)),p==4&&(d=(d=M[G>>3])>>4-(7&G)&15,c[D*u+($>>1)]|=d<<4-((1&$)<<2)),p>=8){const W=D*u+$*H;for(let B=0;B<H;B++)c[W+B]=M[(G>>3)+B]}G+=p,$+=O}k++,D+=f}_*P!=0&&(b+=P*(1+Q)),T+=1}return c}(i,n)),i}function o(n,i){return e(new Uint8Array(n.buffer,2,n.length-6),i)}var e=function(){const n={H:{}};return n.H.N=function(i,r){const s=Uint8Array;let h,A,E=0,v=0,M=0,x=0,R=0,L=0,p=0,H=0,u=0;if(i[0]==3&&i[1]==0)return r||new s(0);const c=n.H,b=c.b,U=c.e,I=c.R,F=c.n,w=c.A,T=c.Z,d=c.m,f=r==null;for(f&&(r=new s(i.length>>>2<<5));E==0;)if(E=b(i,u,1),v=b(i,u+1,2),u+=3,v!=0){if(f&&(r=n.H.W(r,H+(1<<17))),v==1&&(h=d.J,A=d.h,L=511,p=31),v==2){M=U(i,u,5)+257,x=U(i,u+5,5)+1,R=U(i,u+10,4)+4,u+=14;let _=1;for(var O=0;O<38;O+=2)d.Q[O]=0,d.Q[O+1]=0;for(O=0;O<R;O++){const N=U(i,u+3*O,3);d.Q[1+(d.X[O]<<1)]=N,N>_&&(_=N)}u+=3*R,F(d.Q,_),w(d.Q,_,d.u),h=d.w,A=d.d,u=I(d.u,(1<<_)-1,M+x,i,u,d.v);const P=c.V(d.v,0,M,d.C);L=(1<<P)-1;const z=c.V(d.v,M,x,d.D);p=(1<<z)-1,F(d.C,P),w(d.C,P,h),F(d.D,z),w(d.D,z,A)}for(;;){const _=h[T(i,u)&L];u+=15&_;const P=_>>>4;if(!(P>>>8))r[H++]=P;else{if(P==256)break;{let z=H+P-254;if(P>264){const $=d.q[P-257];z=H+($>>>3)+U(i,u,7&$),u+=7&$}const N=A[T(i,u)&p];u+=15&N;const Q=N>>>4,k=d.c[Q],D=(k>>>4)+b(i,u,15&k);for(u+=15&k;H<z;)r[H]=r[H++-D],r[H]=r[H++-D],r[H]=r[H++-D],r[H]=r[H++-D];H=z}}}}else{7&u&&(u+=8-(7&u));const _=4+(u>>>3),P=i[_-4]|i[_-3]<<8;f&&(r=n.H.W(r,H+P)),r.set(new s(i.buffer,i.byteOffset+_,P),H),u=_+P<<3,H+=P}return r.length==H?r:r.slice(0,H)},n.H.W=function(i,r){const s=i.length;if(r<=s)return i;const h=new Uint8Array(s<<1);return h.set(i,0),h},n.H.R=function(i,r,s,h,A,E){const v=n.H.e,M=n.H.Z;let x=0;for(;x<s;){const R=i[M(h,A)&r];A+=15&R;const L=R>>>4;if(L<=15)E[x]=L,x++;else{let p=0,H=0;L==16?(H=3+v(h,A,2),A+=2,p=E[x-1]):L==17?(H=3+v(h,A,3),A+=3):L==18&&(H=11+v(h,A,7),A+=7);const u=x+H;for(;x<u;)E[x]=p,x++}}return A},n.H.V=function(i,r,s,h){let A=0,E=0;const v=h.length>>>1;for(;E<s;){const M=i[E+r];h[E<<1]=0,h[1+(E<<1)]=M,M>A&&(A=M),E++}for(;E<v;)h[E<<1]=0,h[1+(E<<1)]=0,E++;return A},n.H.n=function(i,r){const s=n.H.m,h=i.length;let A,E,v,M;const x=s.j;for(var R=0;R<=r;R++)x[R]=0;for(R=1;R<h;R+=2)x[i[R]]++;const L=s.K;for(A=0,x[0]=0,E=1;E<=r;E++)A=A+x[E-1]<<1,L[E]=A;for(v=0;v<h;v+=2)M=i[v+1],M!=0&&(i[v]=L[M],L[M]++)},n.H.A=function(i,r,s){const h=i.length,A=n.H.m.r;for(let E=0;E<h;E+=2)if(i[E+1]!=0){const v=E>>1,M=i[E+1],x=v<<4|M,R=r-M;let L=i[E]<<R;const p=L+(1<<R);for(;L!=p;)s[A[L]>>>15-r]=x,L++}},n.H.l=function(i,r){const s=n.H.m.r,h=15-r;for(let A=0;A<i.length;A+=2){const E=i[A]<<r-i[A+1];i[A]=s[E]>>>h}},n.H.M=function(i,r,s){s<<=7&r;const h=r>>>3;i[h]|=s,i[h+1]|=s>>>8},n.H.I=function(i,r,s){s<<=7&r;const h=r>>>3;i[h]|=s,i[h+1]|=s>>>8,i[h+2]|=s>>>16},n.H.e=function(i,r,s){return(i[r>>>3]|i[1+(r>>>3)]<<8)>>>(7&r)&(1<<s)-1},n.H.b=function(i,r,s){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16)>>>(7&r)&(1<<s)-1},n.H.Z=function(i,r){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16)>>>(7&r)},n.H.i=function(i,r){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16|i[3+(r>>>3)]<<24)>>>(7&r)},n.H.m=function(){const i=Uint16Array,r=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new r(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new r(286),Y:new r(30),a:new r(19),t:new r(15e3),k:new i(65536),g:new i(32768)}}(),function(){const i=n.H.m;for(var r=0;r<32768;r++){let h=r;h=(2863311530&h)>>>1|(1431655765&h)<<1,h=(3435973836&h)>>>2|(858993459&h)<<2,h=(4042322160&h)>>>4|(252645135&h)<<4,h=(4278255360&h)>>>8|(16711935&h)<<8,i.r[r]=(h>>>16|h<<16)>>>17}function s(h,A,E){for(;A--!=0;)h.push(0,E)}for(r=0;r<32;r++)i.q[r]=i.S[r]<<3|i.T[r],i.c[r]=i.p[r]<<4|i.z[r];s(i._,144,8),s(i._,112,9),s(i._,24,7),s(i._,8,8),n.H.n(i._,9),n.H.A(i._,9,i.J),n.H.l(i._,9),s(i.$,32,5),n.H.n(i.$,5),n.H.A(i.$,5,i.h),n.H.l(i.$,5),s(i.Q,19,0),s(i.C,286,0),s(i.D,30,0),s(i.v,320,0)}(),n.H.N}();function t(n){return[1,null,3,1,2,null,4][n.ctype]*n.depth}function l(n,i,r,s,h){let A=t(i);const E=Math.ceil(s*A/8);let v,M;A=Math.ceil(A/8);let x=n[r],R=0;if(x>1&&(n[r]=[0,0,1][x-2]),x==3)for(R=A;R<E;R++)n[R+1]=n[R+1]+(n[R+1-A]>>>1)&255;for(let L=0;L<h;L++)if(v=r+L*E,M=v+L+1,x=n[M-1],R=0,x==0)for(;R<E;R++)n[v+R]=n[M+R];else if(x==1){for(;R<A;R++)n[v+R]=n[M+R];for(;R<E;R++)n[v+R]=n[M+R]+n[v+R-A]}else if(x==2)for(;R<E;R++)n[v+R]=n[M+R]+n[v+R-E];else if(x==3){for(;R<A;R++)n[v+R]=n[M+R]+(n[v+R-E]>>>1);for(;R<E;R++)n[v+R]=n[M+R]+(n[v+R-E]+n[v+R-A]>>>1)}else{for(;R<A;R++)n[v+R]=n[M+R]+a(0,n[v+R-E],0);for(;R<E;R++)n[v+R]=n[M+R]+a(n[v+R-A],n[v+R-E],n[v+R-A-E])}return n}function a(n,i,r){const s=n+i-r,h=s-n,A=s-i,E=s-r;return h*h<=A*A&&h*h<=E*E?n:A*A<=E*E?i:r}function g(n,i,r){r.width=y.readUint(n,i),i+=4,r.height=y.readUint(n,i),i+=4,r.depth=n[i],i++,r.ctype=n[i],i++,r.compress=n[i],i++,r.filter=n[i],i++,r.interlace=n[i],i++}function m(n,i,r,s,h,A,E,v,M){const x=Math.min(i,h),R=Math.min(r,A);let L=0,p=0;for(let T=0;T<R;T++)for(let d=0;d<x;d++)if(E>=0&&v>=0?(L=T*i+d<<2,p=(v+T)*h+E+d<<2):(L=(-v+T)*i-E+d<<2,p=T*h+d<<2),M==0)s[p]=n[L],s[p+1]=n[L+1],s[p+2]=n[L+2],s[p+3]=n[L+3];else if(M==1){var H=n[L+3]*.00392156862745098,u=n[L]*H,c=n[L+1]*H,b=n[L+2]*H,U=s[p+3]*(1/255),I=s[p]*U,F=s[p+1]*U,w=s[p+2]*U;const f=1-H,O=H+U*f,_=O==0?0:1/O;s[p+3]=255*O,s[p+0]=(u+I*f)*_,s[p+1]=(c+F*f)*_,s[p+2]=(b+w*f)*_}else if(M==2)H=n[L+3],u=n[L],c=n[L+1],b=n[L+2],U=s[p+3],I=s[p],F=s[p+1],w=s[p+2],H==U&&u==I&&c==F&&b==w?(s[p]=0,s[p+1]=0,s[p+2]=0,s[p+3]=0):(s[p]=u,s[p+1]=c,s[p+2]=b,s[p+3]=H);else if(M==3){if(H=n[L+3],u=n[L],c=n[L+1],b=n[L+2],U=s[p+3],I=s[p],F=s[p+1],w=s[p+2],H==U&&u==I&&c==F&&b==w)continue;if(H<220&&U>20)return!1}return!0}return{decode:function(i){const r=new Uint8Array(i);let s=8;const h=y,A=h.readUshort,E=h.readUint,v={tabs:{},frames:[]},M=new Uint8Array(r.length);let x,R=0,L=0;const p=[137,80,78,71,13,10,26,10];for(var H=0;H<8;H++)if(r[H]!=p[H])throw"The input is not a PNG file!";for(;s<r.length;){const T=h.readUint(r,s);s+=4;const d=h.readASCII(r,s,4);if(s+=4,d=="IHDR")g(r,s,v);else if(d=="iCCP"){for(var u=s;r[u]!=0;)u++;h.readASCII(r,s,u-s),r[u+1];const f=r.slice(u+2,s+T);let O=null;try{O=o(f)}catch{O=e(f)}v.tabs[d]=O}else if(d=="CgBI")v.tabs[d]=r.slice(s,s+4);else if(d=="IDAT"){for(H=0;H<T;H++)M[R+H]=r[s+H];R+=T}else if(d=="acTL")v.tabs[d]={num_frames:E(r,s),num_plays:E(r,s+4)},x=new Uint8Array(r.length);else if(d=="fcTL"){L!=0&&((w=v.frames[v.frames.length-1]).data=C(v,x.slice(0,L),w.rect.width,w.rect.height),L=0);const f={x:E(r,s+12),y:E(r,s+16),width:E(r,s+4),height:E(r,s+8)};let O=A(r,s+22);O=A(r,s+20)/(O==0?100:O);const _={rect:f,delay:Math.round(1e3*O),dispose:r[s+24],blend:r[s+25]};v.frames.push(_)}else if(d=="fdAT"){for(H=0;H<T-4;H++)x[L+H]=r[s+H+4];L+=T-4}else if(d=="pHYs")v.tabs[d]=[h.readUint(r,s),h.readUint(r,s+4),r[s+8]];else if(d=="cHRM")for(v.tabs[d]=[],H=0;H<8;H++)v.tabs[d].push(h.readUint(r,s+4*H));else if(d=="tEXt"||d=="zTXt"){v.tabs[d]==null&&(v.tabs[d]={});var c=h.nextZero(r,s),b=h.readASCII(r,s,c-s),U=s+T-c-1;if(d=="tEXt")F=h.readASCII(r,c+1,U);else{var I=o(r.slice(c+2,c+2+U));F=h.readUTF8(I,0,I.length)}v.tabs[d][b]=F}else if(d=="iTXt"){v.tabs[d]==null&&(v.tabs[d]={}),c=0,u=s,c=h.nextZero(r,u),b=h.readASCII(r,u,c-u);const f=r[u=c+1];var F;r[u+1],u+=2,c=h.nextZero(r,u),h.readASCII(r,u,c-u),u=c+1,c=h.nextZero(r,u),h.readUTF8(r,u,c-u),U=T-((u=c+1)-s),f==0?F=h.readUTF8(r,u,U):(I=o(r.slice(u,u+U)),F=h.readUTF8(I,0,I.length)),v.tabs[d][b]=F}else if(d=="PLTE")v.tabs[d]=h.readBytes(r,s,T);else if(d=="hIST"){const f=v.tabs.PLTE.length/3;for(v.tabs[d]=[],H=0;H<f;H++)v.tabs[d].push(A(r,s+2*H))}else if(d=="tRNS")v.ctype==3?v.tabs[d]=h.readBytes(r,s,T):v.ctype==0?v.tabs[d]=A(r,s):v.ctype==2&&(v.tabs[d]=[A(r,s),A(r,s+2),A(r,s+4)]);else if(d=="gAMA")v.tabs[d]=h.readUint(r,s)/1e5;else if(d=="sRGB")v.tabs[d]=r[s];else if(d=="bKGD")v.ctype==0||v.ctype==4?v.tabs[d]=[A(r,s)]:v.ctype==2||v.ctype==6?v.tabs[d]=[A(r,s),A(r,s+2),A(r,s+4)]:v.ctype==3&&(v.tabs[d]=r[s]);else if(d=="IEND")break;s+=T,h.readUint(r,s),s+=4}var w;return L!=0&&((w=v.frames[v.frames.length-1]).data=C(v,x.slice(0,L),w.rect.width,w.rect.height)),v.data=C(v,M,v.width,v.height),delete v.compress,delete v.interlace,delete v.filter,v},toRGBA8:function(i){const r=i.width,s=i.height;if(i.tabs.acTL==null)return[S(i.data,r,s,i).buffer];const h=[];i.frames[0].data==null&&(i.frames[0].data=i.data);const A=r*s*4,E=new Uint8Array(A),v=new Uint8Array(A),M=new Uint8Array(A);for(let R=0;R<i.frames.length;R++){const L=i.frames[R],p=L.rect.x,H=L.rect.y,u=L.rect.width,c=L.rect.height,b=S(L.data,u,c,i);if(R!=0)for(var x=0;x<A;x++)M[x]=E[x];if(L.blend==0?m(b,u,c,E,r,s,p,H,0):L.blend==1&&m(b,u,c,E,r,s,p,H,1),h.push(E.buffer.slice(0)),L.dispose!=0){if(L.dispose==1)m(v,u,c,E,r,s,p,H,0);else if(L.dispose==2)for(x=0;x<A;x++)E[x]=M[x]}}return h},_paeth:a,_copyTile:m,_bin:y}}();(function(){const{_copyTile:y}=de,{_bin:S}=de,C=de._paeth;var o={table:function(){const u=new Uint32Array(256);for(let c=0;c<256;c++){let b=c;for(let U=0;U<8;U++)1&b?b=3988292384^b>>>1:b>>>=1;u[c]=b}return u}(),update(u,c,b,U){for(let I=0;I<U;I++)u=o.table[255&(u^c[b+I])]^u>>>8;return u},crc:(u,c,b)=>4294967295^o.update(4294967295,u,c,b)};function e(u,c,b,U){c[b]+=u[0]*U>>4,c[b+1]+=u[1]*U>>4,c[b+2]+=u[2]*U>>4,c[b+3]+=u[3]*U>>4}function t(u){return Math.max(0,Math.min(255,u))}function l(u,c){const b=u[0]-c[0],U=u[1]-c[1],I=u[2]-c[2],F=u[3]-c[3];return b*b+U*U+I*I+F*F}function a(u,c,b,U,I,F,w){w==null&&(w=1);const T=U.length,d=[];for(var f=0;f<T;f++){const D=U[f];d.push([D>>>0&255,D>>>8&255,D>>>16&255,D>>>24&255])}for(f=0;f<T;f++){let D=4294967295;for(var O=0,_=0;_<T;_++){var P=l(d[f],d[_]);_!=f&&P<D&&(D=P,O=_)}}const z=new Uint32Array(I.buffer),N=new Int16Array(c*b*4),Q=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(f=0;f<Q.length;f++)Q[f]=255*((Q[f]+.5)/16-.5);for(let D=0;D<b;D++)for(let $=0;$<c;$++){var k;f=4*(D*c+$),w!=2?k=[t(u[f]+N[f]),t(u[f+1]+N[f+1]),t(u[f+2]+N[f+2]),t(u[f+3]+N[f+3])]:(P=Q[4*(3&D)+(3&$)],k=[t(u[f]+P),t(u[f+1]+P),t(u[f+2]+P),t(u[f+3]+P)]),O=0;let G=16777215;for(_=0;_<T;_++){const q=l(k,d[_]);q<G&&(G=q,O=_)}const W=d[O],B=[k[0]-W[0],k[1]-W[1],k[2]-W[2],k[3]-W[3]];w==1&&($!=c-1&&e(B,N,f+4,7),D!=b-1&&($!=0&&e(B,N,f+4*c-4,3),e(B,N,f+4*c,5),$!=c-1&&e(B,N,f+4*c+4,1))),F[f>>2]=O,z[f>>2]=U[O]}}function g(u,c,b,U,I){I==null&&(I={});const{crc:F}=o,w=S.writeUint,T=S.writeUshort,d=S.writeASCII;let f=8;const O=u.frames.length>1;let _,P=!1,z=33+(O?20:0);if(I.sRGB!=null&&(z+=13),I.pHYs!=null&&(z+=21),I.iCCP!=null&&(_=pako.deflate(I.iCCP),z+=21+_.length+4),u.ctype==3){for(var N=u.plte.length,Q=0;Q<N;Q++)u.plte[Q]>>>24!=255&&(P=!0);z+=8+3*N+4+(P?8+1*N+4:0)}for(var k=0;k<u.frames.length;k++)O&&(z+=38),z+=(W=u.frames[k]).cimg.length+12,k!=0&&(z+=4);z+=12;const D=new Uint8Array(z),$=[137,80,78,71,13,10,26,10];for(Q=0;Q<8;Q++)D[Q]=$[Q];if(w(D,f,13),f+=4,d(D,f,"IHDR"),f+=4,w(D,f,c),f+=4,w(D,f,b),f+=4,D[f]=u.depth,f++,D[f]=u.ctype,f++,D[f]=0,f++,D[f]=0,f++,D[f]=0,f++,w(D,f,F(D,f-17,17)),f+=4,I.sRGB!=null&&(w(D,f,1),f+=4,d(D,f,"sRGB"),f+=4,D[f]=I.sRGB,f++,w(D,f,F(D,f-5,5)),f+=4),I.iCCP!=null){const B=13+_.length;w(D,f,B),f+=4,d(D,f,"iCCP"),f+=4,d(D,f,"ICC profile"),f+=11,f+=2,D.set(_,f),f+=_.length,w(D,f,F(D,f-(B+4),B+4)),f+=4}if(I.pHYs!=null&&(w(D,f,9),f+=4,d(D,f,"pHYs"),f+=4,w(D,f,I.pHYs[0]),f+=4,w(D,f,I.pHYs[1]),f+=4,D[f]=I.pHYs[2],f++,w(D,f,F(D,f-13,13)),f+=4),O&&(w(D,f,8),f+=4,d(D,f,"acTL"),f+=4,w(D,f,u.frames.length),f+=4,w(D,f,I.loop!=null?I.loop:0),f+=4,w(D,f,F(D,f-12,12)),f+=4),u.ctype==3){for(w(D,f,3*(N=u.plte.length)),f+=4,d(D,f,"PLTE"),f+=4,Q=0;Q<N;Q++){const B=3*Q,q=u.plte[Q],Z=255&q,ee=q>>>8&255,we=q>>>16&255;D[f+B+0]=Z,D[f+B+1]=ee,D[f+B+2]=we}if(f+=3*N,w(D,f,F(D,f-3*N-4,3*N+4)),f+=4,P){for(w(D,f,N),f+=4,d(D,f,"tRNS"),f+=4,Q=0;Q<N;Q++)D[f+Q]=u.plte[Q]>>>24&255;f+=N,w(D,f,F(D,f-N-4,N+4)),f+=4}}let G=0;for(k=0;k<u.frames.length;k++){var W=u.frames[k];O&&(w(D,f,26),f+=4,d(D,f,"fcTL"),f+=4,w(D,f,G++),f+=4,w(D,f,W.rect.width),f+=4,w(D,f,W.rect.height),f+=4,w(D,f,W.rect.x),f+=4,w(D,f,W.rect.y),f+=4,T(D,f,U[k]),f+=2,T(D,f,1e3),f+=2,D[f]=W.dispose,f++,D[f]=W.blend,f++,w(D,f,F(D,f-30,30)),f+=4);const B=W.cimg;w(D,f,(N=B.length)+(k==0?0:4)),f+=4;const q=f;d(D,f,k==0?"IDAT":"fdAT"),f+=4,k!=0&&(w(D,f,G++),f+=4),D.set(B,f),f+=N,w(D,f,F(D,q,f-q)),f+=4}return w(D,f,0),f+=4,d(D,f,"IEND"),f+=4,w(D,f,F(D,f-4,4)),f+=4,D.buffer}function m(u,c,b){for(let U=0;U<u.frames.length;U++){const I=u.frames[U];I.rect.width;const F=I.rect.height,w=new Uint8Array(F*I.bpl+F);I.cimg=s(I.img,F,I.bpp,I.bpl,w,c,b)}}function n(u,c,b,U,I){const F=I[0],w=I[1],T=I[2],d=I[3],f=I[4],O=I[5];let _=6,P=8,z=255;for(var N=0;N<u.length;N++){const ne=new Uint8Array(u[N]);for(var Q=ne.length,k=0;k<Q;k+=4)z&=ne[k+3]}const D=z!=255,$=function(Y,j,te,oe,J,fe){const V=[];for(var K=0;K<Y.length;K++){const ae=new Uint8Array(Y[K]),ue=new Uint32Array(ae.buffer);var le;let ce=0,ve=0,ge=j,Ie=te,Ne=oe?1:0;if(K!=0){const ct=fe||oe||K==1||V[K-2].dispose!=0?1:2;let Qe=0,Ge=1e9;for(let Ce=0;Ce<ct;Ce++){var me=new Uint8Array(Y[K-1-Ce]);const ut=new Uint32Array(Y[K-1-Ce]);let ye=j,Ae=te,_e=-1,Re=-1;for(let Ue=0;Ue<te;Ue++)for(let Se=0;Se<j;Se++)ue[ie=Ue*j+Se]!=ut[ie]&&(Se<ye&&(ye=Se),Se>_e&&(_e=Se),Ue<Ae&&(Ae=Ue),Ue>Re&&(Re=Ue));_e==-1&&(ye=Ae=_e=Re=0),J&&((1&ye)==1&&ye--,(1&Ae)==1&&Ae--);const Ye=(_e-ye+1)*(Re-Ae+1);Ye<Ge&&(Ge=Ye,Qe=Ce,ce=ye,ve=Ae,ge=_e-ye+1,Ie=Re-Ae+1)}me=new Uint8Array(Y[K-1-Qe]),Qe==1&&(V[K-1].dispose=2),le=new Uint8Array(ge*Ie*4),y(me,j,te,le,ge,Ie,-ce,-ve,0),Ne=y(ae,j,te,le,ge,Ie,-ce,-ve,3)?1:0,Ne==1?r(ae,j,te,le,{x:ce,y:ve,width:ge,height:Ie}):y(ae,j,te,le,ge,Ie,-ce,-ve,0)}else le=ae.slice(0);V.push({rect:{x:ce,y:ve,width:ge,height:Ie},img:le,blend:Ne,dispose:0})}if(oe)for(K=0;K<V.length;K++){if((be=V[K]).blend==1)continue;const ae=be.rect,ue=V[K-1].rect,ce=Math.min(ae.x,ue.x),ve=Math.min(ae.y,ue.y),ge={x:ce,y:ve,width:Math.max(ae.x+ae.width,ue.x+ue.width)-ce,height:Math.max(ae.y+ae.height,ue.y+ue.height)-ve};V[K-1].dispose=1,K-1!=0&&i(Y,j,te,V,K-1,ge,J),i(Y,j,te,V,K,ge,J)}let xe=0;if(Y.length!=1)for(var ie=0;ie<V.length;ie++){var be;xe+=(be=V[ie]).rect.width*be.rect.height}return V}(u,c,b,F,w,T),G={},W=[],B=[];if(U!=0){const ne=[];for(k=0;k<$.length;k++)ne.push($[k].img.buffer);const Y=function(J){let fe=0;for(var V=0;V<J.length;V++)fe+=J[V].byteLength;const K=new Uint8Array(fe);let le=0;for(V=0;V<J.length;V++){const me=new Uint8Array(J[V]),xe=me.length;for(let ie=0;ie<xe;ie+=4){let be=me[ie],ae=me[ie+1],ue=me[ie+2];const ce=me[ie+3];ce==0&&(be=ae=ue=0),K[le+ie]=be,K[le+ie+1]=ae,K[le+ie+2]=ue,K[le+ie+3]=ce}le+=xe}return K.buffer}(ne),j=A(Y,U);for(k=0;k<j.plte.length;k++)W.push(j.plte[k].est.rgba);let te=0;for(k=0;k<$.length;k++){const oe=(Z=$[k]).img.length;var q=new Uint8Array(j.inds.buffer,te>>2,oe>>2);B.push(q);const J=new Uint8Array(j.abuf,te,oe);O&&a(Z.img,Z.rect.width,Z.rect.height,W,J,q),Z.img.set(J),te+=oe}}else for(N=0;N<$.length;N++){var Z=$[N];const ne=new Uint32Array(Z.img.buffer);var ee=Z.rect.width;for(Q=ne.length,q=new Uint8Array(Q),B.push(q),k=0;k<Q;k++){const Y=ne[k];if(k!=0&&Y==ne[k-1])q[k]=q[k-1];else if(k>ee&&Y==ne[k-ee])q[k]=q[k-ee];else{let j=G[Y];if(j==null&&(G[Y]=j=W.length,W.push(Y),W.length>=300))break;q[k]=j}}}const we=W.length;for(we<=256&&f==0&&(P=we<=2?1:we<=4?2:we<=16?4:8,P=Math.max(P,d)),N=0;N<$.length;N++){(Z=$[N]).rect.x,Z.rect.y,ee=Z.rect.width;const ne=Z.rect.height;let Y=Z.img;new Uint32Array(Y.buffer);let j=4*ee,te=4;if(we<=256&&f==0){j=Math.ceil(P*ee/8);var he=new Uint8Array(j*ne);const oe=B[N];for(let J=0;J<ne;J++){k=J*j;const fe=J*ee;if(P==8)for(var X=0;X<ee;X++)he[k+X]=oe[fe+X];else if(P==4)for(X=0;X<ee;X++)he[k+(X>>1)]|=oe[fe+X]<<4-4*(1&X);else if(P==2)for(X=0;X<ee;X++)he[k+(X>>2)]|=oe[fe+X]<<6-2*(3&X);else if(P==1)for(X=0;X<ee;X++)he[k+(X>>3)]|=oe[fe+X]<<7-1*(7&X)}Y=he,_=3,te=1}else if(D==0&&$.length==1){he=new Uint8Array(ee*ne*3);const oe=ee*ne;for(k=0;k<oe;k++){const J=3*k,fe=4*k;he[J]=Y[fe],he[J+1]=Y[fe+1],he[J+2]=Y[fe+2]}Y=he,_=2,te=3,j=3*ee}Z.img=Y,Z.bpl=j,Z.bpp=te}return{ctype:_,depth:P,plte:W,frames:$}}function i(u,c,b,U,I,F,w){const T=Uint8Array,d=Uint32Array,f=new T(u[I-1]),O=new d(u[I-1]),_=I+1<u.length?new T(u[I+1]):null,P=new T(u[I]),z=new d(P.buffer);let N=c,Q=b,k=-1,D=-1;for(let G=0;G<F.height;G++)for(let W=0;W<F.width;W++){const B=F.x+W,q=F.y+G,Z=q*c+B,ee=z[Z];ee==0||U[I-1].dispose==0&&O[Z]==ee&&(_==null||_[4*Z+3]!=0)||(B<N&&(N=B),B>k&&(k=B),q<Q&&(Q=q),q>D&&(D=q))}k==-1&&(N=Q=k=D=0),w&&((1&N)==1&&N--,(1&Q)==1&&Q--),F={x:N,y:Q,width:k-N+1,height:D-Q+1};const $=U[I];$.rect=F,$.blend=1,$.img=new Uint8Array(F.width*F.height*4),U[I-1].dispose==0?(y(f,c,b,$.img,F.width,F.height,-F.x,-F.y,0),r(P,c,b,$.img,F)):y(P,c,b,$.img,F.width,F.height,-F.x,-F.y,0)}function r(u,c,b,U,I){y(u,c,b,U,I.width,I.height,-I.x,-I.y,2)}function s(u,c,b,U,I,F,w){const T=[];let d,f=[0,1,2,3,4];F!=-1?f=[F]:(c*U>5e5||b==1)&&(f=[0]),w&&(d={level:0});const O=yt;for(var _=0;_<f.length;_++){for(let N=0;N<c;N++)h(I,u,N,U,b,f[_]);T.push(O.deflate(I,d))}let P,z=1e9;for(_=0;_<T.length;_++)T[_].length<z&&(P=_,z=T[_].length);return T[P]}function h(u,c,b,U,I,F){const w=b*U;let T=w+b;if(u[T]=F,T++,F==0)if(U<500)for(var d=0;d<U;d++)u[T+d]=c[w+d];else u.set(new Uint8Array(c.buffer,w,U),T);else if(F==1){for(d=0;d<I;d++)u[T+d]=c[w+d];for(d=I;d<U;d++)u[T+d]=c[w+d]-c[w+d-I]+256&255}else if(b==0){for(d=0;d<I;d++)u[T+d]=c[w+d];if(F==2)for(d=I;d<U;d++)u[T+d]=c[w+d];if(F==3)for(d=I;d<U;d++)u[T+d]=c[w+d]-(c[w+d-I]>>1)+256&255;if(F==4)for(d=I;d<U;d++)u[T+d]=c[w+d]-C(c[w+d-I],0,0)+256&255}else{if(F==2)for(d=0;d<U;d++)u[T+d]=c[w+d]+256-c[w+d-U]&255;if(F==3){for(d=0;d<I;d++)u[T+d]=c[w+d]+256-(c[w+d-U]>>1)&255;for(d=I;d<U;d++)u[T+d]=c[w+d]+256-(c[w+d-U]+c[w+d-I]>>1)&255}if(F==4){for(d=0;d<I;d++)u[T+d]=c[w+d]+256-C(0,c[w+d-U],0)&255;for(d=I;d<U;d++)u[T+d]=c[w+d]+256-C(c[w+d-I],c[w+d-U],c[w+d-I-U])&255}}}function A(u,c){const b=new Uint8Array(u),U=b.slice(0),I=new Uint32Array(U.buffer),F=E(U,c),w=F[0],T=F[1],d=b.length,f=new Uint8Array(d>>2);let O;if(b.length<2e7)for(var _=0;_<d;_+=4)O=v(w,P=b[_]*(1/255),z=b[_+1]*(1/255),N=b[_+2]*(1/255),Q=b[_+3]*(1/255)),f[_>>2]=O.ind,I[_>>2]=O.est.rgba;else for(_=0;_<d;_+=4){var P=b[_]*.00392156862745098,z=b[_+1]*(1/255),N=b[_+2]*(1/255),Q=b[_+3]*(1/255);for(O=w;O.left;)O=M(O.est,P,z,N,Q)<=0?O.left:O.right;f[_>>2]=O.ind,I[_>>2]=O.est.rgba}return{abuf:U.buffer,inds:f,plte:T}}function E(u,c,b){b==null&&(b=1e-4);const U=new Uint32Array(u.buffer),I={i0:0,i1:u.length,bst:null,est:null,tdst:0,left:null,right:null};I.bst=L(u,I.i0,I.i1),I.est=p(I.bst);const F=[I];for(;F.length<c;){let T=0,d=0;for(var w=0;w<F.length;w++)F[w].est.L>T&&(T=F[w].est.L,d=w);if(T<b)break;const f=F[d],O=x(u,U,f.i0,f.i1,f.est.e,f.est.eMq255);if(f.i0>=O||f.i1<=O){f.est.L=0;continue}const _={i0:f.i0,i1:O,bst:null,est:null,tdst:0,left:null,right:null};_.bst=L(u,_.i0,_.i1),_.est=p(_.bst);const P={i0:O,i1:f.i1,bst:null,est:null,tdst:0,left:null,right:null};for(P.bst={R:[],m:[],N:f.bst.N-_.bst.N},w=0;w<16;w++)P.bst.R[w]=f.bst.R[w]-_.bst.R[w];for(w=0;w<4;w++)P.bst.m[w]=f.bst.m[w]-_.bst.m[w];P.est=p(P.bst),f.left=_,f.right=P,F[d]=_,F.push(P)}for(F.sort((T,d)=>d.bst.N-T.bst.N),w=0;w<F.length;w++)F[w].ind=w;return[I,F]}function v(u,c,b,U,I){if(u.left==null)return u.tdst=function(_,P,z,N,Q){const k=P-_[0],D=z-_[1],$=N-_[2],G=Q-_[3];return k*k+D*D+$*$+G*G}(u.est.q,c,b,U,I),u;const F=M(u.est,c,b,U,I);let w=u.left,T=u.right;F>0&&(w=u.right,T=u.left);const d=v(w,c,b,U,I);if(d.tdst<=F*F)return d;const f=v(T,c,b,U,I);return f.tdst<d.tdst?f:d}function M(u,c,b,U,I){const{e:F}=u;return F[0]*c+F[1]*b+F[2]*U+F[3]*I-u.eMq}function x(u,c,b,U,I,F){for(U-=4;b<U;){for(;R(u,b,I)<=F;)b+=4;for(;R(u,U,I)>F;)U-=4;if(b>=U)break;const w=c[b>>2];c[b>>2]=c[U>>2],c[U>>2]=w,b+=4,U-=4}for(;R(u,b,I)>F;)b-=4;return b+4}function R(u,c,b){return u[c]*b[0]+u[c+1]*b[1]+u[c+2]*b[2]+u[c+3]*b[3]}function L(u,c,b){const U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],I=[0,0,0,0],F=b-c>>2;for(let w=c;w<b;w+=4){const T=u[w]*.00392156862745098,d=u[w+1]*(1/255),f=u[w+2]*(1/255),O=u[w+3]*(1/255);I[0]+=T,I[1]+=d,I[2]+=f,I[3]+=O,U[0]+=T*T,U[1]+=T*d,U[2]+=T*f,U[3]+=T*O,U[5]+=d*d,U[6]+=d*f,U[7]+=d*O,U[10]+=f*f,U[11]+=f*O,U[15]+=O*O}return U[4]=U[1],U[8]=U[2],U[9]=U[6],U[12]=U[3],U[13]=U[7],U[14]=U[11],{R:U,m:I,N:F}}function p(u){const{R:c}=u,{m:b}=u,{N:U}=u,I=b[0],F=b[1],w=b[2],T=b[3],d=U==0?0:1/U,f=[c[0]-I*I*d,c[1]-I*F*d,c[2]-I*w*d,c[3]-I*T*d,c[4]-F*I*d,c[5]-F*F*d,c[6]-F*w*d,c[7]-F*T*d,c[8]-w*I*d,c[9]-w*F*d,c[10]-w*w*d,c[11]-w*T*d,c[12]-T*I*d,c[13]-T*F*d,c[14]-T*w*d,c[15]-T*T*d],O=f,_=H;let P=[Math.random(),Math.random(),Math.random(),Math.random()],z=0,N=0;if(U!=0)for(let k=0;k<16&&(P=_.multVec(O,P),N=Math.sqrt(_.dot(P,P)),P=_.sml(1/N,P),!(k!=0&&Math.abs(N-z)<1e-9));k++)z=N;const Q=[I*d,F*d,w*d,T*d];return{Cov:f,q:Q,e:P,L:z,eMq255:_.dot(_.sml(255,Q),P),eMq:_.dot(P,Q),rgba:(Math.round(255*Q[3])<<24|Math.round(255*Q[2])<<16|Math.round(255*Q[1])<<8|Math.round(255*Q[0])<<0)>>>0}}var H={multVec:(u,c)=>[u[0]*c[0]+u[1]*c[1]+u[2]*c[2]+u[3]*c[3],u[4]*c[0]+u[5]*c[1]+u[6]*c[2]+u[7]*c[3],u[8]*c[0]+u[9]*c[1]+u[10]*c[2]+u[11]*c[3],u[12]*c[0]+u[13]*c[1]+u[14]*c[2]+u[15]*c[3]],dot:(u,c)=>u[0]*c[0]+u[1]*c[1]+u[2]*c[2]+u[3]*c[3],sml:(u,c)=>[u*c[0],u*c[1],u*c[2],u*c[3]]};de.encode=function(c,b,U,I,F,w,T){I==null&&(I=0),T==null&&(T=!1);const d=n(c,b,U,I,[!1,!1,!1,0,T,!1]);return m(d,-1),g(d,b,U,F,w)},de.encodeLL=function(c,b,U,I,F,w,T,d){const f={ctype:0+(I==1?0:2)+(F==0?0:4),depth:w,frames:[]},O=(I+F)*w,_=O*b;for(let P=0;P<c.length;P++)f.frames.push({rect:{x:0,y:0,width:b,height:U},img:new Uint8Array(c[P]),blend:0,dispose:1,bpp:Math.ceil(O/8),bpl:Math.ceil(_/8)});return m(f,0,!0),g(f,b,U,T,d)},de.encode.compress=n,de.encode.dither=a,de.quantize=A,de.quantize.getKDtree=E,de.quantize.getNearest=v})();const Ve={toArrayBuffer(y,S){const C=y.width,o=y.height,e=C<<2,t=y.getContext("2d").getImageData(0,0,C,o),l=new Uint32Array(t.data.buffer),a=(32*C+31)/32<<2,g=a*o,m=122+g,n=new ArrayBuffer(m),i=new DataView(n),r=1<<20;let s,h,A,E,v=r,M=0,x=0,R=0;function L(u){i.setUint16(x,u,!0),x+=2}function p(u){i.setUint32(x,u,!0),x+=4}function H(u){x+=u}L(19778),p(m),H(4),p(122),p(108),p(C),p(-o>>>0),L(1),L(32),p(3),p(g),p(2835),p(2835),H(8),p(16711680),p(65280),p(255),p(4278190080),p(1466527264),function u(){for(;M<o&&v>0;){for(E=122+M*a,s=0;s<e;)v--,h=l[R++],A=h>>>24,i.setUint32(E+s,h<<8|A),s+=4;M++}R<l.length?(v=r,setTimeout(u,Ve._dly)):S(n)}()},toBlob(y,S){this.toArrayBuffer(y,C=>{S(new Blob([C],{type:"image/bmp"}))})},_dly:9};var se={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},At={[se.CHROME]:16384,[se.FIREFOX]:11180,[se.DESKTOP_SAFARI]:16384,[se.IE]:8192,[se.IOS]:4096,[se.ETC]:8192};const je=typeof window<"u",et=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Oe=je&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),wt=(je||et)&&(Oe&&Oe.getOriginalSymbol(window,"File")||typeof File<"u"&&File),tt=(je||et)&&(Oe&&Oe.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Ke(y,S,C=Date.now()){return new Promise(o=>{const e=y.split(","),t=e[0].match(/:(.*?);/)[1],l=globalThis.atob(e[1]);let a=l.length;const g=new Uint8Array(a);for(;a--;)g[a]=l.charCodeAt(a);const m=new Blob([g],{type:t});m.name=S,m.lastModified=C,o(m)})}function rt(y){return new Promise((S,C)=>{const o=new tt;o.onload=()=>S(o.result),o.onerror=e=>C(e),o.readAsDataURL(y)})}function nt(y){return new Promise((S,C)=>{const o=new Image;o.onload=()=>S(o),o.onerror=e=>C(e),o.src=y})}function Ee(){if(Ee.cachedResult!==void 0)return Ee.cachedResult;let y=se.ETC;const{userAgent:S}=navigator;return/Chrom(e|ium)/i.test(S)?y=se.CHROME:/iP(ad|od|hone)/i.test(S)&&/WebKit/i.test(S)?y=se.IOS:/Safari/i.test(S)?y=se.DESKTOP_SAFARI:/Firefox/i.test(S)?y=se.FIREFOX:(/MSIE/i.test(S)||document.documentMode)&&(y=se.IE),Ee.cachedResult=y,Ee.cachedResult}function it(y,S){const C=Ee(),o=At[C];let e=y,t=S,l=e*t;const a=e>t?t/e:e/t;for(;l>o*o;){const g=(o+e)/2,m=(o+t)/2;g<m?(t=m,e=m*a):(t=g*a,e=g),l=e*t}return{width:e,height:t}}function ke(y,S){let C,o;try{if(C=new OffscreenCanvas(y,S),o=C.getContext("2d"),o===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{C=document.createElement("canvas"),o=C.getContext("2d")}return C.width=y,C.height=S,[C,o]}function ot(y,S){const{width:C,height:o}=it(y.width,y.height),[e,t]=ke(C,o);return S&&/jpe?g/.test(S)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(y,0,0,e.width,e.height),e}function De(){return De.cachedResult!==void 0||(De.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),De.cachedResult}function Le(y,S={}){return new Promise(function(C,o){let e,t;var l=function(){try{return t=ot(e,S.fileType||y.type),C([e,t])}catch(g){return o(g)}},a=function(g){try{var m=function(n){try{throw n}catch(i){return o(i)}};try{let n;return rt(y).then(function(i){try{return n=i,nt(n).then(function(r){try{return e=r,function(){try{return l()}catch(s){return o(s)}}()}catch(s){return m(s)}},m)}catch(r){return m(r)}},m)}catch(n){m(n)}}catch(n){return o(n)}};try{if(De()||[se.DESKTOP_SAFARI,se.MOBILE_SAFARI].includes(Ee()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(y).then(function(g){try{return e=g,l()}catch{return a()}},a)}catch{a()}})}function Pe(y,S,C,o,e=1){return new Promise(function(t,l){let a;if(S==="image/png"){let m,n,i;return m=y.getContext("2d"),{data:n}=m.getImageData(0,0,y.width,y.height),i=de.encode([n.buffer],y.width,y.height,4096*e),a=new Blob([i],{type:S}),a.name=C,a.lastModified=o,g.call(this)}{let m=function(){return g.call(this)};if(S==="image/bmp")return new Promise(n=>Ve.toBlob(y,n)).then((function(n){try{return a=n,a.name=C,a.lastModified=o,m.call(this)}catch(i){return l(i)}}).bind(this),l);{let n=function(){return m.call(this)};if(typeof OffscreenCanvas=="function"&&y instanceof OffscreenCanvas)return y.convertToBlob({type:S,quality:e}).then((function(i){try{return a=i,a.name=C,a.lastModified=o,n.call(this)}catch(r){return l(r)}}).bind(this),l);{let i;return i=y.toDataURL(S,e),Ke(i,C,o).then((function(r){try{return a=r,n.call(this)}catch(s){return l(s)}}).bind(this),l)}}}function g(){return t(a)}})}function pe(y){y.width=0,y.height=0}function Te(){return new Promise(function(y,S){let C,o,e,t;return Te.cachedResult!==void 0?y(Te.cachedResult):Ke("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return C=l,Le(C).then(function(a){try{return o=a[1],Pe(o,C.type,C.name,C.lastModified).then(function(g){try{return e=g,pe(o),Le(e).then(function(m){try{return t=m[0],Te.cachedResult=t.width===1&&t.height===2,y(Te.cachedResult)}catch(n){return S(n)}},S)}catch(m){return S(m)}},S)}catch(g){return S(g)}},S)}catch(a){return S(a)}},S)})}function at(y){return new Promise((S,C)=>{const o=new tt;o.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return S(-2);const l=t.byteLength;let a=2;for(;a<l;){if(t.getUint16(a+2,!1)<=8)return S(-1);const g=t.getUint16(a,!1);if(a+=2,g==65505){if(t.getUint32(a+=2,!1)!=1165519206)return S(-1);const m=t.getUint16(a+=6,!1)==18761;a+=t.getUint32(a+4,m);const n=t.getUint16(a,m);a+=2;for(let i=0;i<n;i++)if(t.getUint16(a+12*i,m)==274)return S(t.getUint16(a+12*i+8,m))}else{if((65280&g)!=65280)break;a+=t.getUint16(a,!1)}}return S(-1)},o.onerror=e=>C(e),o.readAsArrayBuffer(y)})}function st(y,S){const{width:C}=y,{height:o}=y,{maxWidthOrHeight:e}=S;let t,l=y;return isFinite(e)&&(C>e||o>e)&&([l,t]=ke(C,o),C>o?(l.width=e,l.height=o/C*e):(l.width=C/o*e,l.height=e),t.drawImage(y,0,0,l.width,l.height),pe(y)),l}function ft(y,S){const{width:C}=y,{height:o}=y,[e,t]=ke(C,o);switch(S>4&&S<9?(e.width=o,e.height=C):(e.width=C,e.height=o),S){case 2:t.transform(-1,0,0,1,C,0);break;case 3:t.transform(-1,0,0,-1,C,o);break;case 4:t.transform(1,0,0,-1,0,o);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,o,0);break;case 7:t.transform(0,-1,-1,0,o,C);break;case 8:t.transform(0,-1,1,0,0,C)}return t.drawImage(y,0,0,C,o),pe(y),e}function Xe(y,S,C=0){return new Promise(function(o,e){let t,l,a,g,m,n,i,r,s,h,A,E,v,M,x,R,L,p,H,u;function c(U=5){if(S.signal&&S.signal.aborted)throw S.signal.reason;t+=U,S.onProgress(Math.min(t,100))}function b(U){if(S.signal&&S.signal.aborted)throw S.signal.reason;t=Math.min(Math.max(U,t),100),S.onProgress(t)}return t=C,l=S.maxIteration||10,a=1024*S.maxSizeMB*1024,c(),Le(y,S).then((function(U){try{return[,g]=U,c(),m=st(g,S),c(),new Promise(function(I,F){var w;if(!(w=S.exifOrientation))return at(y).then((function(d){try{return w=d,T.call(this)}catch(f){return F(f)}}).bind(this),F);function T(){return I(w)}return T.call(this)}).then((function(I){try{return n=I,c(),Te().then((function(F){try{return i=F?m:ft(m,n),c(),r=S.initialQuality||1,s=S.fileType||y.type,Pe(i,s,y.name,y.lastModified,r).then((function(w){try{{let d=function(){if(l--&&(x>a||x>v)){let O,_;return O=u?.95*H.width:H.width,_=u?.95*H.height:H.height,[L,p]=ke(O,_),p.drawImage(H,0,0,O,_),r*=s==="image/png"?.85:.95,Pe(L,s,y.name,y.lastModified,r).then(function(P){try{return R=P,pe(H),H=L,x=R.size,b(Math.min(99,Math.floor((M-x)/(M-a)*100))),d}catch(z){return e(z)}},e)}return[1]},f=function(){return pe(H),pe(L),pe(m),pe(i),pe(g),b(100),o(R)};if(h=w,c(),A=h.size>a,E=h.size>y.size,!A&&!E)return b(100),o(h);var T;return v=y.size,M=h.size,x=M,H=i,u=!S.alwaysKeepResolution&&A,(T=(function(O){for(;O;){if(O.then)return void O.then(T,e);try{if(O.pop){if(O.length)return O.pop()?f.call(this):O;O=d}else O=O.call(this)}catch(_){return e(_)}}}).bind(this))(d)}}catch(d){return e(d)}}).bind(this),e)}catch(w){return e(w)}}).bind(this),e)}catch(F){return e(F)}}).bind(this),e)}catch(I){return e(I)}}).bind(this),e)})}const bt=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let ze;function It(y,S){return new Promise((C,o)=>{ze||(ze=function(l){const a=[];return a.push(l),URL.createObjectURL(new Blob(a))}(bt));const e=new Worker(ze);e.addEventListener("message",function(l){if(S.signal&&S.signal.aborted)e.terminate();else if(l.data.progress===void 0){if(l.data.error)return o(new Error(l.data.error)),void e.terminate();C(l.data.file),e.terminate()}else S.onProgress(l.data.progress)}),e.addEventListener("error",o),S.signal&&S.signal.addEventListener("abort",()=>{o(S.signal.reason),e.terminate()}),e.postMessage({file:y,imageCompressionLibUrl:S.libURL,options:{...S,onProgress:void 0,signal:void 0}})})}function re(y,S){return new Promise(function(C,o){let e,t,l,a,g,m;if(e={...S},l=0,{onProgress:a}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,g=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=s=>{l=s,typeof a=="function"&&a(l)},!(y instanceof Blob||y instanceof wt))return o(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(y.type))return o(new Error("The file given is not an image"));if(m=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!g||typeof Worker!="function"||m)return Xe(y,e).then((function(s){try{return t=s,r.call(this)}catch(h){return o(h)}}).bind(this),o);var n=(function(){try{return r.call(this)}catch(s){return o(s)}}).bind(this),i=function(s){try{return Xe(y,e).then(function(h){try{return t=h,n()}catch(A){return o(A)}},o)}catch(h){return o(h)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",It(y,e).then(function(s){try{return t=s,n()}catch{return i()}},i)}catch{i()}function r(){try{t.name=y.name,t.lastModified=y.lastModified}catch{}try{e.preserveExif&&y.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===y.type)&&(t=Je(y,t))}catch{}return C(t)}})}re.getDataUrlFromFile=rt,re.getFilefromDataUrl=Ke,re.loadImage=nt,re.drawImageInCanvas=ot,re.drawFileInCanvas=Le,re.canvasToFile=Pe,re.getExifOrientation=at,re.handleMaxWidthOrHeight=st,re.followExifOrientation=ft,re.cleanupCanvasMemory=pe,re.isAutoOrientationInBrowser=Te,re.approximateBelowMaximumCanvasSizeOfBrowser=it,re.copyExifWithoutOrientation=Je,re.getBrowserName=Ee,re.version="2.0.2";const Be=y=>!y||y.length<12?null:{tradeId:y[0],date:y[1],time:y[2],amount:parseFloat(y[3])||0,tagId:y[4],tagName:y[5],tagColor:y[6],tagEmoji:y[7],driveImageId:y[8]||null,notes:y[9]||"",createdAt:y[10],updatedAt:y[11]},lt=async()=>{const y="1ruzm5D-ofifAU7d5oRChBT7DAYFTlVLgULSsXvYEtXU";console.log(" Fetching all trades from sheet:",y);try{const C=(await window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:y,range:`${Fe.TRADES}!A2:L`})).result.values||[];console.log(" Received rows from sheet:",C.length);const o=C.map(Be).filter(Boolean);return console.log(" Parsed trades:",o.length),o}catch(S){return console.error(" Failed to fetch trades:",S),[]}},Ut=async(y,S)=>{console.log(` Fetching trades for: ${y}-${S} (month is 0-indexed, so ${S} = ${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][S]})`);const C=await lt();console.log(` Total trades in sheet: ${C.length}`),C.length>0&&console.log(" All trade dates:",C.map(e=>e.date));const o=C.filter(e=>{const[t,l]=e.date.split("-").map(Number),a=t===y&&l===S+1;return console.log(a?`   Trade ${e.date} MATCHES!`:`   Trade ${e.date} doesn't match: tradeYear=${t} vs ${y}, tradeMonth=${l} vs ${S+1}`),a});return console.log(` Filtered to ${o.length} trades for ${y}-${S+1}`),o},St=async y=>{const S=await $e.getOrCreateSpreadsheet();let C=null;if(y.screenshot){const t=await re(y.screenshot,{maxSizeMB:1,maxWidthOrHeight:1200,useWebWorker:!0}),l=`${y.tradeId}_${y.date}.jpg`;C=await $e.uploadImage(t,l)}const o=new Date().toISOString(),e=[y.tradeId,y.date,y.time,y.amount,y.tagId,y.tagName,y.tagColor,y.tagEmoji,C||"",y.notes||"",o,o];return await window.gapi.client.sheets.spreadsheets.values.append({spreadsheetId:S,range:`${Fe.TRADES}!A:L`,valueInputOption:"USER_ENTERED",resource:{values:[e]}}),{...y,driveImageId:C,createdAt:o,updatedAt:o}},Et=async({tradeId:y,updates:S})=>{const C=localStorage.getItem(dt.SHEET_ID),t=((await window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:C,range:`${Fe.TRADES}!A:A`})).result.values||[]).findIndex(r=>r[0]===y);if(t===-1)throw new Error("Trade not found");const a=(await window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:C,range:`${Fe.TRADES}!A${t+1}:L${t+1}`})).result.values[0],g=Be(a);let m=g.driveImageId;if(S.screenshot){const r=await re(S.screenshot,{maxSizeMB:1,maxWidthOrHeight:1200,useWebWorker:!0}),s=`${y}_${S.date||g.date}.jpg`;m=await $e.uploadImage(r,s)}const n=new Date().toISOString(),i=[y,S.date||g.date,S.time||g.time,S.amount!==void 0?S.amount:g.amount,S.tagId||g.tagId,S.tagName||g.tagName,S.tagColor||g.tagColor,S.tagEmoji||g.tagEmoji,m||"",S.notes!==void 0?S.notes:g.notes,g.createdAt,n];return await window.gapi.client.sheets.spreadsheets.values.update({spreadsheetId:C,range:`${Fe.TRADES}!A${t+1}:L${t+1}`,valueInputOption:"USER_ENTERED",resource:{values:[i]}}),Be(i)},Ft=async y=>{const S="1ruzm5D-ofifAU7d5oRChBT7DAYFTlVLgULSsXvYEtXU";console.log(" Deleting trade:",y);const e=((await window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:S,range:`${Fe.TRADES}!A:A`})).result.values||[]).findIndex(g=>g[0]===y);if(e===-1)throw new Error("Trade not found");console.log(" Found trade at row:",e);const a=(await window.gapi.client.sheets.spreadsheets.get({spreadsheetId:S})).result.sheets.find(g=>g.properties.title===Fe.TRADES).properties.sheetId;await window.gapi.client.sheets.spreadsheets.batchUpdate({spreadsheetId:S,resource:{requests:[{deleteDimension:{range:{sheetId:a,dimension:"ROWS",startIndex:e,endIndex:e+1}}}]}}),console.log(" Trade deleted successfully")},Lt=()=>Ze({queryKey:["trades"],queryFn:lt,staleTime:5*60*1e3,cacheTime:30*60*1e3}),Pt=(y,S)=>Ze({queryKey:["trades",y,S],queryFn:()=>Ut(y,S),staleTime:5*60*1e3}),kt=()=>{const y=qe();return We({mutationFn:St,onMutate:async S=>{await y.cancelQueries({queryKey:["trades"]});const C=y.getQueryData(["trades"]);return C&&y.setQueryData(["trades"],o=>[...o||[],S]),{previousTrades:C}},onError:(S,C,o)=>{o!=null&&o.previousTrades&&y.setQueryData(["trades"],o.previousTrades)},onSettled:()=>{y.invalidateQueries({queryKey:["trades"]})}})},Nt=()=>{const y=qe();return We({mutationFn:Et,onSuccess:()=>{y.invalidateQueries({queryKey:["trades"]})}})},Qt=()=>{const y=qe();return We({mutationFn:Ft,onMutate:async S=>{await y.cancelQueries({queryKey:["trades"]});const C=y.getQueryData(["trades"]);return C&&y.setQueryData(["trades"],o=>(o||[]).filter(e=>e.tradeId!==S)),{previousTrades:C}},onError:(S,C,o)=>{o!=null&&o.previousTrades&&y.setQueryData(["trades"],o.previousTrades)},onSettled:()=>{y.invalidateQueries({queryKey:["trades"]})}})},_t={};function Tt(y,S){let C;try{C=y()}catch{return}return{getItem:e=>{var t;const l=g=>g===null?null:JSON.parse(g,void 0),a=(t=C.getItem(e))!=null?t:null;return a instanceof Promise?a.then(l):l(a)},setItem:(e,t)=>C.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>C.removeItem(e)}}const Me=y=>S=>{try{const C=y(S);return C instanceof Promise?C:{then(o){return Me(o)(C)},catch(o){return this}}}catch(C){return{then(o){return this},catch(o){return Me(o)(C)}}}},Ct=(y,S)=>(C,o,e)=>{let t={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:E=>E,version:0,merge:(E,v)=>({...v,...E}),...S},l=!1;const a=new Set,g=new Set;let m;try{m=t.getStorage()}catch{}if(!m)return y((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${t.name}', the given storage is currently unavailable.`),C(...E)},o,e);const n=Me(t.serialize),i=()=>{const E=t.partialize({...o()});let v;const M=n({state:E,version:t.version}).then(x=>m.setItem(t.name,x)).catch(x=>{v=x});if(v)throw v;return M},r=e.setState;e.setState=(E,v)=>{r(E,v),i()};const s=y((...E)=>{C(...E),i()},o,e);let h;const A=()=>{var E;if(!m)return;l=!1,a.forEach(M=>M(o()));const v=((E=t.onRehydrateStorage)==null?void 0:E.call(t,o()))||void 0;return Me(m.getItem.bind(m))(t.name).then(M=>{if(M)return t.deserialize(M)}).then(M=>{if(M)if(typeof M.version=="number"&&M.version!==t.version){if(t.migrate)return t.migrate(M.state,M.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return M.state}).then(M=>{var x;return h=t.merge(M,(x=o())!=null?x:s),C(h,!0),i()}).then(()=>{v==null||v(h,void 0),l=!0,g.forEach(M=>M(h))}).catch(M=>{v==null||v(void 0,M)})};return e.persist={setOptions:E=>{t={...t,...E},E.getStorage&&(m=E.getStorage())},clearStorage:()=>{m==null||m.removeItem(t.name)},getOptions:()=>t,rehydrate:()=>A(),hasHydrated:()=>l,onHydrate:E=>(a.add(E),()=>{a.delete(E)}),onFinishHydration:E=>(g.add(E),()=>{g.delete(E)})},A(),h||s},Rt=(y,S)=>(C,o,e)=>{let t={storage:Tt(()=>localStorage),partialize:A=>A,version:0,merge:(A,E)=>({...E,...A}),...S},l=!1;const a=new Set,g=new Set;let m=t.storage;if(!m)return y((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${t.name}', the given storage is currently unavailable.`),C(...A)},o,e);const n=()=>{const A=t.partialize({...o()});return m.setItem(t.name,{state:A,version:t.version})},i=e.setState;e.setState=(A,E)=>{i(A,E),n()};const r=y((...A)=>{C(...A),n()},o,e);e.getInitialState=()=>r;let s;const h=()=>{var A,E;if(!m)return;l=!1,a.forEach(M=>{var x;return M((x=o())!=null?x:r)});const v=((E=t.onRehydrateStorage)==null?void 0:E.call(t,(A=o())!=null?A:r))||void 0;return Me(m.getItem.bind(m))(t.name).then(M=>{if(M)if(typeof M.version=="number"&&M.version!==t.version){if(t.migrate)return[!0,t.migrate(M.state,M.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,M.state];return[!1,void 0]}).then(M=>{var x;const[R,L]=M;if(s=t.merge(L,(x=o())!=null?x:r),C(s,!0),R)return n()}).then(()=>{v==null||v(s,void 0),s=o(),l=!0,g.forEach(M=>M(s))}).catch(M=>{v==null||v(void 0,M)})};return e.persist={setOptions:A=>{t={...t,...A},A.storage&&(m=A.storage)},clearStorage:()=>{m==null||m.removeItem(t.name)},getOptions:()=>t,rehydrate:()=>h(),hasHydrated:()=>l,onHydrate:A=>(a.add(A),()=>{a.delete(A)}),onFinishHydration:A=>(g.add(A),()=>{g.delete(A)})},t.skipHydration||h(),s||r},Mt=(y,S)=>"getStorage"in S||"serialize"in S||"deserialize"in S?((_t?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Ct(y,S)):Rt(y,S),xt=Mt,Dt=ht(xt(y=>({settings:gt,updateSettings:S=>{y(C=>({settings:{...C.settings,...S}}))},getCurrencySymbol:()=>Dt.getState().settings.currency}),{name:"tradezen-settings",version:1}));export{Dt as a,Pt as b,Qt as c,Nt as d,kt as e,Lt as u};
