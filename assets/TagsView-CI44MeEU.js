import{r as i,j as e,L as h,X as p}from"./index-Jll3beFS.js";import{u as f,a as j,b as v,P as c}from"./useTags-BtYmeX5B.js";import{g as N}from"./utils-Rfg4Xzlg.js";import{T as y}from"./trash-2-BL8g3BMN.js";import"./useMutation-Cuvrz-yq.js";const w=["ðŸŽ¯","ðŸš¨","ðŸ“Š","ðŸ’Ž","ðŸ”¥","âš¡","ðŸŽª","ðŸŽ¨","ðŸŽ­","ðŸŽ¬","ðŸŽª","ðŸŽ°","ðŸŽ²"],T=[{name:"Cyan",value:"#06b6d4"},{name:"Purple",value:"#8b5cf6"},{name:"Pink",value:"#ec4899"},{name:"Green",value:"#10b981"},{name:"Orange",value:"#f59e0b"},{name:"Red",value:"#ef4444"},{name:"Blue",value:"#3b82f6"},{name:"Yellow",value:"#eab308"}],D=()=>{const{data:r=[],isLoading:m}=f(),o=j(),x=v(),[b,t]=i.useState(!1),[s,l]=i.useState({name:"",emoji:"ðŸŽ¯",color:"#06b6d4"}),u=async a=>{a.preventDefault();const n={tagId:N(),name:s.name,emoji:s.emoji,color:s.color,order:r.length};try{await o.mutateAsync(n),l({name:"",emoji:"ðŸŽ¯",color:"#06b6d4"}),t(!1)}catch(d){alert("Failed to create tag: "+d.message)}},g=async(a,n)=>{if(confirm(`Delete "${n}" tag? This won't delete trades using this tag.`))try{await x.mutateAsync(a)}catch(d){alert("Failed to delete tag: "+d.message)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",style:{paddingTop:"100px"},children:e.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-black",children:"Strategy Tags"}),e.jsxs("button",{onClick:()=>t(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all font-semibold",children:[e.jsx(c,{size:20}),"New Tag"]})]}),m?e.jsx(h,{type:"skeleton-card"}):r.length===0?e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-sm rounded-2xl border border-slate-700/50 p-12 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ·ï¸"}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Tags Yet"}),e.jsx("p",{className:"text-slate-400 mb-6",children:"Create strategy tags to categorize your trades"}),e.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all font-semibold",children:[e.jsx(c,{size:20}),"Create Your First Tag"]})]}):e.jsx("div",{className:"space-y-3",children:r.map(a=>e.jsx("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-sm rounded-2xl border border-slate-700/50 p-6 hover:border-slate-600/50 transition-all group",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-5xl",children:a.emoji}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:a.color},children:a.name}),e.jsxs("div",{className:"text-xs text-slate-500",children:["Tag ID: ",a.tagId]})]}),e.jsx("div",{className:"w-12 h-12 rounded-full shadow-lg",style:{backgroundColor:a.color}}),e.jsx("button",{onClick:()=>g(a.tagId,a.name),className:"opacity-0 group-hover:opacity-100 p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-all",children:e.jsx(y,{size:20})})]})},a.tagId))}),b&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-slate-900 rounded-2xl border border-slate-700 max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-black",children:"New Strategy Tag"}),e.jsx("button",{onClick:()=>t(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-all",children:e.jsx(p,{size:20})})]}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-400 mb-2",children:"Tag Name"}),e.jsx("input",{type:"text",value:s.name,onChange:a=>l({...s,name:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none",placeholder:"e.g., EMA Retest, Break & Retest",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-400 mb-2",children:"Emoji"}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:w.map(a=>e.jsx("button",{type:"button",onClick:()=>l({...s,emoji:a}),className:`text-3xl p-2 rounded-lg border-2 transition-all ${s.emoji===a?"border-blue-500 bg-blue-900/30":"border-slate-700 hover:border-slate-600"}`,children:a},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-400 mb-2",children:"Color"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:T.map(a=>e.jsx("button",{type:"button",onClick:()=>l({...s,color:a.value}),className:`p-3 rounded-lg border-2 transition-all ${s.color===a.value?"border-white":"border-transparent"}`,style:{backgroundColor:a.value},children:e.jsx("span",{className:"text-xs font-bold text-white",children:a.name})},a.value))})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>t(!1),className:"flex-1 px-4 py-3 bg-slate-800 hover:bg-slate-700 rounded-lg transition-all font-semibold",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!s.name||o.isLoading,className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:shadow-lg rounded-lg transition-all font-semibold disabled:opacity-50",children:o.isLoading?"Creating...":"Create Tag"})]})]})]})})]})})};export{D as default};
