import{c,i,r as d,j as e,L as x}from"./index-DsHdW30n.js";import{u as h}from"./useTags-DRrR8G6k.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m=c("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),p=()=>{const n=i(),{data:s=[],isLoading:l,error:t,refetch:o}=h();d.useEffect(()=>{console.log("=== TAGS VIEW DEBUG ==="),console.log("isLoading:",l),console.log("error:",t),console.log("tags:",s),console.log("tags array:",JSON.stringify(s,null,2)),n.invalidateQueries({queryKey:["tags"]}),setTimeout(()=>{o()},500)},[]);const r=()=>{n.removeQueries({queryKey:["tags"]}),setTimeout(()=>o(),100)};return e.jsxs("div",{className:"p-6 pb-20 max-w-4xl mx-auto",style:{paddingTop:"100px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-3xl font-black",children:"Strategy Tags"}),e.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all",children:[e.jsx(m,{size:16,className:l?"animate-spin":""}),"Refresh"]})]}),l?e.jsxs("div",{children:[e.jsx(x,{type:"skeleton-card"}),e.jsx("p",{className:"text-center text-slate-400 mt-4",children:"Loading tags..."})]}):t?e.jsxs("div",{className:"card text-center py-12 bg-red-900/20",children:[e.jsxs("p",{className:"text-red-400 mb-4",children:["Error: ",(t==null?void 0:t.message)||"Unknown error"]}),e.jsx("button",{onClick:r,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:"Retry"})]}):!s||s.length===0?e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ·ï¸"}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Tags Found"}),e.jsx("p",{className:"text-slate-400 mb-4",children:"Tags should appear here from your Google Sheet"}),e.jsx("button",{onClick:r,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:"Check Again"}),e.jsxs("div",{className:"mt-4 p-4 bg-slate-800 rounded-lg text-left",children:[e.jsx("div",{className:"text-xs text-slate-400",children:"Debug Info:"}),e.jsxs("div",{className:"text-xs text-slate-300 font-mono",children:["isLoading: ",l.toString(),e.jsx("br",{}),"tags.length: ",(s==null?void 0:s.length)||0,e.jsx("br",{}),"error: ",t?t.message:"none"]})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("p",{className:"text-slate-400 text-sm mb-4",children:["Found ",s.length," tag(s)"]}),s.map(a=>e.jsx("div",{className:"card hover:bg-surface-hover transition-all",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-4xl",children:a.emoji}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xl font-bold",style:{color:a.color},children:a.name}),e.jsxs("div",{className:"text-xs text-slate-500",children:["ID: ",a.tagId]})]}),e.jsx("div",{className:"w-8 h-8 rounded-full shadow-lg",style:{backgroundColor:a.color}})]})},a.tagId))]})]})};export{p as default};
