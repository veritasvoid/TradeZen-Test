import{d as I,e as G,a as K,r as p,j as e,b as Q,X as w}from"./index-bno3-3QJ.js";import{b as ee,a as te,c as z,d as se,e as E}from"./settingsStore-DvusL_y7.js";import{u as ae,f as k,g as U}from"./useTags-DBS8MHj1.js";import{T as le}from"./trash-2-x11vlF9C.js";import{P as re}from"./plus-VSvh45xV.js";import"./useMutation-Cg24QtMB.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=I("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=I("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=I("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),fe=()=>{const{year:m,month:o}=G();K();const a=new Date,s=parseInt(m)||a.getFullYear(),h=o!==void 0?parseInt(o):a.getMonth(),{data:t=[],isLoading:n}=ee(s,h),{data:x=[]}=ae(),r=te(i=>i.settings.currency),[d,g]=p.useState(null),[b,u]=p.useState(!1),[c,l]=p.useState(!1),[f,R]=p.useState(null),q=["January","February","March","April","May","June","July","August","September","October","November","December"],J=new Date(s,h+1,0).getDate(),W=new Date(s,h,1).getDay(),C=t.reduce((i,j)=>i+j.amount,0),T=t.filter(i=>i.amount>0),H=t.filter(i=>i.amount<0),D=t.length>0?Math.round(T.length/t.length*100):0,M=ue(t),v={};t.forEach(i=>{const j=parseInt(i.date.split("-")[2]);v[j]||(v[j]=[]),v[j].push(i)});const[Y,A]=p.useState(!1),[S,L]=p.useState(null),B=i=>{L(i),A(!0)},P=i=>{g(i),u(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(Q,{}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:[e.jsxs("div",{className:"max-w-[1800px] mx-auto p-6 pt-20",children:[e.jsxs("h1",{className:"text-3xl font-black text-center mb-6",children:[q[h]," ",s]}),e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[e.jsx("div",{className:"col-span-9",children:e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-sm rounded-2xl border border-slate-700/50 p-6",children:[e.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(i=>e.jsx("div",{className:"text-center text-slate-400 text-sm font-semibold py-2",children:i},i))}),e.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:W}).map((i,j)=>e.jsx("div",{className:"aspect-square"},`empty-${j}`)),Array.from({length:J}).map((i,j)=>{const N=j+1,F=v[N]||[],V=F.reduce((X,Z)=>X+Z.amount,0),_=N===a.getDate()&&h===a.getMonth()&&s===a.getFullYear();return e.jsx(oe,{day:N,trades:F,dayPL:V,isToday:_,currency:r,onClick:()=>B(N),onEditTrade:P},N)})]})]})}),e.jsxs("div",{className:"col-span-3 space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-sm rounded-2xl border border-slate-700/50 p-6",children:[e.jsx("h3",{className:"text-sm uppercase tracking-wider text-slate-400 mb-4 font-semibold text-center",children:"Month Stats"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(y,{label:"Total P&L",value:k(C,r),color:C>=0?"emerald":"red"}),e.jsx(y,{label:"Trades",value:t.length}),e.jsx(y,{label:"Winners",value:T.length,color:"emerald"}),e.jsx(y,{label:"Losers",value:H.length,color:"red"}),e.jsx(y,{label:"Win Rate",value:`${D}%`,color:D>=50?"emerald":"red"})]})]}),M.length>0&&e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-sm rounded-2xl border border-slate-700/50 p-6",children:[e.jsx("h3",{className:"text-sm uppercase tracking-wider text-slate-400 mb-4 font-semibold text-center",children:"Strategies"}),e.jsx("div",{className:"space-y-3",children:M.map(i=>e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-xl",children:i.tagEmoji}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("div",{className:"text-xs font-bold truncate",style:{color:i.tagColor},children:i.tagName})})]}),e.jsx("div",{className:`text-lg font-black ${i.totalPL>=0?"text-emerald-400":"text-red-400"}`,children:k(i.totalPL,r)}),e.jsxs("div",{className:"text-[10px] text-slate-400 mt-1",children:[i.trades,"T â€¢ ",i.winRate,"% WR"]})]},i.tagId))})]})]})]})]}),Y&&S&&e.jsx(de,{day:S,year:s,month:h,trades:v[S]||[],tags:x,currency:r,onClose:()=>{A(!1),L(null)},onEditTrade:P}),b&&d&&e.jsx(ce,{trade:d,tags:x,currency:r,onClose:()=>{u(!1),g(null)}}),c&&e.jsx(me,{date:f,tags:x,currency:r,onClose:()=>{l(!1),R(null)}})]})]})},oe=({day:m,trades:o,dayPL:a,isToday:s,currency:h,onClick:t,onEditTrade:n})=>{const x=o.length>0,r=x?a>0?"bg-emerald-900/20 border-emerald-500/30":"bg-red-900/20 border-red-500/30":"bg-slate-800/20 border-slate-700/30";return e.jsxs("div",{onClick:()=>!x&&t(),className:`aspect-square rounded-lg border ${r} ${s?"ring-2 ring-blue-500":""} p-2 relative hover:bg-slate-700/30 transition-all ${x?"":"cursor-pointer"}`,children:[e.jsx("div",{className:"text-sm font-semibold text-slate-300",children:m}),x&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`absolute inset-0 flex items-center justify-center text-lg font-black ${a>=0?"text-emerald-400":"text-red-400"}`,children:k(a,h)}),e.jsx("div",{className:"absolute bottom-1 left-1 flex flex-wrap gap-1 max-w-[80%]",children:[...new Set(o.map(d=>d.tagName).filter(Boolean))].map(d=>e.jsx("span",{className:"text-[8px] text-slate-400 bg-slate-900/70 px-1 rounded truncate",children:d},d))}),o.length>1&&e.jsx("div",{className:"absolute bottom-1 right-1 text-[9px] text-slate-500 font-semibold",children:o.length}),e.jsx("div",{className:"absolute inset-0"})]})]})},de=({day:m,year:o,month:a,trades:s,tags:h,currency:t,onClose:n,onEditTrade:x})=>{const r=z(),[d,g]=p.useState(s.length===0),b=["January","February","March","April","May","June","July","August","September","October","November","December"],u=`${o}-${String(a+1).padStart(2,"0")}-${String(m).padStart(2,"0")}`,c=async l=>{if(confirm("Delete this trade?"))try{await r.mutateAsync(l)}catch(f){alert("Failed to delete: "+f.message)}};return e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-slate-900 rounded-2xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 sticky top-0 bg-slate-900 pb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-black",children:[b[a]," ",m,", ",o]}),e.jsxs("p",{className:"text-sm text-slate-400",children:[s.length," trade",s.length!==1?"s":""]})]}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-800 rounded-lg",children:e.jsx(w,{size:20})})]}),s.length>0&&!d&&e.jsx("div",{className:"space-y-3 mb-6",children:s.map(l=>e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 flex items-center gap-4",children:[e.jsx("div",{className:"flex-shrink-0 text-xs text-slate-500",children:l.time}),e.jsxs("div",{className:"flex-1",children:[l.tagName&&e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm",children:l.tagEmoji}),e.jsx("span",{className:"text-xs font-semibold",style:{color:l.tagColor},children:l.tagName})]}),l.notes&&e.jsx("div",{className:"text-xs text-slate-400",children:l.notes})]}),e.jsx("div",{className:`text-xl font-black ${l.amount>=0?"text-emerald-400":"text-red-400"}`,children:k(l.amount,t)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{x(l),n()},className:"p-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-all",children:e.jsx(ne,{size:16})}),e.jsx("button",{onClick:()=>c(l.tradeId),className:"p-2 bg-red-600 hover:bg-red-700 rounded-lg transition-all",children:e.jsx(le,{size:16})})]})]},l.tradeId))}),d?e.jsxs("div",{className:"border-t border-slate-700 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-bold",children:"New Trade"}),s.length>0&&e.jsx("button",{onClick:()=>g(!1),className:"text-sm text-slate-400 hover:text-slate-300",children:"Cancel"})]}),e.jsx(ie,{date:u,tags:h,currency:t,onSuccess:()=>{g(!1)}})]}):e.jsxs("button",{onClick:()=>g(!0),className:"w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:shadow-lg rounded-lg transition-all font-semibold flex items-center justify-center gap-2",children:[e.jsx(re,{size:20}),"Add Another Trade"]})]})})},ie=({date:m,tags:o,currency:a,onSuccess:s})=>{const h=E(),[t,n]=p.useState({amount:"",time:new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"}),tagId:"",notes:"",screenshot:null}),[x,r]=p.useState(null),d=b=>{var c;const u=(c=b.target.files)==null?void 0:c[0];if(u){if(!u.type.startsWith("image/")){alert("Please select an image file");return}n({...t,screenshot:u}),r(URL.createObjectURL(u))}},g=async b=>{b.preventDefault();try{const u=o.find(c=>c.tagId===t.tagId);await h.mutateAsync({tradeId:U(),date:m,time:t.time,amount:parseFloat(t.amount),tagId:t.tagId||null,tagName:(u==null?void 0:u.name)||null,tagColor:(u==null?void 0:u.color)||null,tagEmoji:(u==null?void 0:u.emoji)||null,notes:t.notes,screenshot:t.screenshot}),s(),n({amount:"",time:new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"}),tagId:"",notes:"",screenshot:null}),r(null)}catch(u){alert("Failed to save: "+u.message)}};return e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-2",children:"Time"}),e.jsx("input",{type:"time",value:t.time,onChange:b=>n({...t,time:b.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm focus:border-blue-500 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-semibold text-slate-400 mb-2",children:["Amount (",a,")"]}),e.jsx("input",{type:"number",step:"0.01",value:t.amount,onChange:b=>n({...t,amount:b.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm focus:border-blue-500 focus:outline-none",placeholder:"100",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-2",children:"Tag (Optional)"}),e.jsxs("select",{value:t.tagId,onChange:b=>n({...t,tagId:b.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm focus:border-blue-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"No Tag"}),o.map(b=>e.jsxs("option",{value:b.tagId,children:[b.emoji," ",b.name]},b.tagId))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-2",children:"Notes (Optional)"}),e.jsx("textarea",{value:t.notes,onChange:b=>n({...t,notes:b.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm focus:border-blue-500 focus:outline-none resize-none",rows:2,placeholder:"Trade notes..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-2",children:"Screenshot (Optional)"}),x?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:x,alt:"Preview",className:"w-full h-32 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>{n({...t,screenshot:null}),r(null)},className:"absolute top-2 right-2 p-1 bg-black/50 rounded-full hover:bg-black/70",children:e.jsx(w,{size:16,className:"text-white"})})]}):e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:d,className:"hidden"}),e.jsxs("div",{className:"border-2 border-dashed border-slate-700 hover:border-slate-600 rounded-lg p-4 text-center transition-all",children:[e.jsx($,{size:24,className:"mx-auto mb-1 text-slate-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Take Photo"})]})]}),e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:d,className:"hidden"}),e.jsxs("div",{className:"border-2 border-dashed border-slate-700 hover:border-slate-600 rounded-lg p-4 text-center transition-all",children:[e.jsx(O,{size:24,className:"mx-auto mb-1 text-slate-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Upload"})]})]})]})]}),e.jsx("button",{type:"submit",disabled:h.isLoading,className:"w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:shadow-lg rounded-lg transition-all font-semibold disabled:opacity-50",children:h.isLoading?"Saving...":"Save Trade"})]})},ce=({trade:m,tags:o,currency:a,onClose:s})=>{const h=se(),t=z(),[n,x]=p.useState({amount:m.amount,time:m.time,tagId:m.tagId||"",notes:m.notes||"",screenshot:null}),[r,d]=p.useState(m.driveImageId?`https://drive.google.com/thumbnail?id=${m.driveImageId}&sz=w800`:null),g=c=>{var f;const l=(f=c.target.files)==null?void 0:f[0];if(l){if(!l.type.startsWith("image/")){alert("Please select an image file");return}x({...n,screenshot:l}),d(URL.createObjectURL(l))}},b=async c=>{c.preventDefault();try{const l=o.find(f=>f.tagId===n.tagId);await h.mutateAsync({tradeId:m.tradeId,updates:{...n,tagName:(l==null?void 0:l.name)||null,tagColor:(l==null?void 0:l.color)||null,tagEmoji:(l==null?void 0:l.emoji)||null}}),s()}catch(l){alert("Failed to update: "+l.message)}},u=async()=>{if(confirm("Delete this trade? This cannot be undone."))try{await t.mutateAsync(m.tradeId),s()}catch(c){alert("Failed to delete: "+c.message)}};return e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-slate-900 rounded-2xl border border-slate-700 max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-black",children:"Edit Trade"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-800 rounded-lg",children:e.jsx(w,{size:20})})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-400 mb-2",children:"Date"}),e.jsx("input",{type:"text",value:m.date,readOnly:!0,className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-3 text-slate-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-400 mb-2",children:"Time"}),e.jsx("input",{type:"time",value:n.time,onChange:c=>x({...n,time:c.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-slate-400 mb-2",children:["Amount (",a,")"]}),e.jsx("input",{type:"number",step:"0.01",value:n.amount,onChange:c=>x({...n,amount:parseFloat(c.target.value)}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-400 mb-2",children:"Tag"}),e.jsxs("select",{value:n.tagId,onChange:c=>x({...n,tagId:c.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"No Tag"}),o.map(c=>e.jsxs("option",{value:c.tagId,children:[c.emoji," ",c.name]},c.tagId))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-400 mb-2",children:"Notes"}),e.jsx("textarea",{value:n.notes,onChange:c=>x({...n,notes:c.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none resize-none",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-400 mb-2",children:"Screenshot"}),r?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r,alt:"Trade screenshot",className:"w-full h-48 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>{x({...n,screenshot:null}),d(null)},className:"absolute top-2 right-2 p-2 bg-black/50 rounded-full hover:bg-black/70",children:e.jsx(w,{size:20,className:"text-white"})})]}):e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:g,className:"hidden"}),e.jsxs("div",{className:"border-2 border-dashed border-slate-700 hover:border-slate-600 rounded-lg p-6 text-center transition-all",children:[e.jsx($,{size:28,className:"mx-auto mb-2 text-slate-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Take Photo"})]})]}),e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"hidden"}),e.jsxs("div",{className:"border-2 border-dashed border-slate-700 hover:border-slate-600 rounded-lg p-6 text-center transition-all",children:[e.jsx(O,{size:28,className:"mx-auto mb-2 text-slate-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Upload"})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:u,className:"px-4 py-3 bg-red-600 hover:bg-red-700 rounded-lg transition-all font-semibold",children:"Delete"}),e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-3 bg-slate-800 hover:bg-slate-700 rounded-lg transition-all font-semibold",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:h.isLoading,className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:shadow-lg rounded-lg transition-all font-semibold disabled:opacity-50",children:h.isLoading?"Saving...":"Save"})]})]})]})})},me=({date:m,tags:o,currency:a,onClose:s})=>{const h=E(),[t,n]=p.useState({amount:"",time:new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"}),tagId:"",notes:""}),x=async r=>{r.preventDefault();try{const d=o.find(g=>g.tagId===t.tagId);await h.mutateAsync({tradeId:U(),date:m,time:t.time,amount:parseFloat(t.amount),tagId:t.tagId||null,tagName:(d==null?void 0:d.name)||null,tagColor:(d==null?void 0:d.color)||null,tagEmoji:(d==null?void 0:d.emoji)||null,notes:t.notes,driveImageId:null}),s()}catch(d){alert("Failed to save: "+d.message)}};return e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-slate-900 rounded-2xl border border-slate-700 max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-black",children:"New Trade"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-800 rounded-lg",children:e.jsx(w,{size:20})})]}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-400 mb-2",children:"Date"}),e.jsx("input",{type:"text",value:m,readOnly:!0,className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-3 text-slate-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-400 mb-2",children:"Time"}),e.jsx("input",{type:"time",value:t.time,onChange:r=>n({...t,time:r.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-slate-400 mb-2",children:["Amount (",a,")"]}),e.jsx("input",{type:"number",step:"0.01",value:t.amount,onChange:r=>n({...t,amount:r.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none",placeholder:"e.g., 100 or -50",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-400 mb-2",children:"Tag"}),e.jsxs("select",{value:t.tagId,onChange:r=>n({...t,tagId:r.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"No Tag"}),o.map(r=>e.jsxs("option",{value:r.tagId,children:[r.emoji," ",r.name]},r.tagId))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-400 mb-2",children:"Notes"}),e.jsx("textarea",{value:t.notes,onChange:r=>n({...t,notes:r.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none resize-none",rows:3,placeholder:"Trade notes..."})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-3 bg-slate-800 hover:bg-slate-700 rounded-lg transition-all font-semibold",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:shadow-lg rounded-lg transition-all font-semibold",children:"Save Trade"})]})]})]})})},y=({label:m,value:o,color:a})=>{const s=a==="emerald"?"text-emerald-400":a==="red"?"text-red-400":"text-white";return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wider",children:m}),e.jsx("span",{className:`text-lg font-black ${s}`,children:o})]})},ue=m=>{const o={};return m.forEach(a=>{const s=a.tagId||"none";s!=="none"&&(o[s]||(o[s]={tagId:s,tagName:a.tagName,tagColor:a.tagColor,tagEmoji:a.tagEmoji,totalPL:0,trades:0,wins:0}),o[s].totalPL+=a.amount,o[s].trades+=1,a.amount>0&&(o[s].wins+=1))}),Object.values(o).map(a=>({...a,winRate:a.trades>0?Math.round(a.wins/a.trades*100):0})).sort((a,s)=>s.totalPL-a.totalPL)};export{fe as default};
