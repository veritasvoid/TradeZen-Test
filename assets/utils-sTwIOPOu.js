var Tt=e=>{throw TypeError(e)};var ut=(e,t,s)=>t.has(e)||Tt("Cannot "+s);var i=(e,t,s)=>(ut(e,t,"read from private field"),s?s.call(e):t.get(e)),b=(e,t,s)=>t.has(e)?Tt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),l=(e,t,s,r)=>(ut(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),p=(e,t,s)=>(ut(e,t,"access private method"),s);import{l as Lt,p as Et,m as T,s as st,n as K,o as rt,q as lt,t as It,v as Bt,w as q,x as Ht,y as Kt,z as Mt,A as nt,B as xt,C as Zt,r as C,D as St,h as kt}from"./index-D1Bw2a1x.js";var R,c,Z,v,Q,$,I,U,V,W,A,L,k,F,z,u,H,ft,dt,pt,mt,gt,bt,yt,jt,Pt,Vt=(Pt=class extends Lt{constructor(t,s){super();b(this,u);b(this,R);b(this,c);b(this,Z);b(this,v);b(this,Q);b(this,$);b(this,I);b(this,U);b(this,V);b(this,W);b(this,A);b(this,L);b(this,k);b(this,F);b(this,z,new Set);this.options=s,l(this,R,t),l(this,U,null),l(this,I,Et()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(i(this,c).addObserver(this),Nt(i(this,c),this.options)?p(this,u,H).call(this):this.updateResult(),p(this,u,mt).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return vt(i(this,c),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return vt(i(this,c),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,p(this,u,gt).call(this),p(this,u,bt).call(this),i(this,c).removeObserver(this)}setOptions(t){const s=this.options,r=i(this,c);if(this.options=i(this,R).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof T(this.options.enabled,i(this,c))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");p(this,u,yt).call(this),i(this,c).setOptions(this.options),s._defaulted&&!st(this.options,s)&&i(this,R).getQueryCache().notify({type:"observerOptionsUpdated",query:i(this,c),observer:this});const n=this.hasListeners();n&&Ut(i(this,c),r,this.options,s)&&p(this,u,H).call(this),this.updateResult(),n&&(i(this,c)!==r||T(this.options.enabled,i(this,c))!==T(s.enabled,i(this,c))||K(this.options.staleTime,i(this,c))!==K(s.staleTime,i(this,c)))&&p(this,u,ft).call(this);const o=p(this,u,dt).call(this);n&&(i(this,c)!==r||T(this.options.enabled,i(this,c))!==T(s.enabled,i(this,c))||o!==i(this,F))&&p(this,u,pt).call(this,o)}getOptimisticResult(t){const s=i(this,R).getQueryCache().build(i(this,R),t),r=this.createResult(s,t);return Gt(this,r)&&(l(this,v,r),l(this,$,this.options),l(this,Q,i(this,c).state)),r}getCurrentResult(){return i(this,v)}trackResult(t,s){return new Proxy(t,{get:(r,n)=>(this.trackProp(n),s==null||s(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&i(this,I).status==="pending"&&i(this,I).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(t){i(this,z).add(t)}getCurrentQuery(){return i(this,c)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=i(this,R).defaultQueryOptions(t),r=i(this,R).getQueryCache().build(i(this,R),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(t){return p(this,u,H).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),i(this,v)))}createResult(t,s){var wt;const r=i(this,c),n=this.options,o=i(this,v),a=i(this,Q),h=i(this,$),f=t!==r?t.state:i(this,Z),{state:y}=t;let m={...y},O=!1,d;if(s._optimisticResults){const w=this.hasListeners(),G=!w&&Nt(t,s),j=w&&Ut(t,r,s,n);(G||j)&&(m={...m,...Kt(y.data,t.options)}),s._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:P,errorUpdatedAt:Y,status:D}=m;d=m.data;let J=!1;if(s.placeholderData!==void 0&&d===void 0&&D==="pending"){let w;o!=null&&o.isPlaceholderData&&s.placeholderData===(h==null?void 0:h.placeholderData)?(w=o.data,J=!0):w=typeof s.placeholderData=="function"?s.placeholderData((wt=i(this,A))==null?void 0:wt.state.data,i(this,A)):s.placeholderData,w!==void 0&&(D="success",d=Mt(o==null?void 0:o.data,w,s),O=!0)}if(s.select&&d!==void 0&&!J)if(o&&d===(a==null?void 0:a.data)&&s.select===i(this,V))d=i(this,W);else try{l(this,V,s.select),d=s.select(d),d=Mt(o==null?void 0:o.data,d,s),l(this,W,d),l(this,U,null)}catch(w){l(this,U,w)}i(this,U)&&(P=i(this,U),d=i(this,W),Y=Date.now(),D="error");const at=m.fetchStatus==="fetching",ot=D==="pending",ct=D==="error",Dt=ot&&at,Ot=d!==void 0,E={status:D,fetchStatus:m.fetchStatus,isPending:ot,isSuccess:D==="success",isError:ct,isInitialLoading:Dt,isLoading:Dt,data:d,dataUpdatedAt:m.dataUpdatedAt,error:P,errorUpdatedAt:Y,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:at,isRefetching:at&&!ot,isLoadingError:ct&&!Ot,isPaused:m.fetchStatus==="paused",isPlaceholderData:O,isRefetchError:ct&&Ot,isStale:Ct(t,s),refetch:this.refetch,promise:i(this,I),isEnabled:T(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const w=X=>{E.status==="error"?X.reject(E.error):E.data!==void 0&&X.resolve(E.data)},G=()=>{const X=l(this,I,E.promise=Et());w(X)},j=i(this,I);switch(j.status){case"pending":t.queryHash===r.queryHash&&w(j);break;case"fulfilled":(E.status==="error"||E.data!==j.value)&&G();break;case"rejected":(E.status!=="error"||E.error!==j.reason)&&G();break}}return E}updateResult(){const t=i(this,v),s=this.createResult(i(this,c),this.options);if(l(this,Q,i(this,c).state),l(this,$,this.options),i(this,Q).data!==void 0&&l(this,A,i(this,c)),st(s,t))return;l(this,v,s);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,o=typeof n=="function"?n():n;if(o==="all"||!o&&!i(this,z).size)return!0;const a=new Set(o??i(this,z));return this.options.throwOnError&&a.add("error"),Object.keys(i(this,v)).some(h=>{const g=h;return i(this,v)[g]!==t[g]&&a.has(g)})};p(this,u,jt).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&p(this,u,mt).call(this)}},R=new WeakMap,c=new WeakMap,Z=new WeakMap,v=new WeakMap,Q=new WeakMap,$=new WeakMap,I=new WeakMap,U=new WeakMap,V=new WeakMap,W=new WeakMap,A=new WeakMap,L=new WeakMap,k=new WeakMap,F=new WeakMap,z=new WeakMap,u=new WeakSet,H=function(t){p(this,u,yt).call(this);let s=i(this,c).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(rt)),s},ft=function(){p(this,u,gt).call(this);const t=K(this.options.staleTime,i(this,c));if(lt||i(this,v).isStale||!It(t))return;const r=Bt(i(this,v).dataUpdatedAt,t)+1;l(this,L,q.setTimeout(()=>{i(this,v).isStale||this.updateResult()},r))},dt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(i(this,c)):this.options.refetchInterval)??!1},pt=function(t){p(this,u,bt).call(this),l(this,F,t),!(lt||T(this.options.enabled,i(this,c))===!1||!It(i(this,F))||i(this,F)===0)&&l(this,k,q.setInterval(()=>{(this.options.refetchIntervalInBackground||Ht.isFocused())&&p(this,u,H).call(this)},i(this,F)))},mt=function(){p(this,u,ft).call(this),p(this,u,pt).call(this,p(this,u,dt).call(this))},gt=function(){i(this,L)&&(q.clearTimeout(i(this,L)),l(this,L,void 0))},bt=function(){i(this,k)&&(q.clearInterval(i(this,k)),l(this,k,void 0))},yt=function(){const t=i(this,R).getQueryCache().build(i(this,R),this.options);if(t===i(this,c))return;const s=i(this,c);l(this,c,t),l(this,Z,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},jt=function(t){nt.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(i(this,v))}),i(this,R).getQueryCache().notify({query:i(this,c),type:"observerResultsUpdated"})})},Pt);function Jt(e,t){return T(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Nt(e,t){return Jt(e,t)||e.state.data!==void 0&&vt(e,t,t.refetchOnMount)}function vt(e,t,s){if(T(t.enabled,e)!==!1&&K(t.staleTime,e)!=="static"){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&Ct(e,t)}return!1}function Ut(e,t,s,r){return(e!==t||T(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Ct(e,s)}function Ct(e,t){return T(t.enabled,e)!==!1&&e.isStaleByTime(K(t.staleTime,e))}function Gt(e,t){return!st(e.getCurrentResult(),t)}var M,_,S,x,N,et,Rt,Qt,Xt=(Qt=class extends Lt{constructor(t,s){super();b(this,N);b(this,M);b(this,_);b(this,S);b(this,x);l(this,M,t),this.setOptions(s),this.bindMethods(),p(this,N,et).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var r;const s=this.options;this.options=i(this,M).defaultMutationOptions(t),st(this.options,s)||i(this,M).getMutationCache().notify({type:"observerOptionsUpdated",mutation:i(this,S),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&xt(s.mutationKey)!==xt(this.options.mutationKey)?this.reset():((r=i(this,S))==null?void 0:r.state.status)==="pending"&&i(this,S).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=i(this,S))==null||t.removeObserver(this)}onMutationUpdate(t){p(this,N,et).call(this),p(this,N,Rt).call(this,t)}getCurrentResult(){return i(this,_)}reset(){var t;(t=i(this,S))==null||t.removeObserver(this),l(this,S,void 0),p(this,N,et).call(this),p(this,N,Rt).call(this)}mutate(t,s){var r;return l(this,x,s),(r=i(this,S))==null||r.removeObserver(this),l(this,S,i(this,M).getMutationCache().build(i(this,M),this.options)),i(this,S).addObserver(this),i(this,S).execute(t)}},M=new WeakMap,_=new WeakMap,S=new WeakMap,x=new WeakMap,N=new WeakSet,et=function(){var s;const t=((s=i(this,S))==null?void 0:s.state)??Zt();l(this,_,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Rt=function(t){nt.batch(()=>{var s,r,n,o,a,h,g,f;if(i(this,x)&&this.hasListeners()){const y=i(this,_).variables,m=i(this,_).context,O={client:i(this,M),meta:this.options.meta,mutationKey:this.options.mutationKey};if((t==null?void 0:t.type)==="success"){try{(r=(s=i(this,x)).onSuccess)==null||r.call(s,t.data,y,m,O)}catch(d){Promise.reject(d)}try{(o=(n=i(this,x)).onSettled)==null||o.call(n,t.data,null,y,m,O)}catch(d){Promise.reject(d)}}else if((t==null?void 0:t.type)==="error"){try{(h=(a=i(this,x)).onError)==null||h.call(a,t.error,y,m,O)}catch(d){Promise.reject(d)}try{(f=(g=i(this,x)).onSettled)==null||f.call(g,void 0,t.error,y,m,O)}catch(d){Promise.reject(d)}}}this.listeners.forEach(y=>{y(i(this,_))})})},Qt),$t=C.createContext(!1),qt=()=>C.useContext($t);$t.Provider;function te(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ee=C.createContext(te()),se=()=>C.useContext(ee),re=(e,t,s)=>{const r=s!=null&&s.state.error&&typeof e.throwOnError=="function"?St(e.throwOnError,[s.state.error,s]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},ie=e=>{C.useEffect(()=>{e.clearReset()},[e])},ne=({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(n&&e.data===void 0||St(s,[e.error,r])),ae=e=>{if(e.suspense){const s=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>s(r(...n)):s(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},oe=(e,t)=>e.isLoading&&e.isFetching&&!t,ce=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Ft=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function ue(e,t,s){var O,d,P,Y;const r=qt(),n=se(),o=kt(),a=o.defaultQueryOptions(e);(d=(O=o.getDefaultOptions().queries)==null?void 0:O._experimental_beforeQuery)==null||d.call(O,a);const h=o.getQueryCache().get(a.queryHash);a._optimisticResults=r?"isRestoring":"optimistic",ae(a),re(a,n,h),ie(n);const g=!o.getQueryCache().get(a.queryHash),[f]=C.useState(()=>new t(o,a)),y=f.getOptimisticResult(a),m=!r&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(D=>{const J=m?f.subscribe(nt.batchCalls(D)):rt;return f.updateResult(),J},[f,m]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),C.useEffect(()=>{f.setOptions(a)},[a,f]),ce(a,y))throw Ft(a,f,n);if(ne({result:y,errorResetBoundary:n,throwOnError:a.throwOnError,query:h,suspense:a.suspense}))throw y.error;if((Y=(P=o.getDefaultOptions().queries)==null?void 0:P._experimental_afterQuery)==null||Y.call(P,a,y),a.experimental_prefetchInRender&&!lt&&oe(y,r)){const D=g?Ft(a,f,n):h==null?void 0:h.promise;D==null||D.catch(rt).finally(()=>{f.updateResult()})}return a.notifyOnChangeProps?y:f.trackResult(y)}function Fe(e,t){return ue(e,Vt)}function _e(e,t){const s=kt(),[r]=C.useState(()=>new Xt(s,e));C.useEffect(()=>{r.setOptions(e)},[r,e]);const n=C.useSyncExternalStore(C.useCallback(a=>r.subscribe(nt.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=C.useCallback((a,h)=>{r.mutate(a,h).catch(rt)},[r]);if(n.error&&St(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:o,mutateAsync:n.mutate}}function Wt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function he(e){const t=Wt(e).getDay();return t===0||t===6}const Pe=6048e5,Qe=864e5,At=6e4,zt=36e5;function _t(e){const t=Wt(e);return t.setHours(0,0,0,0),t}function le(e,t){const s=_t(e),r=_t(t);return+s==+r}function it(e,t){const r=me(e);let n;if(r.date){const g=ge(r.date,2);n=be(g.restDateString,g.year)}if(!n||isNaN(n.getTime()))return new Date(NaN);const o=n.getTime();let a=0,h;if(r.time&&(a=ye(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(h=ve(r.timezone),isNaN(h))return new Date(NaN)}else{const g=new Date(o+a),f=new Date(0);return f.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),f.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),f}return new Date(o+a+h)}const tt={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},fe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,de=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,pe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function me(e){const t={},s=e.split(tt.dateTimeDelimiter);let r;if(s.length>2)return t;if(/:/.test(s[0])?r=s[0]:(t.date=s[0],r=s[1],tt.timeZoneDelimiter.test(t.date)&&(t.date=e.split(tt.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const n=tt.timezone.exec(r);n?(t.time=r.replace(n[1],""),t.timezone=n[1]):t.time=r}return t}function ge(e,t){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(s);if(!r)return{year:NaN,restDateString:""};const n=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?n:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function be(e,t){if(t===null)return new Date(NaN);const s=e.match(fe);if(!s)return new Date(NaN);const r=!!s[4],n=B(s[1]),o=B(s[2])-1,a=B(s[3]),h=B(s[4]),g=B(s[5])-1;if(r)return Oe(t,h,g)?Re(t,h,g):new Date(NaN);{const f=new Date(0);return!Ce(t,o,a)||!De(t,n)?new Date(NaN):(f.setUTCFullYear(t,o,Math.max(n,a)),f)}}function B(e){return e?parseInt(e):1}function ye(e){const t=e.match(de);if(!t)return NaN;const s=ht(t[1]),r=ht(t[2]),n=ht(t[3]);return we(s,r,n)?s*zt+r*At+n*1e3:NaN}function ht(e){return e&&parseFloat(e.replace(",","."))||0}function ve(e){if(e==="Z")return 0;const t=e.match(pe);if(!t)return 0;const s=t[1]==="+"?-1:1,r=parseInt(t[2]),n=t[3]&&parseInt(t[3])||0;return Te(r,n)?s*(r*zt+n*At):NaN}function Re(e,t,s){const r=new Date(0);r.setUTCFullYear(e,0,4);const n=r.getUTCDay()||7,o=(t-1)*7+s+1-n;return r.setUTCDate(r.getUTCDate()+o),r}const Se=[31,null,31,30,31,30,31,31,30,31,30,31];function Yt(e){return e%400===0||e%4===0&&e%100!==0}function Ce(e,t,s){return t>=0&&t<=11&&s>=1&&s<=(Se[t]||(Yt(e)?29:28))}function De(e,t){return t>=1&&t<=(Yt(e)?366:365)}function Oe(e,t,s){return t>=1&&t<=53&&s>=0&&s<=6}function we(e,t,s){return e===24?t===0&&s===0:s>=0&&s<60&&t>=0&&t<60&&e>=0&&e<25}function Te(e,t){return t>=0&&t<=59}const Le=(e,t="$")=>{const r=Math.abs(e).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2});return`${e>=0?"+":"-"}${t}${r}`},ke=(e,t="$")=>{const s=Math.abs(e);let r;return s>=1e6?r=`${(s/1e6).toFixed(1)}M`:s>=1e3?r=`${(s/1e3).toFixed(1)}K`:r=s.toFixed(0),`${e>=0?"+":"-"}${t}${r}`},je=e=>(typeof e=="string"&&(e=it(e)),he(e)),$e=(e,t)=>(typeof e=="string"&&(e=it(e)),typeof t=="string"&&(t=it(t)),le(e,t)),Ee=(e,t)=>{const s=e+t;return s===0?0:Math.round(e/s*100)},Ie=e=>e.reduce((t,s)=>{const r=s.date;return t[r]||(t[r]=[]),t[r].push(s),t},{}),We=e=>{const t=Ie(e);return Object.entries(t).reduce((s,[r,n])=>(s[r]=n.reduce((o,a)=>o+a.amount,0),s),{})},Me=e=>{if(!e||e.length===0)return{totalPL:0,tradeCount:0,winCount:0,lossCount:0,winRate:0,avgWin:0,avgLoss:0};const t=e.reduce((a,h)=>a+h.amount,0),s=e.filter(a=>a.amount>0),r=e.filter(a=>a.amount<0),n=s.length>0?s.reduce((a,h)=>a+h.amount,0)/s.length:0,o=r.length>0?r.reduce((a,h)=>a+Math.abs(h.amount),0)/r.length:0;return{totalPL:t,tradeCount:e.length,winCount:s.length,lossCount:r.length,winRate:Ee(s.length,r.length),avgWin:n,avgLoss:o}},Ae=(e,t)=>Array.from({length:12},(r,n)=>n).map(r=>{const n=e.filter(o=>{const a=it(o.date);return a.getFullYear()===t&&a.getMonth()===r});return{month:r,...Me(n)}}),ze=()=>crypto.randomUUID();export{Pe as a,Le as b,Ae as c,Me as d,We as e,ke as f,ze as g,Ie as h,je as i,$e as j,_e as k,Qe as m,_t as s,Wt as t,Fe as u};
