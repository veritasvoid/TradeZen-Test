import{r as i,j as e,L as w,X as g}from"./index-BphPB1Ha.js";import{u as h,b as p,d as f,g as j}from"./useTags-DrVJuJ_W.js";import{P as c}from"./plus-CaUfIhTh.js";import{T as N}from"./trash-2-CCIk-7r_.js";const y=["ðŸŽ¯","ðŸš¨","ðŸ“Š","ðŸ’Ž","ðŸ”¥","âš¡","ðŸŽª","ðŸŽ¨","ðŸŽ­","ðŸŽ¬","ðŸŽª","ðŸŽ°","ðŸŽ²"],T=[{name:"Cyan",value:"#06b6d4"},{name:"Purple",value:"#8b5cf6"},{name:"Pink",value:"#ec4899"},{name:"Green",value:"#10b981"},{name:"Orange",value:"#f59e0b"},{name:"Red",value:"#ef4444"},{name:"Blue",value:"#3b82f6"},{name:"Yellow",value:"#eab308"}],O=()=>{const{data:r=[],isLoading:m}=h(),o=p(),b=f(),[v,t]=i.useState(!1),[s,l]=i.useState({name:"",emoji:"ðŸŽ¯",color:"#06b6d4"}),x=async a=>{a.preventDefault();const n={tagId:j(),name:s.name,emoji:s.emoji,color:s.color,order:r.length};try{await o.mutateAsync(n),l({name:"",emoji:"ðŸŽ¯",color:"#06b6d4"}),t(!1)}catch(d){alert("Failed to create tag: "+d.message)}},u=async(a,n)=>{if(confirm(`Delete "${n}" tag? This won't delete trades using this tag.`))try{await b.mutateAsync(a)}catch(d){alert("Failed to delete tag: "+d.message)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",style:{paddingTop:"100px"},children:e.jsxs("div",{className:"max-w-4xl mx-auto p-[1.5vw] space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-[1.9vw] font-black",children:"Strategy Tags"}),e.jsxs("button",{onClick:()=>t(!0),className:"flex items-center gap-[0.5vw] px-[1vw] py-[0.5vw] bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-[0.5vw] hover:shadow-lg transition-all font-semibold",children:[e.jsx(c,{size:20}),"New Tag"]})]}),m?e.jsx(w,{type:"skeleton-card"}):r.length===0?e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-sm rounded-[1vw] border border-slate-700/50 p-12 text-center",children:[e.jsx("div",{className:"text-6xl mb-[1vw]",children:"ðŸ·ï¸"}),e.jsx("h3",{className:"text-[1.25vw] font-bold mb-[0.5vw]",children:"No Tags Yet"}),e.jsx("p",{className:"text-slate-400 mb-[1.5vw]",children:"Create strategy tags to categorize your trades"}),e.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center gap-[0.5vw] px-[1.5vw] py-[0.75vw] bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-[0.5vw] hover:shadow-lg transition-all font-semibold",children:[e.jsx(c,{size:20}),"Create Your First Tag"]})]}):e.jsx("div",{className:"space-y-3",children:r.map(a=>e.jsx("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-sm rounded-[1vw] border border-slate-700/50 p-[1.5vw] hover:border-slate-600/50 transition-all group",children:e.jsxs("div",{className:"flex items-center gap-[1vw]",children:[e.jsx("span",{className:"text-5xl",children:a.emoji}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-[1.5vw] font-bold mb-[0.25vw]",style:{color:a.color},children:a.name}),e.jsxs("div",{className:"text-[0.65vw] text-slate-500",children:["Tag ID: ",a.tagId]})]}),e.jsx("div",{className:"w-12 h-12 rounded-full shadow-lg",style:{backgroundColor:a.color}}),e.jsx("button",{onClick:()=>u(a.tagId,a.name),className:"opacity-0 group-hover:opacity-100 p-[0.5vw] bg-red-600 hover:bg-red-700 text-white rounded-[0.5vw] transition-all",children:e.jsx(N,{size:20})})]})},a.tagId))}),v&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-[1vw]",children:e.jsxs("div",{className:"bg-slate-900 rounded-[1vw] border border-slate-700 max-w-md w-full p-[1.5vw]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-[1.5vw]",children:[e.jsx("h3",{className:"text-[1.5vw] font-black",children:"New Strategy Tag"}),e.jsx("button",{onClick:()=>t(!1),className:"p-[0.5vw] hover:bg-slate-800 rounded-[0.5vw] transition-all",children:e.jsx(g,{size:20})})]}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[0.85vw] font-semibold text-slate-400 mb-[0.5vw]",children:"Tag Name"}),e.jsx("input",{type:"text",value:s.name,onChange:a=>l({...s,name:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-[0.5vw] px-[1vw] py-[0.75vw] focus:border-blue-500 focus:outline-none",placeholder:"e.g., EMA Retest, Break & Retest",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[0.85vw] font-semibold text-slate-400 mb-[0.5vw]",children:"Emoji"}),e.jsx("div",{className:"grid grid-cols-6 gap-[0.5vw]",children:y.map(a=>e.jsx("button",{type:"button",onClick:()=>l({...s,emoji:a}),className:`text-[1.9vw] p-[0.5vw] rounded-[0.5vw] border-2 transition-all ${s.emoji===a?"border-blue-500 bg-blue-900/30":"border-slate-700 hover:border-slate-600"}`,children:a},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[0.85vw] font-semibold text-slate-400 mb-[0.5vw]",children:"Color"}),e.jsx("div",{className:"grid grid-cols-4 gap-[0.5vw]",children:T.map(a=>e.jsx("button",{type:"button",onClick:()=>l({...s,color:a.value}),className:`p-[0.75vw] rounded-[0.5vw] border-2 transition-all ${s.color===a.value?"border-white":"border-transparent"}`,style:{backgroundColor:a.value},children:e.jsx("span",{className:"text-[0.65vw] font-bold text-white",children:a.name})},a.value))})]}),e.jsxs("div",{className:"flex gap-[0.75vw] pt-4",children:[e.jsx("button",{type:"button",onClick:()=>t(!1),className:"flex-1 px-[1vw] py-[0.75vw] bg-slate-800 hover:bg-slate-700 rounded-[0.5vw] transition-all font-semibold",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!s.name||o.isLoading,className:"flex-1 px-[1vw] py-[0.75vw] bg-gradient-to-r from-blue-600 to-purple-600 hover:shadow-lg rounded-[0.5vw] transition-all font-semibold disabled:opacity-50",children:o.isLoading?"Creating...":"Create Tag"})]})]})]})})]})})};export{O as default};
